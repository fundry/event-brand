(window.driftWebpackJsonp=window.driftWebpackJsonp||[]).push([[17],{1518:function(e,t,n){"use strict";n.r(t);var a,r=n(156),o=n.n(r),s=n(144),i=n.n(s),c=n(199),l=n.n(c),u=n(198),d=n.n(u),p=n(197),m=n.n(p),h=n(11),g=n.n(h),f=n(15),v=n.n(f),b=n(1525),y=n.n(b),C=n(57),E=n(249),T=n(423),P=n.n(T),k=n(1922),w=n(1913),I=n(1680),M=n(1807),O=n(1801),S=n(1788),N=n(1785),_=n(78),A=n(45),j=n(17),B=n(1),x=n(7),R=n(145),F=n(1784),D=n.n(F),L=(a={},g()(a,B.h,w.a),g()(a,B.Ha,k.a),g()(a,B.Ja,M.a),g()(a,B.Ka,O.a),g()(a,B.La,S.a),g()(a,B.Ia,N.a),a),H=function(e){var t=e.children,n=e.onCloseClick,a=e.theme,r=e.hasWidgetHalfHeight,o=e.isEmbeddedMessenger;return v.a.createElement("div",{className:P()(o?D.a.MessengerEmbedded:a.widgetHalfHeight||Object(R.b)()?D.a.MessengerHalfHeight:D.a.Messenger)},v.a.createElement("div",{className:"messenger-content"},!o&&v.a.createElement(I.a,{onCloseButtonClicked:n,theme:a,hasWidgetHalfHeight:r}),t))};H.propTypes={children:f.PropTypes.node,onCloseClick:f.PropTypes.func,theme:f.PropTypes.shape({backgroundColor:f.PropTypes.string,foregroundColor:f.PropTypes.string,textColor:f.PropTypes.string,activeColor:f.PropTypes.string,widgetBackgroundColor:f.PropTypes.string,widgetHalfHeight:f.PropTypes.bool}),organizationName:f.PropTypes.string,hasWidgetHalfHeight:f.PropTypes.bool},H.displayName="Messenger";var U=function(e){function t(){var e,n,a,r;i()(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=d()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(c))),a.handleCloseClick=function(){a.props.actions.closeSidebarWithTween(),setTimeout(a.props.actions.closeSidebar,200)},a.getView=function(){var e=a.props,t=e.view,n=e.isAway;return e.isEmbeddedMessenger?L[B.h]:t===B.Ja&&n?L[B.Ka]:L[t]},r=n,d()(a,r)}return m()(t,e),l()(t,[{key:"renderMessenger",value:function(){var e=this.getView(),t=this.props,n=t.theme,a=t.isEmbeddedMessenger,r=t.organizationName;return v.a.createElement(H,{onCloseClick:this.handleCloseClick,theme:n,hasWidgetHalfHeight:n.widgetHalfHeight,isEmbeddedMessenger:a},v.a.createElement(e,{organizationName:r,theme:n}))}},{key:"render",value:function(){var e=this.props,t=e.sidebarOpen;return e.isEmbeddedMessenger?this.renderMessenger():t&&v.a.createElement(y.a,{className:D.a.Messenger__container,transitionName:"messengerSlide",transitionAppear:!0,transitionAppearTimeout:200,transitionEnterTimeout:200,transitionLeaveTimeout:200},this.renderMessenger())}}]),t}(f.Component);U.propTypes={view:f.PropTypes.oneOf([B.h,B.Ha,B.Ja,B.Ka,B.La,B.Ia]),sidebarOpen:v.a.PropTypes.bool,isAway:f.PropTypes.bool,actions:f.PropTypes.shape({closeSidebar:f.PropTypes.func,closeSidebarWithTween:f.PropTypes.func}),theme:f.PropTypes.shape({backgroundColor:f.PropTypes.string,foregroundColor:f.PropTypes.string,textColor:f.PropTypes.string,activeColor:f.PropTypes.string,widgetBackgroundColor:f.PropTypes.string,widgetHalfHeight:f.PropTypes.bool})};t.default=Object(E.b)(function(e){return{view:A.e(e),sidebarOpen:A.r(e),isAway:!Object(x.t)(e),theme:Object(j.t)(e),isEmbeddedMessenger:A.h(e),organizationName:Object(j.p)(e)}},function(e){return{actions:Object(C.b)({closeSidebar:_.closeSidebar,closeSidebarWithTween:_.closeSidebarWithTween},e)}})(U)},1522:function(e,t,n){"use strict";var a=n(249),r=n(294),o=n.n(r),s=n(513),i=n(7);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["foregroundColor","backgroundColor","activeColor","textColor"];return Object(a.b)(o()(function(e){return function(t){return Object(s.a)(t,e)}}(e),i.B),function(){return{}})}},1523:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(4),s=n.n(o),i=n(423),c=n.n(i),l=n(33),u=n(1519),d=n.n(u),p=n(249),m=n(57),h=n(1534),g=n.n(h),f=n(294),v=n.n(f),b=n(25),y=n(45),C=n(10),E=n(7),T=n(1530),P=n.n(T),k=n(178),w=n(1529),I=n.n(w),M="rgb(154, 154, 154)",O="rgb(9, 96, 197)";t.a=v()(Object(p.b)(function(e){return{utmSource:e.Targeting.page.hostname,isEmbeddedMessenger:Object(y.h)(e),orgId:Object(E.w)(e)}},function(e){return{actions:Object(m.b)({trackClick:b.e},e)}}),g()({onClick:function(e){return function(t){t.stopPropagation(),e.actions.trackClick({view:e.utmContent,ctaType:"branding"})}}}))(function(t){var n=t.className,a=t.message,o=void 0===a?k.a.poweredBy:a,i=t.utmContent,u=t.utmSource,p=void 0===u?"widget":u,m=t.onClick,h=t.isEmbeddedMessenger,g=t.orgId,f=t.colorMode,v={utm_source:p,utm_medium:"web-widget",utm_campaign:"widget-referral",utm_content:i},b=e.createElement("span",null,e.createElement("span",{className:I.a.SROnly},"powered"),e.createElement("span",{"aria-hidden":"true"},e.createElement(d.a,{className:I.a.BoltIcon,src:P.a}))),y=g>1?"?"+Object(C.c)(v):"",E=e.createElement("div",{className:I.a.Drift},e.createElement("span",{className:I.a.Drift},"Drift")),T=e.createElement(l.b,s()({},o,{values:{bolt:b,drift:E}}));return e.createElement("a",{onFocus:function(e){e.target.style.color=h?"#ffffff":O},onBlur:function(e){e.target.style.color=h?"rgba(255,255,255,0.8)":M},className:c()("flex",I.a.Branding,n,{floating:h},r()({},I.a.BrandingLight,"LIGHT"===f||"VIDEO"===f)),href:"https://www.drift.com/powered-by"+y,target:"_blank",onClick:m},T)})}).call(this,n(15))},1524:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n(200),r=n.n(a),o=n(4),s=n.n(o),i=n(15),c=n(33),l=Object(c.h)({composerPlaceholder:{id:"app.composer.placeholder",description:"Placeholder text in the Composer",defaultMessage:"Type your message…"},composerLeaveMessageForPlaceholder:{id:"app.composer.leaveMessageForPlaceholder",description:"Placeholder text displayed in existing conversations when offline",defaultMessage:"Leave a message for {name}"},composerLeaveMessagePlaceholder:{id:"app.composer.leaveMessagePlaceholder",description:"Placeholder text displayed in new conversations when offline",defaultMessage:"Leave a message…"},composerReplyToPlaceholder:{id:"app.composer.replyToPlaceholder",description:"Placeholder text displayed in existing conversations",defaultMessage:"Reply to {name}"},composerLeaveMessage:{id:"app.composer.leaveMessage",description:"Action button to leave a message",defaultMessage:"Leave Message"},composerSendMessage:{id:"app.composer.sendMessage",description:"Action button to send a message",defaultMessage:"Send Message"},composerDisabledForConversation:{id:"app.composer.disabledForConversation",description:"Disabled composer prompt forever for this conversation",defaultMessage:"Cannot respond to this conversation"},composerDisabledUseButtons:{id:"app.composer.disabledUseButtons",description:"Disabled composer prompt to point the user at buttons",defaultMessage:"Choose an option above..."},composerBrandingChatWith:{id:"app.composer.footer.chatWith",description:"Alternate branding with simple chat prompt",defaultMessage:"Chat with {orgName}"},returnKey:{id:"system.key.return",description:"The return key on the keyboard",defaultMessage:"return"},enterKey:{id:"system.key.enter",description:"The enter key on the keyboard",defaultMessage:"enter"},sendKeyHint:{id:"app.composer.sendKeyHint",description:"Hint text for sending messages by hitting the return/enter key",defaultMessage:"{key} to send"}});function u(t){var n=function(n){var a=n.intl,o=n.conversationLastDriftUser,i=n.isAway,c=n.disabled,u=n.disabledPrompt,d=n.isConversationPermaclosed,p=n.placeholder,m=r()(n,["intl","conversationLastDriftUser","isAway","disabled","disabledPrompt","isConversationPermaclosed","placeholder"]),h=p;return h=d?a.formatMessage(l.composerDisabledForConversation):c&&u?a.formatMessage(l.composerDisabledUseButtons):o&&o.name?i?a.formatMessage(l.composerLeaveMessageForPlaceholder,{name:o.name}):a.formatMessage(l.composerReplyToPlaceholder,{name:o.name}):i?a.formatMessage(l.composerLeaveMessagePlaceholder):a.formatMessage(l.composerPlaceholder),e.createElement(t,s()({placeholder:h,isAway:i,disabled:c,disabledPrompt:u},m))};return n.propTypes={intl:c.j.isRequired},Object(c.i)(n)}i.PropTypes.bool.isRequired}).call(this,n(15))},1526:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e5;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e<=t},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e>=t},o={ONLINE:"online",OFFLINE:"offline",LAST_ACTIVE:"lastActive"},s=function(e){var t=e.lastActivityAt;return r(t)?o.OFFLINE:a(t)?o.ONLINE:o.LAST_ACTIVE}},1527:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(423),f=n.n(g),v=n(1545),b=n(66),y=n.n(b),C=n(249),E=n(57),T=n(146),P=n(179),k=n(227),w=n(1526),I=n(1544),M=n.n(I),O=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusFetched,n=e.user;n&&n.id&&(t||this.props.actions.fetchAgentStatus(n.id))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.lastActivityAt,a=e.hideOfflineStatus,r=void 0!==a&&a,o=e.largePresenceDot,s=void 0!==o&&o,i=Object(w.b)({lastActivityAt:n}),c=f()(M.a["presence-dot-outer"],{online:i===w.a.ONLINE,offline:i!==w.a.ONLINE,hidden:i!==w.a.ONLINE&&r,small:!s,large:s});return h.a.createElement("div",{className:c,style:t},h.a.createElement("div",{className:M.a["presence-dot-inner"]}))}}]),t}(h.a.Component);O.propTypes={fetchAgentStatus:y.a.func,user:y.a.object,style:y.a.shape({backgroundColor:y.a.string}),availability:y.a.oneOf([k.b.AVAILABLE,k.b.OFFLINE,k.b.ON_CALL]),lastActivityAt:y.a.number,largePresenceDot:y.a.bool};var S=Object(C.b)(function(e,t){var n=Object(T.a)(e,{agentId:t.user.id});return{availability:n.availability,lastActivityAt:n.lastActivityAt,statusFetched:n.fetched}},function(e){return{actions:Object(E.b)({fetchAgentStatus:P.a},e)}})(O),N=n(1542),_=n.n(N),A=n(1541),j=n.n(A);function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attributes,n=e.socialProfile,a=!!t&&(t.get?t.get("avatar_url",!1):t.avatar_url),r=!!n&&(n.get?n.get("avatar",!1):n.avatar);return e.avatars&&e.avatars.image200||e.avatarUrl||a||r}function x(e){return!!B(e)}n.d(t,"b",function(){return x});var R=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"renderUserImage",value:function(e){if(!e)return null;var t=B(e);return t?h.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+t+"), url("+_.a+")"}}):void 0}},{key:"renderUserInitials",value:function(e){var t=this.props.showInitials,n=Object(v.getInitials)(e);if(t&&n)return h.a.createElement("div",{className:"default"},h.a.createElement("div",{className:f()("initials",{endUser:!!e.socialProfile})},n))}},{key:"renderDefaultAvatar",value:function(){return h.a.createElement("img",{className:"default-avatar",src:_.a})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.shape,a=e.size,r=e.style,o=e.selected,s=e.showPresence,i=e.color,c=e.ariaLabel,l=void 0===c?"Avatar image":c,u=e.ariaHidden,d=void 0===u?"false":u,p=e.hideOfflineStatus,m=void 0!==p&&p,g=e.largePresenceDot,v=void 0!==g&&g,b=this.renderUserImage(t),y=this.renderUserInitials(t),C=f()("Avatar",j.a[n],a,{selected:o,default:!b});return h.a.createElement("div",{className:C,style:r,role:"img","aria-hidden":d,"aria-label":l},b||(y||this.renderDefaultAvatar()),s&&h.a.createElement(S,{largePresenceDot:v,user:t,hideOfflineStatus:m,style:{backgroundColor:r&&r.borderColor||i}}))}}]),t}(m.Component);R.propTypes={user:m.PropTypes.object,size:m.PropTypes.oneOf(["extra-small","small","medium","large","extra-large","jumbo"]),shape:m.PropTypes.oneOf(["circle","square"]),showInitials:m.PropTypes.bool,style:m.PropTypes.object,selected:m.PropTypes.bool,largePresenceDot:m.PropTypes.bool},R.defaultProps={showInitials:!1,shape:"square"};t.a=R},1529:function(e,t,n){e.exports={Branding:"_3RTrQ3IDR23myw-Pih9iTm",Drift:"_2DnvFT67sVeWYiwhwHqUWR",BrandingLight:"_2rtHuPAvI-WQ_jSCIE91Mz",BoltIcon:"_2-Nax0W7eNYVpRQlg-K1Ud",SROnly:"VKsDPw3lGyZWHZWhQ7Yfh"}},1530:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.15 12.64"><g data-name="Layer 2"><g data-name="Layer 1"><path fill="#fcf4a0" d="M6.58.75L.75 7.06h3.54l-1.95 4.83L8.4 5.24H4.57L6.58.75z"></path><path d="M6.58.75l-2 4.49H8.4l-6.06 6.65 2-4.83H.75L6.58.75m0-.75a.67.67 0 0 0-.37.11.65.65 0 0 0-.21.13L.2 6.55a.75.75 0 0 0 .55 1.26h2.43l-1.54 3.8a.76.76 0 0 0 .3.92.8.8 0 0 0 .4.11.74.74 0 0 0 .55-.24L9 5.75a.75.75 0 0 0-.6-1.26H5.73L7.24 1.1a.68.68 0 0 0 .09-.35.75.75 0 0 0-.74-.75zm0 1.5z" fill="#f4a51f"></path></g></g></svg>'},1532:function(e,t){e.exports='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M9.502 8.5l7.29 7.29c.277.278.277.727 0 1.003-.137.138-.32.207-.5.207s-.362-.07-.5-.207L8.5 9.503l-7.29 7.29c-.14.138-.32.207-.5.207-.183 0-.364-.07-.502-.207-.277-.276-.277-.725 0-1.002l7.29-7.29-7.29-7.29C-.07.932-.07.483.208.206c.277-.276.725-.276 1 0L8.5 7.497l7.29-7.29c.277-.276.725-.276 1.002 0 .277.277.277.726 0 1.002L9.502 8.5z" fill-rule="evenodd"></path></svg>'},1533:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(1675),o=n.n(r),s=n(1639),i=n(423),c=n.n(i);function l(t){var n=t.delay,a=t.color,r=t.size;return e.createElement("div",{className:c()(o.a.Loading,"delay-"+n,r),style:{backgroundColor:a}})}function u(t){var n=t.className,a=t.style,r=t.color,o=t.numDots,i=t.size,u=t.accessibleText;return e.createElement("div",{className:c()("flex-center",n),style:a},Object(s.a)(o).map(function(t){return e.createElement(l,{key:t,size:i,delay:t+1,color:r})}),e.createElement("div",{className:"hidden-text"},u))}u.propTypes={color:a.PropTypes.string,numDots:a.PropTypes.number,size:a.PropTypes.oneOf(["extra-small","small","medium","large","extra-large"]),className:a.PropTypes.string,style:a.PropTypes.object},u.defaultProps={size:"medium",color:"white",numDots:3},t.a=u}).call(this,n(15))},1536:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(1527),o=n(1579),s=function(t){var n=t.user,a=t.color,s=t.shape,i=t.size,c=t.style,l=t.ariaHidden,u=t.showInitials,d=t.showPresence,p=t.hideOfflineStatus,m=void 0!==p&&p,h=t.largePresenceDot,g=void 0!==h&&h;if(n&&n.bot&&!n.avatarUrl){var f="square"===s?"rect":s;return e.createElement(o.a,{className:"Avatar",type:f,color:a,style:c,ariaHidden:l})}return e.createElement(r.a,{user:n,largePresenceDot:g,hideOfflineStatus:m,size:i,shape:s,style:c,color:a,ariaHidden:l,showInitials:u,showPresence:d})};s.displayName="AvatarOrBotAvatar",s.propTypes={user:a.PropTypes.object,color:a.PropTypes.string,shape:a.PropTypes.oneOf(["circle","square"]),size:a.PropTypes.oneOf(["small","medium","large","extra-large","jumbo"]),style:a.PropTypes.object},s.defaultProps={shape:"circle",size:"small"},t.a=s}).call(this,n(15))},1537:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(198),u=n.n(l),d=n(199),p=n.n(d),m=n(197),h=n.n(m),g=n(249),f=n(57),v=n(423),b=n.n(v),y=n(1548),C=n.n(y),E=n(1577),T=n(1525),P=n.n(T),k=n(1523),w=n(1576),I=n(1572),M=n(1569),O=n(1565),S=n(1564),N=n(294),_=n.n(N),A=n(1522),j=n(67),B=n(17),x=n(106),R=n(5),F=n(7),D=n(45),L=n(203),H=n(1617),U=n.n(H),z=n(1524),V=n(1549),q=n(145),W=n(78),Z=n(9),G=n(1559),K=n.n(G),Y=n(1557),J=n.n(Y),Q=e,X=Q.Component,$=Q.PropTypes,ee=function(t){function n(e){c()(this,n);var t=u()(this,(n.__proto__||s()(n)).call(this,e));return t.getShouldRenderEnterPrompt=function(){return t.state.input.trim().length>0},t.onKeyDown=function(e){13!=e.which&&13!=e.keyCode||e.shiftKey||t.handleSubmit(e)},t.handleInputChange=function(e){var n=e.target.value;return t.setState({input:n}),t.props.onChange&&t.props.onChange(n)},t.isEmbeddedMessengerWithoutContent=function(){return t.props.isEmbeddedMessenger&&!t.props.hasContent},t.handleFocus=function(){if(t.setState({focus:!0,emojiDrawerActive:!1}),t.props.actions.bootstrapEndUser(),Object(q.c)()&&!t.isEmbeddedMessengerWithoutContent()){var e=setInterval(function(){window.parent.postMessage({type:"requestHeight"},"*")},200);setTimeout(function(){return clearInterval(e)},2e3)}return t.props.onFocus&&t.props.onFocus()},t.handleBlur=function(){return t.setState({focus:!1}),Object(q.c)()&&t.props.actions.iframeOverrideSize({height:"100%"}),t.props.onBlur&&t.props.onBlur()},t.handleComposerMouseDown=function(e){return"function"==typeof t.props.onInputMouseDown?t.props.onInputMouseDown(e):void 0},t.handleAttachmentIconClick=function(){return t.dropZone.open()},t.handleEmojiMenuButtonClick=function(){return t.setState(function(e){return{emojiDrawerActive:!e.emojiDrawerActive}})},t.handleEmojiSelect=function(e){return t.setState(function(t){var n=t.input+" "+e.native+" ";return this.textarea.value=n,{emojiDrawerActive:!1,input:n}})},t.handleSubmit=function(e){if(e.preventDefault(),!t.props.disabled){var n=t.textarea.value.trim();return n&&"success"===t.props.connectionStatus?(t.setState({input:"",emojiDrawerActive:!1}),t.textarea.value="",t.props.onSubmit&&t.props.onSubmit(Object(E.a)(n))):void 0}},t.state={input:"",focus:!1,emojiDrawerActive:!1},t}return h()(n,t),p()(n,null,[{key:"initClass",value:function(){this.propTypes={onSubmit:$.func,onChange:$.func,onFocus:$.func,onInputMouseDown:$.func,onUploadAttachment:$.func,conversation:$.object,conversationLastDriftUser:$.object,placeholder:$.string,activeColor:$.string,showBranding:$.bool,hasActiveBorderOnFocus:$.bool,isAway:$.bool,size:$.oneOf(["medium","large"]),variant:$.oneOf(["regular","minimal"]),minRows:$.number,maxRows:$.number,autoFocus:$.bool,disabled:$.bool,disabledPrompt:$.bool,connectionStatus:$.oneOf(["pending","failure","success"]).isRequired,actions:$.shape({bootstrapEndUser:$.func.isRequired}).isRequired},this.defaultProps={showBranding:!0,isAway:!1,size:"large",variant:"regular",autoFocus:!Object(q.b)(),disabled:!1,disabledPrompt:!1,minRows:1,maxRows:5,hasActiveBorderOnFocus:!0}}}]),p()(n,[{key:"shouldRenderActiveComposerBorderColor",value:function(){return this.props.hasActiveBorderOnFocus&&this.state.focus&&!this.props.disabled&&!this.props.isEmbeddedMessenger}},{key:"renderBranding",value:function(){return e.createElement("div",{key:"branding",className:b()("flex",this.props.variant,K.a.Branding)},e.createElement(k.a,{utmContent:this.props.utmContent,colorMode:this.props.colorMode}))}},{key:"renderEnterPrompt",value:function(){var t=this.props,n=t.connectionStatus,a=t.activeColor,r=t.isAway,o=t.isEmbeddedMessenger;if(!o||!Object(q.d)())return"success"===n&&o?e.createElement("div",{key:"enter-prompt",className:b()("new-enter-prompt",{"new-enter-prompt-clp":o})},e.createElement("button",{className:b()("send-button",{"send-button-clp":o}),onClick:this.handleSubmit},e.createElement("img",{src:J.a}))):e.createElement("div",{key:"enter-prompt",className:"enter-prompt"},"success"===n&&e.createElement(S.a,{color:a,onClick:this.handleSubmit,isAway:r}),"success"!==n&&e.createElement(O.a,{style:{marginTop:"2px",display:"flex"}}))}},{key:"renderPrivacyFooter",value:function(){var t=Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyLink"),n=Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyLinkText");return e.createElement("div",{className:"privacy-footer"},e.createElement("a",{href:t,target:"_blank",className:b()("privacy-footer-link",{"privacy-footer-link-light":"LIGHT"===this.props.colorMode}),rel:"noopener noreferrer"},n||"Privacy Policy"))}},{key:"renderComposer",value:function(){var t,n,a,o=this,s=this.props.isEmbeddedMessenger?"floating":"default",i=Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyLink");return e.createElement("div",{className:b()("Composer",this.props.variant,s,(t={},r()(t,K.a.hasActiveBorderOnFocus,this.props.hasActiveBorderOnFocus),r()(t,"disabled",this.props.disabled&&this.props.disabledPrompt),r()(t,"mobile",Object(q.d)()),t)),style:{borderTopColor:this.shouldRenderActiveComposerBorderColor()?""+this.props.activeColor:void 0}},null!=this.props.conversation&&this.props.allowFileUpload&&e.createElement(V.a,{uploadNewFile:this.handleAttachmentIconClick}),e.createElement("div",{className:"flex-column"},e.createElement("div",{className:"enter-to-send"},e.createElement("div",{className:b()(K.a["Floating-label"],(n={},r()(n,K.a["Floating-label-active"],this.state.focus||this.textarea&&this.textarea.value),r()(n,K.a["Floating-label-light"],"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode),r()(n,K.a["Floating-label-disabled"],this.props.disabled),n)),ref:function(e){return o.floatingLabel=e}},this.props.placeholder),e.createElement("div",{className:"composer-container"},e.createElement(C.a,{ref:function(e){return o.textarea=e},"aria-label":this.props.placeholder,className:b()(K.a["Composer-textarea"],(a={},r()(a,K.a["Composer-textarea-light"],"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode),r()(a,K.a["Composer-textarea-video"],"VIDEO"===this.props.colorMode),r()(a,this.props.size,!this.props.isEmbeddedMessenger),a)),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.props.maxRows,tabIndex:1e3,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown,onKeyDown:this.onKeyDown}),!!Object(q.b)()&&this.getShouldRenderEnterPrompt()&&e.createElement("div",{className:"inline-send-button",onClick:this.handleSubmit},e.createElement("img",{src:J.a})))),e.createElement("div",{className:K.a["Composer-footer"]},e.createElement(w.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:null!=this.props.conversation&&!Object(q.b)(),disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive,colorMode:this.props.colorMode}),e.createElement("div",{className:"footer"},e.createElement(P.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),!this.getShouldRenderEnterPrompt()&&this.props.showBranding&&!this.props.driftVideoMode&&this.renderBranding())),e.createElement("div",null,e.createElement(P.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150}),(Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyAlwaysOn")||this.props.isEmbeddedMessenger)&&i&&this.renderPrivacyFooter()),e.createElement(I.a,{isOpen:this.state.emojiDrawerActive},e.createElement(M.a,{onSelect:this.handleEmojiSelect}))))}},{key:"renderInlineMobileComposer",value:function(){var t=this,n=Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyLink");return e.createElement("div",{className:b()("Composer","InlineMobileComposer",{disabled:this.props.disabled&&this.props.disabledPrompt})},null!=this.props.conversation&&this.props.allowFileUpload&&e.createElement(V.a,{uploadNewFile:this.handleAttachmentIconClick}),e.createElement("div",{className:"enter-to-send-mobile"},e.createElement(w.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:!1,disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive,colorMode:this.props.colorMode}),e.createElement(C.a,{ref:function(e){return t.textarea=e},"aria-label":this.props.placeholder,className:b()(K.a["Composer-textarea"]),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.state.input?3:1,tabIndex:1e3,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder}),this.getShouldRenderEnterPrompt()&&e.createElement("div",{className:"inline-send-button",onClick:this.handleSubmit},e.createElement("img",{src:J.a})),!this.getShouldRenderEnterPrompt()&&this.props.showBranding&&this.renderBranding()),!this.state.focus&&(Object(Z.a)(this.props,"currentConsentPolicy.privacyPolicyAlwaysOn")||this.props.isEmbeddedMessenger)&&n&&this.renderPrivacyFooter())}},{key:"render",value:function(){var t=this;return null!=this.props.conversation&&this.props.allowFileUpload?e.createElement(U.a,{ref:function(e){return t.dropZone=e},className:b()(K.a["Composer-dropzone"],{floating:this.props.isEmbeddedMessenger,mobile:Object(q.d)()}),activeClassName:"active",activeStyle:{backgroundColor:Object(L.d)(this.props.activeColor,.05)},disableClick:!0,disablePreview:!0,onDrop:this.props.onUploadAttachment,style:this.props.isEmbeddedMessenger&&!Object(q.d)()?this.props.continuousBackgroundGradient:null},Object(q.b)()&&!this.isEmbeddedMessengerWithoutContent()?this.renderInlineMobileComposer():this.renderComposer()):e.createElement("div",{className:b()(K.a["Composer-container"],{floating:this.props.isEmbeddedMessenger,mobile:Object(q.d)()})},Object(q.b)()&&!this.isEmbeddedMessengerWithoutContent()?this.renderInlineMobileComposer():this.renderComposer())}}]),n}(X);ee.initClass();t.a=_()(z.a,Object(A.a)(["activeColor"]),Object(g.b)(function(e){return{currentConsentPolicy:x.d(e),showBranding:Object(B.s)(e),connectionStatus:Object(R.h)(e),isAway:!Object(F.t)(e),allowFileUpload:Object(B.b)(e),isEmbeddedMessenger:Object(D.h)(e),continuousBackgroundGradient:Object(D.d)(e),colorMode:Object(D.c)(e),hasContent:Object(D.j)(e),driftVideoMode:Object(F.s)(e)}},function(e){return{actions:Object(f.b)({bootstrapEndUser:j.a,iframeOverrideSize:W.iframeOverrideSize},e)}}))(ee)}).call(this,n(15))},1541:function(e,t,n){e.exports={circle:"_1fEBx2KRkQUavBCrS_OMEa",square:"DU-KE6hDXcBHdL-oXZxlK"}},1542:function(e,t,n){e.exports=n.p+"static/images/44969b53e9b2db079b34fc4c3c412e93.svg"},1544:function(e,t,n){e.exports={"presence-dot-outer":"_1JJtrhrGgcrA5hsaqyEe2S","presence-dot-inner":"_2tlfBfkADIKTI8up5MDhaE"}},1545:function(e,t){var n=function(e){return!!e.socialProfile},a=function(e){return n(e)&&"LEAD"==e.type},r=function(e){if(!e)return"";var t=e.name||e.email;return t||(a(e)?"Site Visitor":e.externalId)};e.exports={isEndUser:n,isLeadEndUser:a,getDisplayName:r,getInitials:function(e){if(e){var t=r(e);if(t)return function(e){return e.replace(/\s+/g," ")}(function(e){return e.replace(/[.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"")}(t.trim())).split(" ").splice(0,3).reduce(function(e,t){return t?e+t.substring(0,1):e},"")}}}},1546:function(e,t){e.exports='<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M12.975.38c.014.043.02.087.024.132v.06c-.004.048-.014.095-.03.14-.006.017-.007.032-.014.046L7.252 12.692c-.09.19-.28.308-.49.308-.216-.002-.406-.127-.493-.32l-.537-3.41C5.56 8.18 4.55 7.1 3.478 6.86l-3.2-.72c-.18-.1-.287-.293-.277-.5.012-.206.138-.39.328-.47L12.248.04 12.3.026c.05-.015.098-.025.148-.026.02 0 .038 0 .058.003.046.004.09.013.132.028l.055.02c.056.027.11.06.154.107.053.053.085.11.11.168.008.018.013.036.018.055z" fill-rule="evenodd"></path></svg>'},1549:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(1519),f=n.n(g),v=n(1561),b=n(249),y=n(9),C=n(108),E=function(e){return Object(y.a)(e,["Attachment","status"])===C.d},T=n(1532),P=function(e){function t(e){s()(this,t);var n=u()(this,(t.__proto__||r()(t)).call(this,e));return n.renderMessage=function(){var e=n.props,t=e.isUploadInProgress,a=e.isUploadFailed,r=e.isSizeFailure,o=e.uploadNewFile;return t?h.a.createElement("div",{className:"attachment-upload-progress-message"},"Uploading attachment…"):a?h.a.createElement("div",{className:"attachment-upload-progress-message"},r?"Attachment upload failed because the file is larger than 25MB":"Attachment upload failed.",h.a.createElement("button",{className:"attachment-retry",onClick:o},"Upload new file")):void 0},n.renderActions=function(){return h.a.createElement("div",{className:"attachment-upload-progress-actions"},h.a.createElement("button",{className:"attachment-upload-progress-action dismiss",onClick:function(){return n.setState({dismissed:!0})}},h.a.createElement(f.a,{src:T})))},n.state={dismissed:!1},n}return p()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isUploadInProgress===e.isUploadInProgress&&this.props.fileUploadFailed===e.fileUploadFailed||this.setState({dismissed:!1})}},{key:"render",value:function(){var e=this.props,t=e.isUploadInProgress,n=e.isUploadFailed;return!t&&!n||this.state.dismissed?null:h.a.createElement("div",{className:v.AttachmentUploadProgress},h.a.createElement("div",{className:n?"attachment-upload-failed":"attachment-upload-progress"},this.renderMessage(),this.renderActions()))}}]),t}(m.Component);t.a=Object(b.b)(function(e){return{isUploadInProgress:function(e){return Object(y.a)(e,["Attachment","status"])===C.e}(e),isUploadFailed:E(e),isSizeFailure:function(e){return E&&"AttachmentSizeException"===Object(y.a)(e,["Attachment","error","responseData","message"])}(e)}})(P)},1550:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="21" height="5" viewBox="0 0 21 5"><g fill="currentColor" fill-rule="evenodd"><circle cx="18.5" cy="2.5" r="2.5"></circle><circle cx="10.5" cy="2.5" r="2.5"></circle><circle cx="2.5" cy="2.5" r="2.5"></circle></g></svg>'},1552:function(e,t,n){e.exports={AgentActiveStatus:"F8BjuMV7BFSkqlBwI0zsp",ActivityIndicatorBadge:"_2xyq5z-M5Zoyu1OUc0xl7y","ActivityIndicatorBadge--online":"_2pIZiAEgg1lTbfQP6IO1k_","ActivityIndicatorBadge--offline":"_3dMilNAfU68JO46DQ8_qXH"}},1553:function(e,t,n){"use strict";var a=n(33);t.a=Object(a.h)({userStatusOnline:{id:"app.user.status.online",description:"Indicates a user is currently online",defaultMessage:"online now"},userStatusActive:{id:"app.user.status.active",description:"Indicates when a user was last active",defaultMessage:"active {time}"},userStatusOffline:{id:"app.user.status.offline",description:"Indicates a user is currently offline",defaultMessage:"offline now"}})},1554:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n(4),r=n.n(a),o=n(15),s=n(33),i=(n(423),n(1553)),c=n(1552),l=n.n(c);o.PropTypes.string;var u=function(t){return e.createElement("div",{className:l.a.AgentActiveStatus,style:{color:t.foregroundColor}},t.children)};u.propTypes={children:o.PropTypes.node,foregroundColor:o.PropTypes.string};var d=function(t){var n=t.foregroundColor;return e.createElement(u,{foregroundColor:n},e.createElement(s.b,i.a.userStatusOnline))};d.propTypes={foregroundColor:o.PropTypes.string};var p=function(t){var n=t.time,a=t.foregroundColor;return e.createElement(u,{foregroundColor:a},e.createElement(s.b,r()({},i.a.userStatusActive,{values:{time:e.createElement(s.d,{value:n})}})))};p.propTypes={time:o.PropTypes.number.isRequired,foregroundColor:o.PropTypes.string};var m=function(t){var n=t.foregroundColor;return e.createElement(u,{foregroundColor:n},e.createElement(s.b,i.a.userStatusOffline))};m.propTypes={foregroundColor:o.PropTypes.string}}).call(this,n(15))},1555:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(15),s=n(249),i=n(227),c=n(1554),l=n(146),u=n(5),d=n(17),p=n(1526),m={availability:o.PropTypes.oneOf([i.b.AVAILABLE,i.b.OFFLINE,i.b.ON_CALL]),lastActivityAt:o.PropTypes.number,foregroundColor:o.PropTypes.string},h=function(t){var n=t.lastActivityAt,a=t.foregroundColor,r=t.showOfflineStatus,o=void 0===r||r,s=t.showActiveStatus,i=void 0===s||s,l=Object(p.b)({lastActivityAt:n});return l===p.a.OFFLINE?o?e.createElement(c.b,{foregroundColor:a}):null:l===p.a.ONLINE?e.createElement(c.c,{foregroundColor:a}):i?e.createElement(c.a,{time:n,foregroundColor:a}):null};h.propTypes=m;var g=function(t){var n=t.lastActivityAt,a=t.availability,r=t.foregroundColor,o=t.showOfflineStatus,s=void 0===o||o,l=t.showActiveStatus,u=void 0===l||l;return a===i.b.ON_CALL||Object(p.d)(n)?e.createElement(c.c,{foregroundColor:r}):Object(p.c)(n)?s?e.createElement(c.b,{foregroundColor:r}):null:u?e.createElement(c.a,{time:n,foregroundColor:r}):null};g.propTypes=m;var f=function(t){var n=t.hasCentralizedRouting,a=t.availability,o=t.theme;if(!a)return null;var s=o.foregroundColor;return n?e.createElement(h,r()({},t,{foregroundColor:s})):e.createElement(g,r()({},t,{foregroundColor:s}))};f.propTypes=r()({},m,{hasCentralizedRouting:o.PropTypes.bool});t.a=Object(s.b)(function(e,t){var n=Object(l.a)(e,t);return{availability:n.availability,lastActivityAt:n.lastActivityAt,hasCentralizedRouting:Object(u.C)(e),theme:Object(d.t)(e)}})(f)}).call(this,n(15))},1557:function(e,t,n){e.exports=n.p+"static/images/7587bb75abdae4f7425b8f0e0557b0ba.png"},1559:function(e,t,n){e.exports={"Floating-label":"_3BEIiQ9DCWq97rtRUktK9","Composer-textarea":"_1eY_aSnr3MDhZqacV8fugZ","Floating-label-active":"KqiU_toLJ3BghlE7F1xZd","Floating-label-disabled":"rz7WRW5UQD-n8-nrAseQL",hasActiveBorderOnFocus:"QThEDgEDT1-11mx5ScY8H","Composer-textarea-light":"_1vLATdq-ZiHEm-4LKJQ9P2","Composer-textarea-video":"_3EyjgxzH98m8hdxNEowWY1","Floating-label-light":"_3zf_S5W16oIdPDDgp3yU71","Composer-footer":"_3U7UDl0salhAfnh_5cngat",Branding:"_3cFC78pAuQUUGXB0th8eZP","Composer-container":"_3MjPO4eA3iHgj5Z97ZyLgE","Composer-dropzone":"_1LQ2wLU8AfB3847pycmdlu",ComposerMenu:"otYMyT1psi9E8p7ZicXJ0"}},1561:function(e,t,n){e.exports={AttachmentUploadProgress:"_33TDt3NvX83jBkNZLft_M6"}},1563:function(e,t,n){e.exports={SendButton:"qrX9HNxW57u0nYVlv67Fb"}},1564:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(1519),g=n.n(h),f=n(33),v=n(203),b=n(1524),y=n(1563),C=n.n(y),E=n(1546),T=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.state={hover:!1},a.handleMouseEnter=function(){a.setState({hover:!0})},a.handleMouseLeave=function(){a.setState({hover:!1})},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.isAway,a=t.onClick;return e.createElement("button",{className:C.a.SendButton,style:{color:this.color},onClick:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.createElement(g.a,{className:"flex",src:E}),e.createElement("span",null,n?e.createElement(f.b,b.b.composerLeaveMessage):e.createElement(f.b,b.b.composerSendMessage)))}},{key:"color",get:function(){var e=this.props.color;if(e)return this.state.hover?Object(v.a)(e,.2):e}}]),n}(m.Component);T.propTypes={color:m.PropTypes.string.isRequired,isAway:m.PropTypes.bool,onClick:m.PropTypes.func},T.defaultProps={isAway:!1},t.a=T}).call(this,n(15))},1565:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(249),g=n(57),f=n(423),v=n.n(f),b=n(33),y=n(1533),C=n(67),E=n(5),T=n(178),P=function(t){var n=t.className,a=t.style,r=t.children;return e.createElement("div",{className:v()(n,"flex"),style:a},r)},k=function(t){var n=t.className,a=t.style;return e.createElement(P,{className:n,style:a},e.createElement(b.b,T.a.connected))},w=function(t){var n=t.className,a=t.style,r=t.dotSize;return e.createElement(P,{className:n,style:a},e.createElement(b.b,T.a.connecting),e.createElement(y.a,{size:r,color:"#ccc",style:{marginLeft:"3px"}}))},I=function(t){var n=t.className,a=t.style,r=t.onRetryClick;return e.createElement(P,{className:n,style:a},e.createElement(b.b,T.a.connectionFailed),e.createElement("a",{style:{marginLeft:"4px"},onClick:r},e.createElement(b.b,T.a.connectionRetry)))},M=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.handleRetryClick=function(){a.props.actions.bootstrapEndUser()},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.className,a=t.style,r=t.status,o=t.dotSize;return"success"===r?e.createElement(k,{className:n,style:a}):"pending"===r?e.createElement(w,{className:n,style:a,dotSize:o}):e.createElement(I,{className:n,style:a,onRetryClick:this.handleRetryClick})}}]),n}(m.Component);M.propTypes={className:m.PropTypes.string,style:m.PropTypes.object,status:m.PropTypes.oneOf(["pending","failure","success"]).isRequired,dotSize:m.PropTypes.oneOf(["extra-small","small","medium"]),actions:m.PropTypes.shape({bootstrapEndUser:m.PropTypes.func.isRequired})},M.defaultProps={dotSize:"extra-small"};t.a=Object(h.b)(function(e){return{status:Object(E.h)(e)}},function(e){return{actions:Object(g.b)({bootstrapEndUser:C.a},e)}})(M)}).call(this,n(15))},1567:function(e,t,n){e.exports={EmojiPicker:"_6UgR56zBr73EKEfK2r-A9"}},1568:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var a=n(4),r=n.n(a),o=n(42),s=n.n(o),i=n(331),c=n.n(i),l=n(156),u=n.n(l),d=n(144),p=n.n(d),m=n(199),h=n.n(m),g=n(198),f=n.n(g),v=n(197),b=n.n(v),y=n(15),C=n.n(y),E=function(e){function t(){p()(this,t);var e=f()(this,(t.__proto__||u()(t)).apply(this,arguments));return e.state={isLoaded:!1},e}return b()(t,e),h()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){if(this.props.modules===e.modules)return null;this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var t=this.props.modules,n=c()(t);s.a.all(n.map(function(e){return t[e]()})).then(function(e){return n.reduce(function(t,n,a){return t[n]=e[a],t},{})}).then(function(t){if(!e._isMounted)return null;e.setState({modules:t,isLoaded:!0})})}},{key:"render",value:function(){return this.state.isLoaded?C.a.Children.only(this.props.children(this.state.modules)):null}}]),t}(C.a.Component);E.propTypes={children:C.a.PropTypes.func.isRequired};var T=function(e,t){return function(n){return C.a.createElement(E,{modules:t},function(t){return C.a.createElement(e,r()({},t,n))})}}},1569:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(15),c=n(1568),l=n(1567),u=n.n(l),d=function(t){var n=t.Picker,a=t.onSelect,o=s()(t,["Picker","onSelect"]);return e.createElement("div",{className:u.a.EmojiPicker},e.createElement(n,r()({color:"#333333",onClick:a,emojiSize:20,sheetSize:20,title:""},o)))};d.propTypes={onSelect:i.PropTypes.func},t.a=Object(c.a)(d,{Picker:function(){return n.e(104).then(function(){var e=n(1618);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){return e.Picker})}})}).call(this,n(15))},1571:function(e,t,n){e.exports={Drawer:"_32On7MvQDqcYybZOg6WO19"}},1572:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(1571),o=n.n(r),s=function(t){var n=t.isOpen,a=void 0!==n&&n,r=t.children;return e.createElement("div",{className:o.a.Drawer},a?r:null)};s.propTypes={isOpen:a.PropTypes.bool,children:a.PropTypes.node},t.a=s}).call(this,n(15))},1573:function(e,t){e.exports='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><path d="M8.455 16.5c-.19 0-.378-.076-.522-.226-.29-.303-.29-.792 0-1.093l7.66-8.013c.57-.597.885-1.392.885-2.236 0-.844-.315-1.638-.886-2.235-1.18-1.233-3.097-1.232-4.275 0L2.433 11.99c-.5.525-.742 1.03-.715 1.502.026.46.303.815.467.985.275.29.573.41.908.364.42-.054.903-.356 1.398-.874l6.973-7.295c.288-.3.755-.3 1.043 0 .29.303.29.793 0 1.093l-6.97 7.296c-.74.773-1.5 1.215-2.26 1.314-.797.104-1.535-.175-2.135-.804-.537-.562-.856-1.267-.896-1.985-.054-.933.332-1.836 1.144-2.686l8.885-9.297c1.754-1.836 4.61-1.836 6.363 0 .85.888 1.318 2.07 1.318 3.328s-.468 2.44-1.318 3.33l-7.66 8.014c-.143.15-.332.226-.52.226z" fill-rule="evenodd"></path></svg>'},1575:function(e,t,n){e.exports={ComposerMenu:"I2Y_Gw71BZf3YTJx23Iu2",ComposerMenuItem:"_3S9isv8S9Biq6Z_VIUdDgW",Attachment:"_28Z4Rplsugcrb8Zz8n36Ix",EmojiIcon:"_2JwaxVSnbRscs1uFN1uSnk",ComposerMenuItemActive:"_28uG9Lj5itx52NpBHEPpWR",IconLight:"_285sI6udxotyNduLwF_LZn"}},1576:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(15),s=n(423),i=n.n(s),c=n(1519),l=n.n(c),u=n(1575),d=n.n(u),p=n(1573),m=function(t){var n=t.color,a=t.floating,o=t.onClick,s=t.disabled,c=t.colorMode;return e.createElement("button",{tabIndex:"1001",className:i()(d.a.Attachment,{floating:a},r()({},d.a.IconLight,"LIGHT"===c||"VIDEO"===c)),style:{color:n},onClick:function(e){return!s&&o&&o(e)},disabled:s,"aria-label":"Send an attachment"},e.createElement(l.a,{className:"flex",src:p}))},h=function(t){var n=t.color,a=t.floating,o=t.onClick,s=t.disabled,c=t.width,l=void 0===c?18:c,u=t.height,p=void 0===u?18:u,m=t.colorMode;return e.createElement("button",{tabIndex:"-1",className:i()(d.a.EmojiIcon,r()({},d.a.IconLight,"LIGHT"===m||"VIDEO"===m),{floating:a}),style:{color:n},onClick:function(e){return!s&&o&&o(e)},disabled:s},e.createElement("svg",{preserveAspectRatio:"xMidYMid",viewBox:"0 0 24 24",style:{width:l,height:p}},e.createElement("path",{d:"M12 24C5.38 24 0 18.62 0 12S5.38 0 12 0s12 5.38 12 12-5.38 12-12 12zm0-22C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.9 0-5.56-1.75-6.9-4.57-.24-.5-.03-1.1.47-1.33.5-.24 1.1-.03 1.33.47C7.9 16.67 9.86 18 12 18c2.15 0 4.1-1.3 5.1-3.43.23-.5.83-.7 1.33-.47.5.23.7.83.47 1.33C17.58 18.25 14.93 20 12 20zm4-8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-8 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})))},g=function(t){var n=t.isActive,a=void 0!==n&&n,o=t.children,s=t.ariaHidden,c=void 0!==s&&s;return e.createElement("li",{"aria-hidden":c,tabIndex:"-1",className:i()(d.a.ComposerMenuItem,r()({},d.a.ComposerMenuItemActive,a))},o)},f=function(t){var n=t.color,a=t.floating,r=t.allowAttachments,o=t.allowEmoji,s=t.onAttachmentClick,c=t.onEmojiClick,l=t.emojiDrawerActive,u=t.disabled,p=t.colorMode;return e.createElement("ul",{className:i()(d.a.ComposerMenu),"aria-label":""},r&&e.createElement(g,null,e.createElement(m,{color:n,onClick:s,disabled:u,floating:a,colorMode:p})),o&&e.createElement(g,{isActive:l,ariaHidden:!0},e.createElement(h,{color:n,onClick:c,disabled:u,floating:a,colorMode:p})))};f.propTypes={color:o.PropTypes.string.isRequired,floating:o.PropTypes.bool,allowAttachments:o.PropTypes.bool,allowEmoji:o.PropTypes.bool,onAttachmentClick:o.PropTypes.func,onEmojiClick:o.PropTypes.func,emojiDrawerActive:o.PropTypes.bool},t.a=f}).call(this,n(15))},1577:function(e,t,n){"use strict";var a=n(1547);a.linkify.add("ftp:",null),t.a=function(e){if(""===e)return"";var t=0,n=[];(a.linkify.match(e)||[]).forEach(function(a){a.index>t&&n.push(document.createTextNode(e.substring(t,a.index)));var r=document.createElement("a");r.setAttribute("href",a.url),r.setAttribute("target","_blank"),r.textContent=a.text,n.push(r),t=a.lastIndex}),t<e.length&&n.push(document.createTextNode(e.substring(t)));var r=document.createElement("span");return n.forEach(function(e){r.appendChild(e)}),r.outerHTML}},1579:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(423),s=n.n(o),i=n(15),c=n.n(i),l=n(1519),u=n.n(l),d=n(249),p=n(5),m=n(1630),h=n.n(m),g=function(e){var t=e.version,a=e.color,o=e.className,i=e.ariaHidden,l=void 0===i?"false":i,d=e.type,p=void 0===d?"circle":d,m=e.style;return c.a.createElement("div",{className:s()(h.a.BotAvatar,o,{circle:"circle"===p}),style:r()({color:a},m),role:"img","aria-hidden":l,"aria-label":"Drift Bot icon"},c.a.createElement(u.a,{src:n(1628)("./bot"+t+".svg")}))};g.propTypes={color:i.PropTypes.string.isRequired,className:i.PropTypes.string,style:i.PropTypes.object,type:i.PropTypes.oneOf(["circle","rect"]),version:i.PropTypes.number.isRequired};t.a=Object(d.b)(function(e){return{version:Object(p.d)(e)}})(g)},1606:function(e,t,n){e.exports={Badge:"_23adWK3Uprf4Ktba9B88ed"}},1607:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(423),o=n.n(r),s=n(1606),i=n.n(s),c=n(1531),l=n.n(c),u=n(1535),d=n.n(u),p=function(t){var n=t.count,a=t.max,r=t.className,s=t.theme,c=t.widgetButton,l=t.hasInteracted;return!c||s.unreadBadgeEnabled||l?e.createElement("div",{className:o()(i.a.Badge,r),"aria-label":(n>a?a:n)+" unread messages"},n>a?a+"+":n):null};p.propTypes={count:a.PropTypes.number.isRequired,max:a.PropTypes.number,className:a.PropTypes.string},p.defaultProps={max:99};var m=l()(function(e){return e.count<1},d.a);t.a=m(p)}).call(this,n(15))},1608:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(516),r=/^[a-z\d]+$/,o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,i=function(e){if(!e)return!1;var t=e.split("@"),n=t.pop(),i=t.join("@"),l=n.toLowerCase();if("gmail.com"===l||"googlemail.com"===l)for(var u=(i=i.toLowerCase()).split("+")[0].split("."),p=0;p<u.length;p++)if(!r.test(u[p]))return!1;if(i.length>64||n.length>254)return!1;if(!c(n)&&!d(n)){if(!Object(a.b)(n,"[")||!Object(a.a)(n,"]"))return!1;var m=n.substr(1,n.length-2);if(0===m.length||!d(m))return!1}if('"'===i[0])return i=i.slice(1,i.length-1),s.test(i);for(var h=o,g=i.split("."),f=0;f<g.length;f++)if(!h.test(g[f]))return!1;return!0},c=function(e){for(var t=e.split("."),n=0;n<t.length;n++)if(t[n].length>63)return!1;var a=t.pop();if(!t.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(a))return!1;for(var r,o=0;o<t.length;o++){if(r=t[o],!/^[a-z\u00a1-\uffff0-9-]+$/i.test(r))return!1;if(/[\uff01-\uff5e]/.test(r))return!1;if("-"===r[0]||"-"===r[r.length-1])return!1}return!0},l=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,u=/^[0-9A-F]{1,4}$/i,d=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(n=String(n)))return e(t,4)||e(t,6);if("4"===n)return!!l.test(t)&&t.split(".").sort(function(e,t){return e-t})[3]<=255;if("6"===n){var a=t.split(":"),r=!1,o=e(a[a.length-1],4),s=o?7:8;if(a.length>s)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(a.shift(),a.shift(),r=!0):"::"===t.substr(t.length-2)&&(a.pop(),a.pop(),r=!0);for(var i=0;i<a.length;++i)if(""===a[i]&&i>0&&i<a.length-1){if(r)return!1;r=!0}else if(o&&i===a.length-1);else if(!u.test(a[i]))return!1;return r?a.length>=1:a.length===s}return!1}},1609:function(e,t,n){"use strict";var a=n(11),r=n.n(a),o=n(200),s=n.n(o),i=n(4),c=n.n(i),l=n(156),u=n.n(l),d=n(144),p=n.n(d),m=n(199),h=n.n(m),g=n(198),f=n.n(g),v=n(197),b=n.n(v),y=n(15),C=n.n(y),E=n(423),T=n.n(E);function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e),a=n.r,r=n.g,o=n.b;return function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}(Math.max(Math.min(Math.round(a-a*t),255),0),Math.max(Math.min(Math.round(r-r*t),255),0),Math.max(Math.min(Math.round(o-o*t),255),0))}var k=n(1533),w=n(1622),I=n(1621),M=n.n(I),O=n(514),S={small:M.a["Button--small"],medium:M.a["Button--medium"],large:M.a["Button--large"]},N={primary:M.a["Button--primary"],secondary:M.a["Button--secondary"],danger:M.a["Button--danger"],blue:M.a["Button--blue"]},_={filled:{blue:{normal:"white",hover:"white"},primary:{normal:"white",hover:"white"},secondary:{normal:"white",hover:"white"},danger:{normal:"white",hover:"white"}},hollow:{blue:{normal:"#0176FF",hover:"#0176FF"},primary:{normal:"#13CB6E",hover:"#1FA45C"},secondary:{normal:"#9A9A9A",hover:"#0176FF"},danger:{normal:"#E92E4B",hover:"#0176FF"}}},A={small:20,medium:25,large:30},j={left:M.a["Button__icon--left"],right:M.a["Button__icon--right"]},B=function(e){function t(){var e,n,a,r;p()(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=f()(this,(e=t.__proto__||u()(t)).call.apply(e,[this].concat(s))),a.state={hover:!1,focus:!1},r=n,f()(a,r)}return b()(t,e),h()(t,[{key:"getBrandingStyle",value:function(){var e=this.props,t=e.brandPrimary,n=e.brandSecondary,a=e.hollow,r={};if(t&&n){var o=P(t,.25);r={backgroundColor:t,borderColor:t,color:n},(this.state.hover||this.state.focus)&&(r=c()({},r,{backgroundColor:o,borderColor:o})),a&&(r.color=o,r.backgroundColor="#FFF",this.state.hover&&(r=c()({},r,{backgroundColor:"#FFF"})))}return r}},{key:"renderIcon",value:function(e,t,n,a){return Object(O.a)(e)?C.a.createElement(w.a,{src:e,className:j[a],color:t,size:n}):Object(y.cloneElement)(e,{color:t,className:j[a]})}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.children,o=n.className,i=n.href,l=n.style,u=n.size,d=n.hollow,p=n.role,m=n.cta,h=n.disabled,g=n.block,f=n.link,v=n.loading,b=n.onClick,E=n.onMouseEnter,P=n.onMouseLeave,w=n.onFocus,I=n.onBlur,O=n.element,j=n.iconLeft,B=n.iconRight,x=n.iconSize,R=n.ariaLabel,F=s()(n,["children","className","href","style","size","hollow","role","cta","disabled","block","link","loading","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","element","iconLeft","iconRight","iconSize","ariaLabel"]),D=this.getBrandingStyle(),L={className:T()(M.a.Button,S[u],N[p],o,(e={},r()(e,M.a["Button--hollow"],d),r()(e,M.a["Button--cta"],m),r()(e,M.a["Button--disabled"],h),r()(e,M.a["Button--block"],g),r()(e,M.a["Button--link"],f),r()(e,M.a["Button--loading"],v),e)),onClick:v?null:b,onMouseEnter:function(){t.setState({hover:!0}),E&&E.bind(t)},onMouseLeave:function(){t.setState({hover:!1}),P&&P.bind(t)},onFocus:function(){t.setState({focus:!0}),w&&w.bind(t)},onBlur:function(){t.setState({focus:!1}),I&&I.bind(t)},style:c()({},l,D)},H=a,U=d?"hollow":"filled",z=_[U][p].normal,V=_[U][p].hover,q=this.state.hover?V:z;if(v)H=C.a.createElement(k.a,{color:q});else if(j||B){var W=x||A[u];H=C.a.createElement("span",{className:"flex"},j?this.renderIcon(j,q,W,"left"):null,a,B?this.renderIcon(B,q,W,"right"):null)}return O?(delete F.brandSecondary,Object(y.createElement)(O,c()({},L,F),H)):i?(delete F.brandSecondary,C.a.createElement("a",c()({href:i},L,F,{tabIndex:"0",role:"link","aria-label":R||"Click to open link"}),H)):C.a.createElement("button",c()({role:"button"},L,F,{"aria-label":R||""}),H)}}]),t}(y.Component);B.propTypes={className:y.PropTypes.string,children:y.PropTypes.any,href:y.PropTypes.string,onClick:y.PropTypes.func,brandPrimary:y.PropTypes.string,brandSecondary:y.PropTypes.string,style:y.PropTypes.object,hollow:y.PropTypes.bool,role:y.PropTypes.string,size:y.PropTypes.string,cta:y.PropTypes.bool,loading:y.PropTypes.bool,element:y.PropTypes.any,onMouseEnter:y.PropTypes.func,onMouseLeave:y.PropTypes.func,onFocus:y.PropTypes.func,onBlur:y.PropTypes.func,iconleft:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.node]),iconRight:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.node])},B.defaultProps={style:{},size:"medium",role:"primary",cta:!1,hollow:!1,brandSecondary:"white"};t.a=B},1621:function(e,t,n){e.exports={Button:"_6lVIUYq9ZCls7QBwtshRb","Button--small":"_2vPyDeWmVrZiU1vgetjjYI","Button--medium":"J31k-NLvkKMIakg1kwo2u","Button--large":"hcJk82kMkXq7VTeISEk40","Button--primary":"_2zqi0g8UIguq8DEoB9_g4T","Button--hollow":"_3v6r7U3WkO10-cWNQXSUI","Button--secondary":"_30-S0-btjWcG0RxQxDIsOY","Button--danger":"bwgNwHy-9LcICSfOUjpUh","Button--blue":"iyty9yg-JHVK97_osia-s","Button--disabled":"_3ziusyV2TMn_xfRVJWwtFW","Button--cta":"_27NeGH8I4Z4gmyVe80-HUi","Button--block":"_3T69_4zBFLo1MiAMIhcic6","Button--link":"_37KDjXk17q5n2atutf5P1C","Button--loading":"_3TEHlJQgDlDsfI1Vv0Gt2s","Button__icon--left":"_3qk2MqqO_NA7TPkwRI2gip","Button__icon--right":"_1arx2Woj-G-BVHV7RI1B4d"}},1622:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(15),c=n(1519),l=n.n(c);function u(t){var n=t.className,a=t.style,o=t.src,i=t.size,c=t.width,u=t.height,d=t.color,p=s()(t,["className","style","src","size","width","height","color"]),m={};if(c&&u)m={width:c,height:u};else{if(!i)throw Error("Either size or width and height must be given as props to Icon");m={width:i,height:i}}var h=o.replace(/fill="#[A-Z0-9]+"/i,'fill="'+d+'"');return e.createElement(l.a,r()({src:h,raw:!0,style:r()({},a,m),className:n},p))}u.propTypes={src:i.PropTypes.string.isRequired,color:i.PropTypes.string,size:i.PropTypes.number,width:i.PropTypes.number,height:i.PropTypes.number},u.defaultProps={color:"white"},t.a=u}).call(this,n(15))},1623:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 313.74 313.74"><path class="color" d="M0 0h313.74v313.74H0z"></path><path opacity=".85" fill="#fff" d="M0 0h313.74v313.74H0z"></path><path class="color" d="M270.9 172.59c-2 19.33-7.93 38.06-21.17 52.94-22.77 25.6-59.36 37.54-93 37.54-31.31 0-64.65-11.14-87.84-32.74C45.34 208.43 42 182.24 42 151.92c.05-16.06 1.23-33.27 12.76-45.7 17.06-18.39 47.33-21.37 70.84-23 10.34-.74 20.71-1 31.07-1 43.67 0 109.74 1.09 114.25 56.65a185.85 185.85 0 0 1-.02 33.72z"></path><path opacity=".2" d="M271 138.82c-.93-11.48-4.51-20.63-10-27.93a92.31 92.31 0 0 1 6.68 34.41c0 60.72-59.75 110-133.46 110a161.06 161.06 0 0 1-30.91-3 138.68 138.68 0 0 0 53.4 10.8c33.66 0 70.25-11.94 93-37.54 13.24-14.88 19.19-33.61 21.17-52.94a185.85 185.85 0 0 0 .12-33.8z"></path><ellipse cx="156.87" cy="154.71" rx="93.96" ry="37.64" fill="#fff"></ellipse><path class="color" d="M125.74 83.12c10.34-.73 20.71-1 31.08-1 12.65 0 27.18.1 41.55 1.58a52.64 52.64 0 0 0-83 .26c3.55-.33 7.03-.6 10.37-.84z"></path><path d="M125.74 83.12c10.34-.73 20.71-1 31.08-1 12.65 0 27.18.1 41.55 1.58a52.64 52.64 0 0 0-83 .26c3.55-.33 7.03-.6 10.37-.84z" fill="#222" opacity=".2"></path><path class="color" d="M156.87 51.75a17.1 17.1 0 0 1-2.78-.24v12.1c.92 0 1.85-.07 2.78-.07s1.85 0 2.77.07v-12.1a17 17 0 0 1-2.77.24z"></path><path opacity=".2" d="M156.87 51.75a17.1 17.1 0 0 1-2.78-.24v12.1c.92 0 1.85-.07 2.78-.07s1.85 0 2.77.07v-12.1a17 17 0 0 1-2.77.24z"></path><ellipse fill="#000" opacity=".6" cx="115.23" cy="154.71" rx="15.87" ry="15.72"></ellipse><ellipse fill="#000" opacity=".6" cx="198.51" cy="154.71" rx="15.87" ry="15.72"></ellipse><circle class="color" cx="156.87" cy="35.24" r="16.47"></circle><path class="color" d="M234.77 313.74c-10.29-24.46-35.63-41.66-77.9-41.66s-67.62 17.2-77.9 41.66z"></path></svg>'},1624:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 313.74 313.74"><path class="color" d="M0 0h313.74v313.74H0z"></path><path opacity=".85" fill="#fff" d="M0 0h313.74v313.74H0z"></path><path class="color" d="M276.67 190.46c-2.08 20.5-8.34 40.36-22.25 56.15-23.91 27.14-62.36 39.81-97.71 39.81-32.9 0-67.92-11.82-92.3-34.72-24.71-23.23-28.27-51-28.18-83.17.05-17 1.29-35.29 13.4-48.47 17.93-19.5 49.73-22.67 74.43-24.45 10.86-.78 21.76-1.06 32.65-1.06 45.87 0 115.28 1.15 120 60.09a199.36 199.36 0 0 1-.04 35.82z"></path><path opacity=".2" d="M276.73 154.64c-1-12.18-4.73-21.88-10.46-29.63a98.93 98.93 0 0 1 7 36.5c0 64.4-62.77 116.61-140.2 116.61A167.59 167.59 0 0 1 100.6 275a144.57 144.57 0 0 0 56.11 11.45c35.35 0 73.8-12.67 97.71-39.81 13.91-15.79 20.17-35.65 22.25-56.15a199.36 199.36 0 0 0 .06-35.85z"></path><ellipse cx="156.87" cy="171.49" rx="98.71" ry="39.92" fill="#fff"></ellipse><path class="color" d="M124.17 95.56c10.86-.78 21.76-1.06 32.65-1.06 13.29 0 28.55.1 43.65 1.67a55 55 0 0 0-87.21.28c3.74-.35 7.4-.63 10.91-.89z"></path><path d="M124.17 95.56c10.86-.78 21.76-1.06 32.65-1.06 13.29 0 28.55.1 43.65 1.67a55 55 0 0 0-87.21.28c3.74-.35 7.4-.63 10.91-.89z" fill="#222" opacity=".2"></path><path class="color" d="M156.87 62.29A17.71 17.71 0 0 1 154 62v12.87c1-.05 1.94-.08 2.92-.08s1.95 0 2.91.08V62a17.49 17.49 0 0 1-2.96.29z"></path><path opacity=".2" d="M156.87 62.29A17.71 17.71 0 0 1 154 62v12.87c1-.05 1.94-.08 2.92-.08s1.95 0 2.91.08V62a17.49 17.49 0 0 1-2.96.29z"></path><circle fill="#000" opacity=".6" cx="113.12" cy="171.49" r="16.68"></circle><circle fill="#000" opacity=".6" cx="200.62" cy="171.49" r="16.68"></circle><circle class="color" cx="156.87" cy="45.56" r="16.47"></circle></svg>'},1625:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 313.74 313.74"><path class="color" d="M0 0h313.74v313.74H0z"></path><path opacity=".85" fill="#fff" d="M0 0h313.74v313.74H0z"></path><path class="color" d="M125.74 94.12c10.34-.73 20.71-1 31.08-1 12.65 0 27.18.1 41.55 1.58a52.64 52.64 0 0 0-83 .26c3.55-.33 7.03-.6 10.37-.84z"></path><path d="M125.74 94.12c10.34-.73 20.71-1 31.08-1 12.65 0 27.18.1 41.55 1.58a52.64 52.64 0 0 0-83 .26c3.55-.33 7.03-.6 10.37-.84z" opacity=".2" fill="#222"></path><rect class="color" x="36.8" y="91.8" width="240.14" height="150.54" rx="18.56" ry="18.56"></rect><ellipse cx="156.87" cy="157.71" rx="93.96" ry="37.64" fill="#fff"></ellipse><path class="color" d="M156.87 62.75a17.1 17.1 0 0 1-2.78-.24v12.1c.92 0 1.85-.07 2.78-.07s1.85 0 2.77.07v-12.1a17 17 0 0 1-2.77.24z"></path><path d="M156.87 62.75a17.1 17.1 0 0 1-2.78-.24v12.1c.92 0 1.85-.07 2.78-.07s1.85 0 2.77.07v-12.1a17 17 0 0 1-2.77.24z" opacity=".2"></path><ellipse fill="#000" opacity=".6" cx="115.23" cy="157.71" rx="15.87" ry="15.72"></ellipse><ellipse fill="#000" opacity=".6" cx="198.51" cy="157.71" rx="15.87" ry="15.72"></ellipse><circle class="color" cx="156.87" cy="46.24" r="16.47"></circle><path class="color" d="M239.1 313.74c-5.29-32.24-31.64-56.86-82.23-56.86s-76.94 24.62-82.24 56.86z"></path></svg>'},1626:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 313.74 313.74"><path class="color" d="M0 0h313.74v313.74H0z"></path><path opacity=".85" fill="#fff" d="M0 0h313.74v313.74H0z"></path><path class="color" d="M126.43 104.87c10.11-.73 20.25-1 30.39-1 12.37 0 26.58.09 40.63 1.54a51.45 51.45 0 0 0-81.16.26c3.47-.31 6.88-.57 10.14-.8z"></path><path d="M126.43 104.87c10.11-.73 20.25-1 30.39-1 12.37 0 26.58.09 40.63 1.54a51.45 51.45 0 0 0-81.16.26c3.47-.31 6.88-.57 10.14-.8z" opacity=".2" fill="#222"></path><rect class="color" x="39.47" y="102.59" width="234.8" height="147.2" rx="18.56" ry="18.56"></rect><ellipse cx="156.87" cy="167.04" rx="91.87" ry="36.8" fill="#fff"></ellipse><path class="color" d="M156.87 74.19a16.37 16.37 0 0 1-2.72-.24v11.84c.9-.05 1.81-.08 2.72-.08s1.81 0 2.71.08V74a16.25 16.25 0 0 1-2.71.19z"></path><path d="M156.87 74.19a16.37 16.37 0 0 1-2.72-.24v11.84c.9-.05 1.81-.08 2.72-.08s1.81 0 2.71.08V74a16.25 16.25 0 0 1-2.71.19z" opacity=".2"></path><ellipse fill="#000" opacity=".6" cx="116.15" cy="167.04" rx="15.52" ry="15.37"></ellipse><ellipse fill="#000" opacity=".6" cx="197.58" cy="167.04" rx="15.52" ry="15.37"></ellipse><circle class="color" cx="156.87" cy="58.05" r="16.1"></circle></svg>'},1627:function(e,t){e.exports='<svg viewBox="0 0 277 276" xmlns="http://www.w3.org/2000/svg"><g transform="translate(.22 .462)" fill="none" fill-rule="evenodd"><rect class="color" x="1.78" y="1.538" width="273" height="272.443" rx="10"></rect><path d="M185.99 275.256h80.127a9.988 9.988 0 0 0 9.991-9.991V10.246c0-5.517-4.473-9.99-9.99-9.99H10.536a9.988 9.988 0 0 0-9.991 9.99v255.019c0 5.517 4.473 9.99 9.99 9.99H86.46V260.75c4.152-20.961 21.273-37.27 42.671-40.255v-10.092H57.319c-4.68 0-8.453-3.773-8.453-8.427v-97.758c0-4.647 3.78-8.428 8.445-8.428h64.862V82.035h13.745V58.33c-5.339-1.888-9.164-6.983-9.164-12.971 0-7.596 6.154-13.754 13.746-13.754 7.59 0 13.745 6.158 13.745 13.754 0 5.988-3.825 11.083-9.164 12.97v23.706h13.745V95.79h60.264c4.669 0 8.462 3.773 8.462 8.428v97.758c0 4.647-3.785 8.427-8.454 8.427H144.18v10.223c21.024 3.31 37.756 19.512 41.81 40.24v14.39z" fill="#FFF" opacity=".85"></path><rect fill="#FFF" x="72.994" y="123.785" width="131.425" height="41.376" rx="10"></rect><ellipse class="color" opacity=".5" cx="101.112" cy="145.301" rx="14.886" ry="14.895"></ellipse><ellipse class="color" opacity=".5" cx="172.234" cy="145.301" rx="14.886" ry="14.895"></ellipse><ellipse fill="#000" opacity=".6" cx="101.112" cy="145.301" rx="14.886" ry="14.895"></ellipse><ellipse fill="#000" opacity=".6" cx="172.234" cy="145.301" rx="14.886" ry="14.895"></ellipse></g></svg>'},1628:function(e,t,n){var a={"./bot1.svg":1627,"./bot2.svg":1626,"./bot3.svg":1625,"./bot4.svg":1624,"./bot5.svg":1623};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1628},1630:function(e,t,n){e.exports={BotAvatar:"_2ttjAv_FrMPLIE0mDM9dok"}},1637:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(423),o=n.n(r),s=n(145);function i(t){var n=t.className,a=t.position,r=t.children,i=t.color,c=t.isEmbeddedMessenger,l=t.backgroundColor,u=Object(s.d)();return e.createElement("div",{className:o()(n,"MessageBody",{floating:c,mobile:u}),style:{color:c&&"right"===a?void 0:i,backgroundColor:c&&"right"===a?void 0:l,padding:c&&!u?"12px 14px":void 0}},r)}i.propTypes={className:a.PropTypes.string,children:a.PropTypes.node,position:a.PropTypes.oneOf(["left","right"]).isRequired,color:a.PropTypes.string,backgroundColor:a.PropTypes.string,isStartConversationPrompt:a.PropTypes.bool},t.a=i}).call(this,n(15))},1638:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n.n(g),v=n(423),b=n.n(v),y=n(1548),C=n.n(y),E=n(517),T=n(1668),P=n.n(T),k=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||s()(t)).call(this,e));return n.handleChange=function(){n.debounced&&n.debounced.cancel(),n.props.debounceTime&&(n.debounced=n.debounceSetValid(),n.setState({isValid:!0}))},n.handleFocus=function(){n.setState({isFocused:!0})},n.handleBlur=function(){n.setState({isFocused:!1,hasBeenFocused:!0,isValid:n.props.isValid}),n.props.onBlur&&n.props.onBlur()},n.state={isFocused:!1,hasBeenFocused:!1,isValid:!0},n.inputNodeRef=void 0,n.debounced=void 0,n}return h()(t,e),u()(t,[{key:"moveCursorToEnd",value:function(e){if(e){var t=e.value;e.focus(),e.value="",e.value=t}}},{key:"componentDidMount",value:function(){this.props.autoFocus&&this.moveCursorToEnd(this.inputNodeRef),this.updateStateFromDOM(),setTimeout(this.updateStateFromDOM,400)}},{key:"componentWillUnmount",value:function(){this.debounced&&this.debounced.cancel()}},{key:"updateStateFromDOM",value:function(){this.inputNodeRef&&this.inputNodeRef.value&&this.props.onChange&&this.props.onChange(this.inputNodeRef.value)}},{key:"debounceSetValid",value:function(){Object(E.a)(this.setValid,this.props.debounceTime)}},{key:"setValid",value:function(){this.setState({isValid:this.props.isValid})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.value;e.value&&(e.value!==t&&this.handleChange(),e.value||this.setState({hasBeenFocused:!1}))}},{key:"showErrorAttention",value:function(){var e=this.props,t=e.errorOverride,n=e.isValid;return t||!this.state.isFocused&&this.state.hasBeenFocused&&!n}},{key:"showErrorLabel",value:function(){var e=this.props,t=e.errorLabel,n=e.errorOverride,a=e.debounceTime,r=e.isValid;if((this.state.isFocused||n)&&t)return a?!this.state.isValid:!r}},{key:"showInvalidLabel",value:function(){var e=this.props.errorOverride,t=this.state,n=t.isFocused,a=t.hasBeenFocused;return e||!n&&a}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.label,a=e.wrapperProps,o=e.children,s=e.childrenFirst,i=e.size,c=e.labelOnFocus,l=e.invalidLabel;return f.a.createElement("div",r()({className:b()(P.a.inputWrapper,t)},a),f.a.createElement("label",null,n&&f.a.createElement("div",{className:"dsg-Label--gray"},n),f.a.createElement("div",{onFocus:this.handleFocus,onBlur:this.handleBlur,className:b()("Input",i,{error:this.showErrorAttention(),active:this.state.isFocused})},s&&o,this.renderInput(),c&&this.state.isFocused&&f.a.createElement("div",{className:"overlay-label"},c),!s&&o),this.showInvalidLabel()&&f.a.createElement("div",{className:"dsg-Label--red",style:{textTransform:"none"}},l)))}},{key:"renderInput",value:function(){var e=this,t=this.props,n=t.className,a=t.defaultChecked,r=t.name,o=t.onBlur,s=t.onChange,i=t.onDragStart,c=t.onDrop,l=t.onFocus,u=t.size,d=t.required,p=t.type,m=t.isTextArea,h=t.isTextAreaAutosize,g=t.placeholder,v={ref:function(t){return e.inputNodeRef=t},"aria-label":this.props["aria-label"],className:n,defaultChecked:a,name:r,onBlur:o,onChange:s,onDragStart:i,onDrop:c,onFocus:l,size:u,required:d,placeholder:g,type:p};return m?f.a.createElement("textarea",v):h?f.a.createElement(C.a,v):f.a.createElement("input",v)}}]),t}(g.Component);k.PropTypes={isValid:g.PropTypes.bool.isRequired,value:g.PropTypes.any,onChange:g.PropTypes.any,"aria-label":g.PropTypes.string,autoFocus:g.PropTypes.bool,debounceTime:g.PropTypes.number,errorOverride:g.PropTypes.bool,label:g.PropTypes.node,childrenFirst:g.PropTypes.oneOfType([g.PropTypes.bool,g.PropTypes.string]),size:g.PropTypes.oneOf(["small","medium","large"]),wrapperProps:g.PropTypes.object},t.a=k},1655:function(e,t){e.exports='<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M14.875 12.75H2.125C.953 12.75 0 11.797 0 10.625v-8.5C0 .953.953 0 2.125 0h12.75C16.047 0 17 .953 17 2.125v8.5c0 1.172-.953 2.125-2.125 2.125zm-12.75-1.417h12.75c.39 0 .708-.318.708-.708V2.27L8.945 7.633c-.13.105-.287.158-.445.158-.158 0-.315-.053-.445-.158L1.417 2.27v8.355c0 .39.318.708.708.708zm12.26-9.916H2.614L8.5 6.173l5.884-4.756z" fill="#CCC" fill-rule="evenodd"></path></svg>'},1656:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var a=n(6),r=n(3),o=n(69),s=function(e){return function(e){return e.Typing}(e).typingUsersByConversationId},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){var n=t.conversationId;return s(e).get(n,Object(r.Set)())};return Object(a.createSelector)(e,function(e){return e.map(function(e){return{type:e.first(),id:e.last()}}).filter(function(e){return e.type===o.a.USER}).map(function(e){return e.id}).toArray()})},c=Object(a.createSelector)(s,function(e){return e.reduce(function(e,t){return e||!t.isEmpty()},!1)})},1657:function(e,t,n){e.exports={"button-reset":"lo_gdH5FmZXHzqzy2nd5o",BaseButton:"YQ4bUB-ISfPAyodzmddE9 lo_gdH5FmZXHzqzy2nd5o"}},1665:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u});var a=n(4),r=n.n(a),o=n(33),s=Object(o.h)({delivered:{id:"app.message.deliveryStatus.delivered",description:"Indicates that a message has been delivered to its recipients",defaultMessage:"Delivered"},sending:{id:"app.message.deliveryStatus.sending",description:"Indicates that a message is being sent to its recipients",defaultMessage:"Sending..."},failed:{id:"app.message.deliveryStatus.failed",description:"Indicates that a message failed to send and prompts the user to click to try sending again",defaultMessage:"Sending failed... click to retry"}}),i={pending:"PENDING",sent:"SENT",failed:"FAILED"},c=function(t){return e.createElement(o.b,r()({},t,s.delivered))},l=function(t){return e.createElement(o.b,r()({},t,s.sending))},u=function(t){return e.createElement(o.b,r()({},t,s.failed))}}).call(this,n(15))},1666:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(423),h=n.n(m),g=n(15),f=n(249),v=n(33),b=n(3),y=n(1536),C=n(1893),E=n(1665),T=n(145),P=n(45),k=n(1690),w=n.n(k),I=function(t){function n(){return s()(this,n),u()(this,(n.__proto__||r()(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"componentDidMount",value:function(){this.props.scrollTo&&this.props.scrollTo()}},{key:"componentDidUpdate",value:function(){this.props.scrollTo&&this.props.scrollTo()}},{key:"renderAgentInfoLine",value:function(){var t=this.props.senders.isEmpty()||this.props.senders.every(function(e){return!e.has("name")})?null!=this.props.drifttUser?this.props.drifttUser.name:void 0:this.props.senders.map(function(e){return e.get("name")}).filter(Boolean).join(", ");return e.createElement("div",{className:"info-line flex"},e.createElement("div",{className:h()([w.a["message-sender-name"],{"message-light-mode":"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode}])},t))}},{key:"renderEndUserStatusLine",value:function(){var t=this.props,n=t.status,a=t.colorMode,r=t.createdAtTimestamp,o=t.isLastMessageGroup;return n===E.c.pending?e.createElement("div",{className:h()(["info-line flex",{"message-light-mode":"LIGHT"===a||"VIDEO"===this.props.colorMode}])},e.createElement(E.d,null)):n===E.c.failed?null:o?e.createElement("div",{"aria-hidden":"true",className:h()(["info-line flex",{"message-light-mode":"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode}])},e.createElement("div",{className:w.a["message-delivery-status"]},e.createElement(E.a,null)),e.createElement("div",{className:w.a["message-received-time"]},e.createElement(v.e,{value:r}))):void 0}},{key:"renderAgentAvatar",value:function(){var t=this.props,n=t.senders,a=t.lastAgentResponseAt,r=t.drifttUser,o=t.backgroundColor;if(!(null!=n?n.isEmpty():void 0)&&!a)return e.createElement(C.a,{users:n});var s=e.createElement(y.a,{ariaHidden:"true",color:o,user:r});return(null!=r?r.publicProfileUrl:void 0)?e.createElement("a",{tabIndex:"-1",href:r.publicProfileUrl,target:"_blank"},s):s}},{key:"render",value:function(){var t=this.props,n=t.isFromViewer,a=t.isStartConversationPrompt,r=t.hasConsolidatedWelcomeMsg,o=t.isEmbeddedMessenger,s=t.children;return r&&a?null:e.createElement("div",{className:h()("Message",this.props.className,{"is-end-user":n,"is-last-message-group":this.props.isLastMessageGroup,"is-start-convo-prompt":a,floating:o,mobile:Object(T.d)()})},!n&&this.renderAgentAvatar(),e.createElement("div",{className:"message-container flex-column"},!n&&this.renderAgentInfoLine(),e.createElement("div",{className:w.a["message-group"]},s),n&&this.renderEndUserStatusLine()))}}]),n}(g.Component);I.propTypes={isLastMessageGroup:g.PropTypes.bool,isFromViewer:g.PropTypes.bool.isRequired,drifttUser:g.PropTypes.object,senders:g.PropTypes.object,lastAgentResponseAt:g.PropTypes.number,createdAtTimestamp:g.PropTypes.number,status:g.PropTypes.string,backgroundColor:g.PropTypes.string,className:g.PropTypes.string,children:g.PropTypes.node,isStartConversationPrompt:g.PropTypes.bool,colorMode:g.PropTypes.string},I.defaultProps={senders:Object(b.List)()};t.a=Object(f.b)(function(e){return{colorMode:Object(P.c)(e)}})(I)}).call(this,n(15))},1668:function(e,t,n){e.exports={inputWrapper:"_2UBKc48L0frEtxUtcvZfha"}},1669:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(33),f=n(178),v=n(1638),b=n(1608),y=n(123),C=n(1692),E=n.n(C),T=function(e){function t(e){s()(this,t);var n=u()(this,(t.__proto__||r()(t)).call(this,e));return n.handleChange=function(e){n.setState({email:e.target.value,errorOverride:!1})},n.onKeyDown=function(e){13!=e.which&&13!=e.keyCode||(e.preventDefault(),n.handleSubmit())},n.getInvalidLabel=function(){var e=n.state.email,t=n.props,a=t.requiredFieldErrorCopy,r=t.invalidEmailErrorCopy;return e?Object(b.a)(e)?void 0:r:a},n.handleSubmit=function(){var e=n.state.email,t=n.props,a=t.identifyLead,r=t.requestCreateConversationEvent,o=t.orgId,s=t.anonymousId,i=t.conversationId,c=t.integrations,l=t.messageContext;Object(b.a)(e)?(a(o,s,e),r({type:y.c,conversationId:i,conversationEventExtra:{email:e,leadCapture:{email:e,integrations:c,context:l}}})):n.setState({errorOverride:!0})},n.state={email:null,errorOverride:!1},n}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.activeColor,n=e.backgroundColor,a=e.color,r=this.state,o=r.email,s=r.errorOverride;return h.a.createElement("div",{className:E.a.IdentifyForm},h.a.createElement("label",{className:E.a.IdentifyForm__label},h.a.createElement(g.b,f.a.emailAddressInputLabel)),h.a.createElement("div",{className:E.a.IdentifyForm__inputwrapper,onKeyDown:this.onKeyDown},h.a.createElement(v.a,{className:E.a.IdentifyForm__input,wrapperProps:{style:{borderColor:t}},"aria-label":"Email address",size:"small",type:"email",error:!Object(b.a)(o),isValid:Object(b.a)(o),invalidLabel:this.getInvalidLabel(),onChange:this.handleChange,errorOverride:s}),h.a.createElement("button",{className:E.a.IdentifyForm__submit,style:{backgroundColor:n,color:a},onClick:this.handleSubmit},h.a.createElement(g.b,f.a.submitButtonLabel))))}}]),t}(m.PureComponent);t.a=T},1675:function(e,t,n){e.exports={Loading:"xbR44KG4f_xD7PlFdDt3e"}},1679:function(e,t,n){"use strict";(function(e){var a=n(249),r=n(1533),o=n(294),s=n.n(o),i=n(1662),c=n.n(i),l=n(1522),u=n(1666),d=n(1637),p=n(1825),m=n(45),h=n(69),g=e.createElement(d.a,{position:"left"},e.createElement(r.a,{style:{minHeight:"1.375rem"},color:"gray",accessibleText:"is Typing."}));t.a=s()(Object(a.b)(function(e,t){return{drifttUser:Object(p.a)(e,t),isEmbeddedMessenger:Object(m.h)(e)}}),Object(l.a)(["backgroundColor"]),c()({authorType:h.a.USER,isFromViewer:!1,children:g}))(u.a)}).call(this,n(15))},1680:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(249),g=n(57),f=n(294),v=n.n(f),b=n(1535),y=n.n(b),C=n(1664),E=n.n(C),T=n(1531),P=n.n(T),k=n(423),w=n.n(k),I=n(1834),M=n(1833),O=n(523),S=n(1830),N=n(50),_=n(78),A=n(7),j=n(17),B=n(1522),x=n(145),R=n(45),F=n(1829),D=n.n(F),L=function(t){var a=t.onClick;return e.createElement(I.a,{"aria-label":"Go to your list of past conversations",className:D.a.HeaderActionButton,svgString:n(1550),onClick:a})},H=function(t){var a=t.onClick;return e.createElement(I.a,{"aria-label":"Start a new conversation",className:D.a.HeaderActionButton,svgString:n(1827),onClick:a})},U=function(t){var a=t.onClick;return e.createElement(I.a,{"aria-label":"Close the Chat Widget",className:D.a.HeaderActionButton,svgString:n(1532),onClick:a,id:"widgetCloseButton"})},z=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.handleComposeButtonClick=function(){return a.props.actions.goToNewConversation({autoFocus:!0})},a.handleListButtonClick=function(){return a.props.actions.goToConversationList()},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.lastDriftUser,n=e.shouldRenderAgentStatus,a=null!=t?t.id:void 0;if(null!=a&&n)return this.props.actions.fetchAgentStatus(a)}},{key:"componentWillReceiveProps",value:function(e){var t=e.lastDriftUser,n=e.shouldRenderAgentStatus,a=null!=t?t.id:void 0,r=(null!=this.props.lastDriftUser?this.props.lastDriftUser.id:void 0)!==a,o=n&&!this.props.shouldRenderAgentStatus;return null!=a&&o?this.props.actions.fetchAgentStatus(a):null!=a&&r&&n?this.props.actions.fetchAgentStatus(a):void 0}},{key:"getConversationTitle",value:function(){var t=this.props,n=t.organizationName,a=t.backgroundColor,r=t.lastDriftUser,o=t.isOnline,s=t.shouldRenderAgentStatus,i=t.currentSidebarView,c=t.lastAgentResponseAt;return["NEW_CONVERSATION","NEW_CONVERSATION_AWAY","NEW_CONVERSATION_CAMPAIGN"].includes(i)?n:"CONVERSATION"===i?e.createElement(M.a,{driftUser:c?r:void 0,orgName:n,backgroundColor:a,isOnline:o,shouldRenderAgentStatus:s}):void 0}},{key:"render",value:function(){var t=this.props.theme,n=t.backgroundColor?"#"+t.backgroundColor:"#ffffff",a=t.foregroundColor?"#"+t.foregroundColor:"#9A9A9A";return e.createElement("div",{className:w()({"widget-header-mobile":Object(x.d)()},t.widgetHalfHeight||Object(x.b)()?D.a.MessengerHeaderHalfHeight:D.a.MessengerHeader),style:{backgroundColor:n,color:a}},["CONVERSATION","NEW_CONVERSATION","NEW_CONVERSATION_AWAY","NEW_CONVERSATION_CAMPAIGN"].includes(this.props.currentSidebarView)?[e.createElement("div",{key:"title",className:D.a.HeaderTitle},this.getConversationTitle()),(this.props.allowNewConversations||this.props.numConversations>1)&&e.createElement(L,{key:"list-button",onClick:this.handleListButtonClick})]:[e.createElement("div",{key:"title",className:D.a.HeaderTitle},e.createElement(S.a,null)),this.props.allowNewConversations&&e.createElement(H,{key:"compose-button",onClick:this.handleComposeButtonClick})],this.props.allowSidebarClose&&e.createElement(U,{onClick:this.props.onCloseButtonClicked}))}}]),n}(m.Component);z.PropTypes={onCloseButtonClicked:m.PropTypes.func.isRequired,lastDriftUser:m.PropTypes.object,shouldRenderAgentStatus:m.PropTypes.bool.isRequired,theme:m.PropTypes.shape({backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string,textColor:m.PropTypes.string,activeColor:m.PropTypes.string,widgetBackgroundColor:m.PropTypes.string,widgetHalfHeight:m.PropTypes.bool})};t.a=v()(Object(h.b)(function(){var e=Object(N.o)(),t=Object(N.r)();return function(n,a){var r=Object(A.t)(n),o=e(n,a),s=t(n,a);return{currentSidebarView:n.UI.currentSidebarView,numConversations:Object(N.c)(n).size,allowNewConversations:Object(j.c)(n),allowSidebarClose:Object(j.d)(n),organizationName:n.Bootstrap.embedConfiguration.organizationName,lastDriftUser:o,lastAgentResponseAt:s,isOnline:r,shouldRenderAgentStatus:!(null!=o?o.bot:void 0)&&s>0,isHypergrowthTheme:Object(R.n)(n),continuousBackgroundGradient:Object(R.d)(n)}}},function(e){return{actions:Object(g.b)({goToConversationList:_.goToConversationList,goToNewConversation:_.goToNewConversation,fetchAgentStatus:O.b},e)}}),Object(B.a)(["backgroundColor","activeColor"]),P()(function(e){return e.isEmbeddedMessenger&&!Object(x.d)()&&!e.isHypergrowthTheme},y.a),P()(function(e){return e.isEmbeddedMessenger&&(Object(x.d)()||e.isHypergrowthTheme)},E()(function(t){return e.createElement("div",{className:w()(D.a.FloatingHeader,{hypergrowthTheme:t.isHypergrowthTheme,mobile:Object(x.d)()}),style:t.isEmbeddedMessenger&&t.isHypergrowthTheme&&!Object(x.d)()?t.continuousBackgroundGradient:null})})))(z)}).call(this,n(15))},1681:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n(5),r=n(50),o=function(e){return Object(a.n)("CONVERSATION_RATINGS")(e)};function s(e,t){var n=Object(r.u)()(e,t);return n&&n.getIn(["attributes","conversationRating"],!1)}},1689:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(18),c=n.n(i),l=n(156),u=n.n(l),d=n(144),p=n.n(d),m=n(199),h=n.n(m),g=n(198),f=n.n(g),v=n(197),b=n.n(v),y=n(15),C=n(249),E=n(57),T=n(3),P=n(294),k=n.n(P),w=n(1531),I=n.n(w),M=n(1535),O=n.n(M),S=n(1664),N=n.n(S),_=n(1666),A=n(1665),j=n(1889),B=n(1886),x=n(1879),R=n(1852),F=n(1848),D=n(1845),L=n(1841),H=n(1702),U=n(69),z=n(1522),V=n(5),q=n(45),W=n(269),Z=n(17),G=n(61),K=n(34),Y=n(27),J=n(188),Q=n(7),X=function(e){return e.getIn(["attributes","widgetGuid"])||e.get("id")},$=function(t){function n(){var t,a,r,o;p()(this,n);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return a=r=f()(this,(t=n.__proto__||u()(n)).call.apply(t,[this].concat(i))),r.handleMessageButtonClick=function(e){var t=e.label;r.props.actions.createMessage({conversationId:r.props.conversationId,body:t,attributes:{buttonClicked:!0}})},r.renderMessage=function(t){var n=X(t),a=r.props.hrefsByMessageId.get(t.get("id"),Object(T.Set)()).map(function(e){return r.props.linksByHref.get(e,new W.d.Link)}).filter(function(e){return!!e&&"success"===e.status&&e.data.html}).filter(function(e){return Object(J.b)(e,r.props.showOnlyVideoUnfurl)}).map(function(t){return e.createElement(j.a,{key:"c:"+n+":"+t.href,card:t})}).toArray(),o=e.createElement(D.a,{key:"m:"+n,message:t,isStartConversationPrompt:r.props.isStartConversationPrompt,renderButtons:function(){return t&&r.renderButtons(t)},showCards:r.props.showUnfurl,cards:a}),s=a.length&&r.props.showOnlyVideoUnfurl;return r.props.showUnfurl&&!r.props.isEmbeddedMessenger?s?[].concat(c()(a)):[o].concat(c()(a)):[o]},r.renderButtons=function(t){var n=r.props,a=n.isLastMessageGroup,o=n.isEmbeddedMessenger,s=t.getIn(["attributes","buttons"],Object(T.List)());return s.isEmpty()||!a?null:e.createElement(L.a,{key:"buttons",buttons:s,onClick:r.handleMessageButtonClick,isEmbeddedMessenger:o})},r.renderAttachment=function(t,n){return e.createElement(H.a,{key:"a:"+n,attachmentId:n,message:t})},o=a,f()(r,o)}return b()(n,t),h()(n,[{key:"render",value:function(){var t=this,n=this.props,a=n.messages,o=n.isFromViewer,i=n.drifttUser,c=n.lastAgentResponseAt,l=n.senders,u=n.isStartConversationPrompt,d=n.isEmbeddedMessenger,p=n.isAnyHeldForDelay,m=n.hasTransactionCard,h=s()(n,["messages","isFromViewer","drifttUser","lastAgentResponseAt","senders","isStartConversationPrompt","isEmbeddedMessenger","isAnyHeldForDelay","hasTransactionCard"]),g=a.last(),f=g&&g.get("createdAt",Date.now()),v=!(!g||g.get("local")),b=!(!g||!g.get("failedToSend")),y=void 0;return v||b?v&&!b?y=A.c.sent:!v&&b&&(y=A.c.failed):y=A.c.pending,e.createElement("div",null,e.createElement(_.a,r()({},h,{isFromViewer:o,drifttUser:i,senders:l,lastAgentResponseAt:c,createdAtTimestamp:f,status:y,isStartConversationPrompt:u,isEmbeddedMessenger:d,continuousBackgroundGradient:this.props.continuousBackgroundGradient,lastMessage:g,handleResendMessage:this.handleResendMessage}),a.flatMap(function(e){var n=t.renderMessage(e),a=e.get("attachments",Object(T.List)()).map(function(n){return t.renderAttachment(e,n)});return T.List.of(n).concat(a)})),g&&g.get("id")&&e.createElement(B.a,{conversationId:this.props.conversationId,messageId:g.get("id")}),m&&g&&g.get("id")&&e.createElement(x.a,{conversationId:this.props.conversationId,messageId:g.get("id")}),g&&g.get("id")&&e.createElement(R.a,{conversationId:this.props.conversationId,messageId:g.get("id"),message:g,isEmbeddedMessenger:d}),g&&!d&&!p&&this.renderButtons(g))}}]),n}(y.Component);$.propTypes=r()({},_.a.propTypes,{messages:y.PropTypes.instanceOf(T.List).isRequired,linksByHref:y.PropTypes.instanceOf(T.Map),hrefsByMessageId:y.PropTypes.instanceOf(T.Map)});var ee=I()(function(e){return function(e){return e&&!e.get("isPreMessage",!1)&&(e.getIn(["attributes","scheduleMeetingFlow"],!1)||e.getIn(["attributes","offerSchedule"]))&&!e.getIn(["attributes","appointmentInfo"])}(e.messages.first())},N()(F.a)),te=I()(function(e){var t=e.messages;return e.isFromViewer&&!!t.getIn([0,"attributes","appointmentInfo"])},O.a),ne=I()(function(e){var t=e.messages;return t.getIn([0,"attributes",Y.f],!1)||t.getIn([0,"attributes",Y.g],!1)},O.a),ae=I()(function(e){var t=e.messages;return e.isFromViewer&&function(e){return e&&!e.get("isPreMessage",!1)&&e.getIn(["attributes","startInteraction"],!1)}(t.first())},O.a),re=I()(function(e){return e.isEveryMessageHeldForDelay},O.a),oe=I()(function(e){return!!e.messages.getIn([0,"attributes","requestPaymentResponse"])},O.a);t.a=k()(Object(C.b)(function(e,t){var n=void 0,a=Object(Q.A)(e),r=t.messages.get(0,Object(T.Map)());r.getIn(["sender","id"])?n=a[r.getIn(["sender","id"])]:r.get("sender")?n=r.get("sender").toJS():r.get("authorId")&&(n=a[r.get("authorId")]);var o=n||r.get("authorType",U.a.USER)===U.a.USER;return{drifttUser:n,senders:r.getIn(["attributes","senders"],Object(T.List)()).map(T.Map).map(function(e){var t=a[e.get("id")];return t?e.merge(t):e}),linksByHref:W.e.getLinksByHref(e),hrefsByMessageId:W.e.getHrefsByMessageId(e),isFromViewer:!o,showUnfurl:Object(Z.E)(e),showOnlyVideoUnfurl:Object(V.n)("HAS_ONLY_VIDEO_UNFURL")(e),hasConsolidatedWelcomeMsg:Object(Z.w)(e),isEmbeddedMessenger:Object(q.h)(e),continuousBackgroundGradient:Object(q.d)(e),isEveryMessageHeldForDelay:Object(K.j)(e,t.messages),isAnyHeldForDelay:Object(K.i)(e),hasTransactionCard:Object(Z.x)(e)}},function(e){return{actions:Object(E.b)({createMessage:G.d},e)}}),ee,te,ae,re,ne,oe,Object(z.a)(["backgroundColor"]))($)}).call(this,n(15))},1690:function(e,t,n){e.exports={"failed-send":"fzkrR24OSlFPGJOZX48H6","message-group":"_3iSRjLN2dsY4MaA37q42qF","message-delivery-status":"fIVIDqWTfBZxDK66r2FkY","message-sender-name":"g5tb3lvyuppRWZTfTorn_","message-sent-time":"OrIEn7LQioRJcGljQcWxS","message-received-time":"_3SLe3BQPvLES7-geI_b_yD"}},1691:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(249),c=n(15),l=n(33),u=n(1666),d=n(1637),p=n(69),m=n(45),h=function(t){var n=t.emailCaptureMessage,a=t.sender,o=t.createdAt,i=s()(t,["emailCaptureMessage","sender","createdAt"]);return e.createElement(u.a,r()({authorType:p.a.USER,drifttUser:a,createdAtTimestamp:o,isFromViewer:!1},i),e.createElement(d.a,{position:"left"},n))};h.displayName="AutoMessage",h.propTypes={createdAt:c.PropTypes.number.isRequired,emailCaptureMessage:c.PropTypes.node.isRequired,sender:c.PropTypes.object.isRequired},h.defaultProps={emailCaptureMessage:e.createElement(function(){return e.createElement(l.b,{id:"app.automessage.emailCaptureMessage",description:"Message sent to the user asking them for their email address",defaultMessage:"Hey there! We're excited to help you out. Let us know your email address so that we can follow up in case we get disconnected."})},null)};t.a=Object(i.b)(function(e){return{isEmbeddedMessenger:Object(m.h)(e)}})(h)}).call(this,n(15))},1692:function(e,t,n){e.exports={dsgCard:"_3mRyWyS1Ca0akhki4AwDE7",IdentifyCard:"_2NhAQGASt95mN0N9Uw1wZl","IdentifyCard__email-icon":"_2CjOtLocbghUNr5tUXWtmr",IdentifyForm:"_1Gtju_Jekx_uqFMJML29ZR",IdentifyForm__inputwrapper:"u5Y-cGMB2OcQ8eo_68yAh",IdentifyForm__input:"gFknHIaOy5Etwu2ZPk6ht",IdentifyForm__submit:"_1pX4AgCirrd3ONwyrdTrtK",IdentifyForm__label:"_1xnWH0aQJFEhmp915uALhK",CompletionView:"NdzlnN8ACoaRODFkjM_W3"}},1693:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(15),c=n(33),l=n(1519),u=n.n(l),d=n(423),p=n.n(d),m=n(1896),h=n(1692),g=n.n(h),f=function(t){var n=t.style,a=t.children,r=t.className;return e.createElement("div",{className:p()(g.a.dsgCard,r),style:n},a)},v=Object(c.h)({emailCapturedSuccess:{id:"app.automessage.emailCapturedSuccess",description:"Shown after a user provides their email address for followup",defaultMessage:"Thanks for submitting your email"}}),b=function(t){var a=t.fill;return e.createElement(u.a,{className:g.a["IdentifyCard__email-icon"],src:n(1894),style:{fill:a}})};b.propTypes={fill:e.PropTypes.string.isRequired};var y=function(t){var n=t.backgroundColor;return e.createElement("div",{className:p()(g.a.CompletionView,"flex-column","flex-center")},e.createElement(b,{fill:n}),e.createElement("p",{className:"dsg-Title"},e.createElement(c.b,v.emailCapturedSuccess)))};y.propTypes={backgroundColor:e.PropTypes.string.isRequired};var C=function(t){var n=t.backgroundColor,a=t.className,o=t.hasIdentified,i=t.conversationId,c=s()(t,["backgroundColor","className","hasIdentified","conversationId"]),l=o?e.createElement(y,{backgroundColor:n}):e.createElement(m.a,{conversationId:i});return e.createElement(f,r()({className:p()(g.a.IdentifyCard,a)},c),l)};C.displayName="IdentifyCard",C.propTypes={backgroundColor:i.PropTypes.string.isRequired,className:i.PropTypes.string,hasIdentified:i.PropTypes.bool.isRequired,conversationId:i.PropTypes.any.isRequired},t.a=C}).call(this,n(15))},1694:function(e,t,n){"use strict";(function(e){var a=n(1519),r=n.n(a);n(1908);var o=n(1906);t.a=function(){return e.createElement(r.a,{src:o})}}).call(this,n(15))},1699:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(50),s=n(166);function i(e,t){return function(e){return e.ScheduleMeeting.availabilityByAgentId}(e).get(t.agentId,new s.a)}function c(e,t){return function(e){return e.ScheduleMeeting.availabilityFetchStatusByAgentId}(e).get(t.agentId,new s.c)}function l(e,t){return function(e){return e.ScheduleMeeting.scheduleAppointmentFetchStatusByAgentId}(e).get(t.agentId,new s.c)}var u=n(69);function d(){var e=Object(o.u)();return function(t,n){var a=e(t,n);return a&&a.getIn(["attributes","presentSchedule"],!1)}}function p(){var e=d(),t=Object(o.v)();return function(n,a){var r=e(n,a);return"number"==typeof r?r:t(n,a).takeUntil(function(e){return e.get("id")===a.messageId}).map(function(e){return e.getIn(["attributes","scheduleMeetingWith"],null)}).filter(Boolean).last()}}n.d(t,"i",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"d",function(){return y});var m=function(){var e=Object(o.v)();return function(t,n){var a=e(t,n).takeUntil(function(e){return e.get("id")===n.messageId}).filter(function(e){return!!e.getIn(["attributes","additionalAgents"])}).last();if(a)return a.getIn(["attributes","additionalAgents"],[])}};function h(){var e=p(),t=Object(o.v)();return function(n,a){var r=e(n,a),o=t(n,a).takeUntil(function(e){return e.get("id")===a.messageId}).filter(function(e){return!!e.getIn(["attributes","offerSchedule"])}).last();if(o&&o.getIn(["attributes","offerSchedule"])===r&&o.get("authorType")===u.a.USER)return o.get("authorId")}}function g(){var e=Object(o.v)();return function(t,n){return e(t,n).takeUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","meetingType"],null)}).filter(Boolean).last()}}function f(){var e=Object(o.v)();return function(t,n){return e(t,n).takeUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","meetingSource"],null)}).filter(Boolean).last()}}function v(){var e=Object(o.v)();return function(t,n){return e(t,n).takeUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","bookedByUserId"],null)}).filter(Boolean).last()}}function b(){var e=m();return function(t,n){var a=e(t,n);return a?a.map(function(e){return Object(r.z)(e)(t)}):[]}}function y(){var e=p(),t=g(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return function(t,n){var a=e(t,n);return Object(r.z)(a)(t)}}(e),u=function(){var e=Object(o.v)();return function(t,n){return e(t,n).skipUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","appointmentInfo"],null)}).filter(Boolean).map(function(e){return new s.b(e)}).first()}}();return Object(a.createStructuredSelector)({agentId:e,meetingType:t,agent:n,appointment:u,availabilityInfo:i,availabilityFetchStatus:c,scheduleAppointmentFetchStatus:l,showBranding:r.G})}},1700:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(249),c=n(294),l=n.n(c),u=n(1556),d=n.n(u),p=n(1531),m=n.n(p),h=n(1535),g=n.n(h),f=n(1679),v=n(6),b=n(50),y=n(146),C=3e5;function E(){var e=Object(b.v)();return Object(v.createSelector)([e,y.b,b.f],function(e,t,n){var a=e.toList();return function(e,t){var n=e.findLastIndex(function(e){return"USER"!==e.get("authorType")&&e.getIn(["attributes","scheduleMeetingFlow"],!1)&&!e.getIn(["attributes","appointmentInfo"])&&Date.now()-e.get("createdAt")<C});return n>-1&&e.slice(n).filter(function(e){return e.get("authorId")===t.id}).isEmpty()}(a,t)||function(e,t){var n=e.findLastIndex(function(e){return"USER"!==e.get("authorType")&&e.getIn(["attributes","startInteraction"],!1)&&Date.now()-e.get("createdAt")<C});return n>-1&&e.slice(n).filter(function(e){return e.get("authorId")===t.id}).isEmpty()}(a,t)||a.some(function(e){return n.has(e.get("id"))&&!e.getIn(["attributes","ratingPrompt"],!1)})})}t.a=l()(Object(i.b)(function(){var e=E();return function(t,n){return{shouldRender:e(t,n),botUser:Object(y.b)(t,n)}}},function(){return{}}),m()(function(e){return!e.shouldRender||!e.botUser},g.a),d()(function(e){var t=e.botUser,n=s()(e,["botUser"]);return r()({},n,{userId:t.id})}))(f.a)},1701:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(11),s=n.n(o),i=n(156),c=n.n(i),l=n(144),u=n.n(l),d=n(199),p=n.n(d),m=n(198),h=n.n(m),g=n(197),f=n.n(g),v=n(15),b=n.n(v),y=n(423),C=n.n(y),E=n(1519),T=n.n(E),P=n(1548),k=n.n(P),w=n(1818),I=n.n(w),M=n(1816),O=n.n(M),S=n(1532),N=n.n(S),_=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||c()(t)).call(this,e));return n.state={mounted:!1},n}return f()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({mounted:!0})},3e3)}},{key:"render",value:function(){var e=this.state.mounted,t=this.props,n=t.onDismiss,a=t.message,r=t.theme,o=t.ratingValue,i=t.renderRatings,c=t.ratingText,l=t.onRatingTextChange,u=t.onKeyDown,d=t.submitConversationRating,p=a.getIn(["attributes","ratingPrompt","ratingPromptMessage"],"How was your conversation with Driftbot?");return b.a.createElement("div",null,e&&b.a.createElement("div",{className:I.a.ConversationRatingVeil}),b.a.createElement("div",{className:C()(I.a.ConversationRatingContainer,s()({},I.a.ConversationRatingContainerInitial,!e))},b.a.createElement("div",{className:I.a.ConversationRatingHeader,style:{backgroundColor:"#"+r.backgroundColor,color:"#"+r.textColor}},b.a.createElement("div",{className:I.a.ConversationRatingClose,onClick:n},b.a.createElement(T.a,{style:{fill:"#"+r.textColor},src:N.a})),p),b.a.createElement("div",{className:I.a.ConversationRatingEmojis},i()),o&&b.a.createElement("div",{className:I.a.ConversationRatingFeedbackContainer},b.a.createElement(k.a,{className:I.a.ConversationRatingFeedback,autoFocus:!0,maxLength:280,placeholder:"Tell us more...",value:c,onChange:l,onKeyDown:u}),b.a.createElement(T.a,{className:I.a.ConversationRatingSubmitIcon,src:O.a,onClick:d}))))}}]),t}(v.Component),A=n(249),j=n(45),B=n(145),x=n(1815),R=n.n(x),F=n(1546),D=n.n(F),L=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||c()(t)).call(this,e));return n.state={mounted:!1},n}return f()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({mounted:!0})},200)}},{key:"render",value:function(){var e,t=this.state.mounted,n=this.props,a=n.onDismiss,r=n.message,o=n.ratingText,i=n.ratingValue,c=n.renderRatings,l=n.onRatingTextChange,u=n.onKeyDown,d=n.submitConversationRating,p=r.getIn(["attributes","ratingPrompt","ratingPromptMessage"],"How was your conversation with Driftbot?");return b.a.createElement("div",{className:C()("ConversationRatingContainerCLP",(e={},s()(e,R.a.ConversationRatingContainerInitialCLP,!t),s()(e,R.a.mobile,Object(B.d)()),s()(e,R.a.lightMode,"LIGHT"===this.props.colorMode||"VIDEO"===this.props.colorMode),e)),style:this.props.isEmbeddedMessenger&&!Object(B.d)()?this.props.continuousBackgroundGradient:null},b.a.createElement("div",{className:R.a.ConversationRatingEmojiContainerCLP},b.a.createElement("div",{className:R.a.ConversationRatingHeaderCLP},b.a.createElement("div",{className:R.a.ConversationRatingCloseCLP,onClick:a},b.a.createElement(T.a,{src:N.a})),p),b.a.createElement("div",{className:R.a.ConversationRatingEmojisCLP},c())),b.a.createElement("div",{className:C()(R.a.ConversationRatingFeedbackContainerCLP,s()({},R.a.ConversationRatingFeedbackContainerHiddenCLP,null===i))},b.a.createElement(k.a,{className:"ConversationRatingFeedbackCLP",placeholder:"Tell us more...",maxLength:280,value:o,onChange:l,onKeyDown:u}),b.a.createElement("button",{className:"sendButtonCLP",onClick:d},b.a.createElement(T.a,{src:D.a}))))}}]),t}(v.Component),H=Object(A.b)(function(e){return{continuousBackgroundGradient:Object(j.d)(e),colorMode:Object(j.c)(e)}})(L),U=n(1813),z=n.n(U),V=[{emoji:"😠",value:1},{emoji:"🙁",value:2},{emoji:"😐",value:3},{emoji:"😊",value:4},{emoji:"😍",value:5}],q=function(e){function t(e){u()(this,t);var n=h()(this,(t.__proto__||c()(t)).call(this,e));return n.selectRating=function(e){n.setState({ratingValue:e.value})},n.onRatingTextChange=function(e){n.setState({ratingText:e.target.value})},n.onKeyDown=function(e){13!=e.which&&13!=e.keyCode||(e.preventDefault(),n.submitConversationRating())},n.submitConversationRating=function(){var e=n.state,t=e.ratingValue,a=e.ratingText;n.props.submitRating({ratingValue:t,ratingText:a})},n.renderRatings=function(){var e=n.state.ratingValue;return V.map(function(t){return b.a.createElement("div",{className:C()(z.a.ConversationRatingEmoji,s()({},z.a.ConversationRatingEmojiSelected,t.value===e)),onClick:function(){return n.selectRating(t)},key:t.value},t.emoji)})},n.state={ratingValue:null,mounted:!1,ratingText:""},n}return f()(t,e),p()(t,[{key:"render",value:function(){return this.props.isEmbeddedMessenger?b.a.createElement(H,r()({onRatingTextChange:this.onRatingTextChange,onKeyDown:this.onKeyDown,submitConversationRating:this.submitConversationRating,renderRatings:this.renderRatings,ratingValue:this.state.ratingValue,ratingText:this.state.ratingText},this.props)):b.a.createElement(_,r()({onRatingTextChange:this.onRatingTextChange,onKeyDown:this.onKeyDown,submitConversationRating:this.submitConversationRating,renderRatings:this.renderRatings,ratingValue:this.state.ratingValue,ratingText:this.state.ratingText},this.props))}}]),t}(v.Component);t.a=q},1702:function(e,t,n){"use strict";var a=n(249),r=n(294),o=n.n(r),s=n(1531),i=n.n(s),c=n(1535),l=n.n(c),u=n(1636),d=n.n(u),p=n(11),m=n.n(p),h=n(156),g=n.n(h),f=n(144),v=n.n(f),b=n(199),y=n.n(b),C=n(198),E=n.n(C),T=n(197),P=n.n(T),k=n(15),w=n.n(k),I=n(423),M=n.n(I),O=n(1637),S=n(1519),N=n.n(S),_=n(1837),A=n.n(_),j=n(1835),B=function(e){var t=e.backgroundColor,n=e.color;return w.a.createElement(N.a,{style:{backgroundColor:t,color:n},className:A.a.DownloadIcon,src:j})};B.propTypes={backgroundColor:k.PropTypes.string,color:k.PropTypes.string};var x=function(e){function t(){var e,n,a,r;v()(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=a=E()(this,(e=t.__proto__||g()(t)).call.apply(e,[this].concat(s))),a.onDownloadClick=function(){var e=a.props,t=e.fileName,n=e.onClick,r=e.href,o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow"),document.body.appendChild(o),o.click(),document.body.removeChild(o),n&&n()},a.isImage=function(e,t){return t&&/image/.test(e)&&"image/svg+xml"!==e},r=n,E()(a,r)}return P()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.isFromViewer,n=e.fileName,a=e.color,r=e.backgroundColor,o=e.mimeType,s=e.previewUrl,i=this.isImage(o,s);return w.a.createElement(O.a,{className:M()(A.a.Attachment,m()({},A.a.ImageAttachment,i&&s)),backgroundColor:i&&s?void 0:r,color:a,position:t?"right":"left"},w.a.createElement("div",{onClick:this.onDownloadClick},i?s&&w.a.createElement("img",{src:s,alt:n,title:n}):w.a.createElement("span",{style:{color:a}},w.a.createElement(B,null),n)))}}]),t}(k.Component),R=x;x.propTypes={mimeType:k.PropTypes.string.isRequired,fileName:k.PropTypes.string.isRequired,previewUrl:k.PropTypes.string,isFromViewer:k.PropTypes.bool,href:k.PropTypes.string,onClick:k.PropTypes.func,backgroundColor:k.PropTypes.string,color:k.PropTypes.string},x.defaultProps={isFromViewer:!0};var F=n(1522),D=n(6),L=function(e){return e.Attachment.attachmentsById},H=n(5),U=o()(Object(F.a)(["backgroundColor","textColor"]),d()("textColor","color"));t.a=o()(Object(a.b)(function(){var e=Object(D.createSelector)([L,function(e,t){return t.attachmentId}],function(e,t){return e[t]});return function(t,n){var a=e(t,n);if(!a||"success"!==a.status)return{};var r=a.url,o=a.previewUrl,s=a.metadata,i=void 0===s?{}:s,c=i.mimeType,l=i.fileName,u=n.message,d=Object(H.i)(t);return{href:r,previewUrl:o,mimeType:c,fileName:l,isFromViewer:u.get("authorId")===d.id&&u.get("authorType")===d.type}}}),i()(function(e){return e.isFromViewer},U),i()(function(e){return!e.href},l.a))(R)},1704:function(e,t,n){"use strict";var a,r=n(4),o=n.n(r),s=n(200),i=n.n(s),c=n(156),l=n.n(c),u=n(144),d=n.n(u),p=n(199),m=n.n(p),h=n(198),g=n.n(h),f=n(197),v=n.n(f),b=n(15),y=n.n(b),C=n(1659),E=n(11),T=n.n(E),P=n(167),k=n(1657),w=n.n(k),I=function(e){var t=e.itemTitle,n=e.itemDescription,a=e.formattedTransactionAmount,r=e.itemImageUrl,o=e.handleCancelClick,s=e.handleClickContinueButton,i=e.author;return y.a.createElement("div",{className:"transaction-flow-card-container"},y.a.createElement("p",{className:"transaction-flow-title"},i.name||"Agent"," requests ",a," ",!!t&&"for "+t),y.a.createElement("div",null,n&&y.a.createElement("p",{className:"transaction-flow-description"},"Description: ",n),r&&y.a.createElement("img",{className:"transaction-flow-image",src:r,width:"100%",alt:n||t})),y.a.createElement("button",{"aria-label":"Enter Payment",onClick:s,className:w.a.BaseButton+" primary transaction-flow-review-button"},"Enter Payment"),y.a.createElement("button",{"aria-label":"Decline",className:w.a.BaseButton+" transaction-flow-cancel-button",onClick:o},"Decline"))},M=n(1533),O=function(e){var t=e.handleClickRetryButton;return y.a.createElement("div",null,y.a.createElement("div",{className:"transaction-flow-failed-info"},"Could not complete transaction, Retry?"),y.a.createElement("button",{className:w.a.BaseButton+" primary transaction-flow-review-button",onClick:t},"Retry"))},S=function(e){var t=e.itemTitle,n=e.itemDescription,a=e.onPaySubmit,r=e.error,o=e.formattedTransactionAmount,s=e.handleBackButtonClick,i=e.chargeSending,c=e.chargePending,l=e.chargeProcessing,u=e.chargeFailed,d=e.handleErrorRetryRequest,p=e.author;return y.a.createElement("form",{className:"transaction-flow-card-container",onSubmit:a},y.a.createElement("p",{className:"transaction-flow-title"},p.name||"Agent"," requests ",o," ",!!t&&"for "+t),n&&y.a.createElement("p",{className:"transaction-flow-description"},"Description: ",n),r&&y.a.createElement("p",{className:"transaction-flow-card-error"},r),y.a.createElement(C.CardElement,{className:"transaction-flow-payment-info-details"}),(i||c||l)&&y.a.createElement("div",{className:"transaction-flow-processing-container"},"Processing Transaction ",y.a.createElement(M.a,{color:"#b5d2e1"})),u&&y.a.createElement(O,{handleErrorRetryRequest:d}),!u&&y.a.createElement("button",{"aria-label":"Pay",type:"submit",className:w.a.BaseButton+" primary transaction-flow-review-button"},"Pay"),y.a.createElement("button",{"aria-label":"Go Back",className:w.a.BaseButton+" transaction-flow-cancel-button",onClick:s},"Go Back"),y.a.createElement("div",{className:"transaction-flow-payment-security-info"},"🔒 Your payment is encrypted and secure"))},N=function(e){var t=e.itemTitle,n=e.itemDescription,a=e.formattedTransactionAmount,r=e.itemImageUrl,o=e.author;return y.a.createElement("div",{className:"transaction-flow-card-container"},y.a.createElement("p",{className:"transaction-flow-title"},o.name||"Agent"," requested ",a," ",!!t&&"for "+t),y.a.createElement("div",null,n&&y.a.createElement("p",{className:"transaction-flow-description"},"Description: ",n),r&&y.a.createElement("img",{className:"transaction-flow-image",src:r,width:"100%",alt:n||t}),y.a.createElement("p",{className:"transaction-flow-declined-title"},"Your payment went through successfully")))},_=function(e){var t=e.itemTitle,n=e.itemDescription,a=e.formattedTransactionAmount,r=e.itemImageUrl,o=e.author;return y.a.createElement("div",{className:"transaction-flow-card-container"},y.a.createElement("p",{className:"transaction-flow-title"},o.name||"Agent"," requests ",a," ",!!t&&"for "+t),y.a.createElement("div",null,n&&y.a.createElement("p",{className:"transaction-flow-description"},"Description: ",n),r&&y.a.createElement("img",{className:"transaction-flow-image",src:r,width:"100%",alt:n||t}),y.a.createElement("p",{className:"transaction-flow-declined-title"},"You declined this request")))},A=(a={},T()(a,P.c.TRANSACTION_REVIEW_STEP,I),T()(a,P.c.TRANSACTION_PAY_STEP,S),T()(a,P.c.TRANSACTION_CONFIRMED_STEP,N),T()(a,P.c.TRANSACTION_CANCELLED_STEP,_),a),j=function(e){function t(e){d()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.onPaySubmit=function(e){var t=n.props,a=t.handleSubmit,r=t.stripe;e.preventDefault(),r.createToken().then(a)},n.state={error:null},n}return v()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.step,n=i()(e,["step"]),a=A[t];return a?y.a.createElement(a,o()({},n,{onPaySubmit:this.onPaySubmit})):null}}]),t}(b.Component);j.propTypes={formattedTransactionAmount:b.PropTypes.string.isRequired,handleErrorRetryRequest:b.PropTypes.func,itemDescription:b.PropTypes.string,itemImageUrl:b.PropTypes.string,itemTitle:b.PropTypes.string,stripe:b.PropTypes.object,chargeSending:b.PropTypes.bool,chargePending:b.PropTypes.bool,chargeProcessing:b.PropTypes.bool,chargeFailed:b.PropTypes.bool,step:b.PropTypes.string};t.a=Object(C.injectStripe)(j)},1784:function(e,t,n){e.exports={Messenger__container:"_26BwwWs7l4ACBKqmd9q6C8",Messenger:"_1Ye1l5vAr1Tazvm0Te2dMq",MessengerEmbedded:"_3r70s4tnbMNGN-csA73Pzc",MessengerHalfHeight:"Rz2_VPzS2obCn6hMWoDC"}},1785:function(e,t,n){"use strict";(function(e){var a=n(1694);t.a=function(){return e.createElement("div",{className:"flex-column flex-1"},e.createElement("div",{className:"flex-1 flex-center"},e.createElement(a.a,null)))}}).call(this,n(15))},1787:function(e,t,n){e.exports={NewConversationCampaign:"vqwyEgk0Xfa_pE8GRUe9P"}},1788:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(3),v=n(249),b=n(57),y=n(1537),C=n(1689),E=n(147),T=n(189),P=n(61),k=n(23),w=n(68),I=n(123),M=n(1787),O=n.n(M),S=function(t){function n(){var e,t,a,o;c()(this,n);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(l))),a.handleSubmit=function(e){var t=a.props.campaign,n=t.inboxId,o=t.campaignId,s=t.messages,i=t.campaignMessage,c=t.attributes,l=void 0===c?{}:c;a.props.actions.createConversation({body:e,inboxId:n,attributes:r()({relatedCampaignId:o,preMessages:s},l)}),i&&a.props.actions.createConversationEvent({conversationId:i.conversationId,type:I.e})},o=t,p()(a,o)}return h()(n,t),u()(n,[{key:"componentWillUnmount",value:function(){this.props.actions.setCampaignMessage()}},{key:"render",value:function(){var t=this.props,n=t.theme,a=t.campaign,r=(void 0===a?{}:a).messages,o=void 0===r?{}:r;return e.createElement("div",{className:O.a.NewConversationCampaign},e.createElement("div",{className:"flex-1 Conversation",style:{backgroundColor:"#"+n.widgetBackgroundColor}},e.createElement(C.a,{messages:Object(f.fromJS)(o)})),e.createElement(y.a,{onSubmit:this.handleSubmit,utmContent:w.j.CONVERSATION_COMPOSER}))}}]),n}(g.Component);S.propTypes={campaign:g.PropTypes.shape({inboxId:g.PropTypes.number,campaignId:g.PropTypes.number,messages:g.PropTypes.array,campaignMessage:g.PropTypes.object}).isRequired,actions:g.PropTypes.shape({createConversation:g.PropTypes.func.isRequired,createConversationEvent:g.PropTypes.func.isRequired,setCampaignMessage:g.PropTypes.func.isRequired}),theme:g.PropTypes.shape({backgroundColor:g.PropTypes.string,foregroundColor:g.PropTypes.string,textColor:g.PropTypes.string,activeColor:g.PropTypes.string,widgetBackgroundColor:g.PropTypes.string,widgetHalfHeight:g.PropTypes.bool})};t.a=Object(v.b)(function(e){return{campaign:Object(E.b)(e)}},function(e){return{actions:Object(b.b)({createConversation:P.a,createConversationEvent:k.c,setCampaignMessage:T.a},e)}})(S)}).call(this,n(15))},1789:function(e,t){e.exports='<svg width="40" height="29" viewBox="0 0 40 29" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M.3.5c-.185.182-.3.434-.3.713v26.504c0 .55.452.998 1.01.998h37.98c.56 0 1.01-.447 1.01-.998V1.213c0-.28-.115-.53-.302-.712L20.724 18.528c-.394.374-1.048.38-1.448 0L.3.5z"></path><path d="M3.5 0h33L20.73 14.964c-.403.382-1.06.38-1.46 0L3.5 0z"></path></g></svg>'},1791:function(e,t,n){e.exports={Container:"_3RH8Q-8c5XIGfvVfqKz27T",Icon:"_29T_JaBgZGCnXBwhROzS5w"}},1792:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(33),s=n(1519),i=n.n(s),c=n(178),l=n(1791),u=n.n(l),d=n(1789);t.a=function(t){var n=t.backgroundColor,a=t.email,s=t.thankYouMessage;return e.createElement("div",{className:u.a.Container},e.createElement(i.a,{className:u.a.Icon,src:d,style:{color:n}}),s||e.createElement(o.b,r()({},c.a.asyncMessageThankYou,{values:{email:e.createElement("span",{style:{fontWeight:600}},a)}})))}}).call(this,n(15))},1794:function(e,t,n){e.exports={Container:"gjK_A0k1m9YUi0X2ELNuM",Header:"_2xftig58XqbF4GSyHJqNWy",Form:"_1BquHi9sTWrb6uvZ2Dm_eW",Body:"_2havWONWU25Fa8_Gs4sngI",Input:"_2moH5hy0ThAmgSXPzJ85kL",SubmitButton:"_2W4Ow2Gh16tpJFVWkrr0zP"}},1795:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(33),g=n(1638),f=n(1519),v=n.n(f),b=n(178),y=n(1608),C=n(423),E=n.n(C),T=n(1794),P=n.n(T),k=n(1655),w=function(t){function n(e){s()(this,n);var t=u()(this,(n.__proto__||r()(n)).call(this,e));return t.handleChange=function(e){t.setState({email:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.isValid()?t.props.onSubmit&&t.props.onSubmit({email:t.state.email}):t.setState({error:!0})},t.isValid=function(){return!!t.state.email&&Object(y.a)(t.state.email)},t.state={email:e.endUser&&e.endUser.email||"",error:void 0},t}return p()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.backgroundColor,a=t.textColor,r=this.isValid();return e.createElement("div",{className:P.a.Container},e.createElement("div",{className:P.a.Header},e.createElement(h.b,b.a.asyncMessageContactPrompt)),e.createElement("form",{className:P.a.Form,onSubmit:this.handleSubmit},e.createElement("div",{className:P.a.Body},e.createElement(g.a,{className:P.a.Input,placeholder:this.state.email?void 0:"email@domain.com",value:this.state.email,onChange:this.handleChange,label:e.createElement(h.b,b.a.emailAddressInputLabel),invalidLabel:!r&&e.createElement(h.b,b.a.invalidEmail),errorOverride:this.state.error,childrenFirst:!0,isValid:r,"aria-label":"Enter your email",type:"email",autoFocus:!0,autoCapitalize:"none",size:"medium"},e.createElement(v.a,{className:"flex icon",src:k}))),e.createElement("button",{className:E()("flex-center",P.a.SubmitButton),style:{backgroundColor:r?n:void 0,color:a}},e.createElement("span",{style:{textAlign:"center",width:"100%"}},e.createElement(h.b,b.a.submitButtonLabel)))))}}]),n}(m.Component);t.a=w}).call(this,n(15))},1797:function(e,t,n){e.exports={Container:"pCiQAZMYqHTI5ddPdq8M-",Header:"_3OsXm3rYFhc3lRhVG4kEwJ",Header__avatar__border:"_3BMOGSG2gLVIzcGX0nv33h",Header__avatar:"_2zlkHGKHicD3WaGbjyDN0i",Header__name:"_3RoHcdAQCQXtFjvvPDzjsA",Header__title:"_1YEeBntD3-M4IatGVsHqV8",ConsolidatedWelcomeMsgBody:"_2Fteti-zwRHoaAFanLB8AU",Body:"_18JYqrC8X6hfhvBm_B-mjz"}},1798:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(512),v=n(423),b=n.n(v),y=n(249),C=n(1537),E=n(1547),T=n.n(E),P=n(17),k=n(68),w=n(1797),I=n.n(w),M=function(t){function n(){var e,t,a,r;c()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(i))),a.handleSubmit=function(e){a.props.onSubmit&&a.props.onSubmit({body:e,attributes:{preMessages:[{body:Object(f.findDOMNode)(a._bodyNode).innerHTML,sender:a.props.sender}]}})},r=t,p()(a,r)}return h()(n,t),u()(n,[{key:"renderAvatar",value:function(){var t=this.props,n=t.sender,a=(n=void 0===n?{}:n).title,r=n.avatarUrl,o=n.publicProfileUrl,s=t.overrideAvatarUrl,i=t.backgroundColor,c=s||r,l=r&&e.createElement("div",{className:b()(I.a.Header__avatar__border,{small:!a}),style:{borderColor:i}},e.createElement("div",{className:I.a.Header__avatar,style:{backgroundImage:"url("+c+")"}}));return l&&o?e.createElement("a",{href:o,target:"_blank"},l):l}},{key:"renderName",value:function(){var t=this.props,n=t.sender,a=(n=void 0===n?{}:n).name,r=n.publicProfileUrl,o=t.organizationName;return e.createElement("span",{className:I.a.Header__name},r?e.createElement("a",{href:r,target:"_blank"},a):a||o)}},{key:"renderHeader",value:function(){var t=this.props,n=t.sender,a=(n=void 0===n?{}:n).title,r=t.hasConsolidatedWelcomeMsg,o=t.overrideAvatarUrl,s=t.hasOverrideSender,i=!!o;return e.createElement("div",null,!!r&&(i||s)&&e.createElement("div",{className:I.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),a&&e.createElement("span",{className:I.a.Header__title},a))),!r&&e.createElement("div",{className:I.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),a&&e.createElement("span",{className:I.a.Header__title},a))))}},{key:"render",value:function(){var t=this,n=this.props,a=n.awayMessage,o=n.showBranding,s=n.organizationName,i=n.connectionStatus,c=n.onChange,l=n.hasConsolidatedWelcomeMsg;return e.createElement("div",{className:I.a.Container},this.renderHeader(),e.createElement("div",{className:b()(I.a.Body,r()({},I.a.ConsolidatedWelcomeMsgBody,l))},e.createElement(T.a,{ref:function(e){t._bodyNode=e},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},a)),e.createElement(C.a,{size:"medium",variant:"minimal",showBranding:o,isAway:!0,minRows:1,maxRows:5,organizationName:s,autoFocus:!0,connectionStatus:i,onChange:c,onSubmit:this.handleSubmit,utmContent:k.j.NEW_CONVERSATION_AWAY_COMPOSER}))}}]),n}(g.Component);t.a=Object(y.b)(function(e){return{hasConsolidatedWelcomeMsg:Object(P.w)(e)}})(M)}).call(this,n(15))},1800:function(e,t,n){e.exports={AsyncMessage:"_2TapetCnEUXrUAlyKj7G3H",AsyncBranding:"_2Asyfa0bYZM4VkD9a_Pa8G"}},1801:function(e,t,n){"use strict";(function(e){var a=n(331),r=n.n(a),o=n(4),s=n.n(o),i=n(156),c=n.n(i),l=n(144),u=n.n(l),d=n(199),p=n.n(d),m=n(198),h=n.n(m),g=n(197),f=n.n(g),v=n(15),b=n(1800),y=n.n(b),C=n(249),E=n(1615),T=n(57),P=n(1522),k=n(69),w=n(61),I=n(165),M=n(5),O=n(147),S=n(45),N=n(68),_=n(1523),A=n(1798),j=n(1795),B=n(1792),x=function(t){function n(){var e,t,a,r;u()(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=a=h()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(s))),a.state={step:1,body:void 0,attributes:void 0,email:void 0},a.handleSubmit=function(e){var t=e.body,n=e.attributes;a.setState({body:t,attributes:n,step:2})},a.handleEmailCaptureSubmit=function(e){var t=e.email,n=a.props,r=n.orgId,o=n.endUser,s=n.anonymousId;o&&"LEAD"!==o.type||a.props.actions.identifyLead(r,s,t),a.props.actions.createConversation({body:a.state.body,attributes:a.state.attributes})},r=t,h()(a,r)}return f()(n,t),p()(n,[{key:"renderStep",value:function(){switch(this.state.step){case 1:return e.createElement(A.a,s()({},this.props,{onSubmit:this.handleSubmit}));case 2:return e.createElement(j.a,s()({},this.props,{onSubmit:this.handleEmailCaptureSubmit}));case 3:return e.createElement(B.a,s()({},this.props,{email:this.state.email}))}}},{key:"renderBranding",value:function(){return!!this.props.showBranding&&(1!==this.state.step&&e.createElement(_.a,{className:y.a.AsyncBranding,utmContent:N.j.NEW_CONVERSATION_EMAIL_CAPTURE}))}},{key:"render",value:function(){return e.createElement("div",{className:y.a.AsyncMessage,style:{backgroundColor:"#"+this.props.widgetBackgroundColor}},this.renderStep(),this.renderBranding())}}]),n}(v.Component);x.propTypes={sender:v.PropTypes.shape({name:v.PropTypes.string,title:v.PropTypes.string,avatarUrl:v.PropTypes.string}),awayMessage:v.PropTypes.node,thankYouMessage:v.PropTypes.node,showBranding:v.PropTypes.bool,connectionStatus:v.PropTypes.string,overrideAvatarUrl:v.PropTypes.string,orgId:v.PropTypes.number,endUser:v.PropTypes.shape({type:v.PropTypes.oneOf(r()(k.a))}),anonymousId:v.PropTypes.string,actions:v.PropTypes.shape({createConversation:v.PropTypes.func.isRequired,identifyLead:v.PropTypes.func.isRequired}),widgetBackgroundColor:v.PropTypes.string};t.a=Object(E.compose)(Object(P.a)(["activeColor","textColor","backgroundColor"]),Object(C.b)(function(e){return{sender:Object(O.g)(e),hasOverrideSender:Object(O.l)(e),awayMessage:Object(O.a)(e),thankYouMessage:Object(O.i)(e),showBranding:!!e.Bootstrap.embedConfiguration.showBranding,connectionStatus:Object(M.h)(e),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,organizationName:e.Bootstrap.embedConfiguration.organizationName,overrideAvatarUrl:Object(S.b)(e)}},function(e){return{actions:Object(T.b)({createConversation:w.a,identifyLead:I.e},e)}}))(x)}).call(this,n(15))},1803:function(e,t,n){e.exports={Container:"_2gIyXoLnVqkRODc8-Wuf",Header:"a5NDS7LoiAvlNJpPj-9iq",Header__avatar__border:"_1DzUdQtwHj8MXNcXXe0J9a",Header__avatar:"_2T7XSAtPh1O7Diz0PzwL9r",Header__name:"_2ItpHQBWWdxg_wZ-IKT4hh",Header__title:"_1OLj39BNVUwJgTHUC4WWFs",ConsolidatedWelcomeMsgBody:"_1d1kQhCn7N-dhYJR5Om0YC",Body:"Q9ADV15pBKHfBEmiaUDgQ"}},1804:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(512),v=n(423),b=n.n(v),y=n(249),C=n(68),E=n(1537),T=n(1547),P=n.n(T),k=n(1803),w=n.n(k),I=n(17),M=function(t){function n(){var e,t,a,r;c()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(i))),a.handleSubmit=function(e){a.props.onSubmit&&a.props.onSubmit({body:e,attributes:{sentWelcomeMessage:a.props.sentWelcomeMessage,isTriggeredFromAPI:a.props.triggeredFromWidgetApi,isTriggeredNewConversation:!0,preMessages:[{body:Object(f.findDOMNode)(a._bodyNode).innerHTML,sender:a.props.sender}]}})},r=t,p()(a,r)}return h()(n,t),u()(n,[{key:"renderAvatar",value:function(){var t=this.props,n=t.sender,a=(n=void 0===n?{}:n).title,r=n.avatarUrl,o=n.publicProfileUrl,s=t.backgroundColor,i=r&&e.createElement("div",{className:b()(w.a.Header__avatar__border,{small:!a}),style:{borderColor:s}},e.createElement("div",{className:w.a.Header__avatar,style:{backgroundImage:"url("+r+")"}}));return i&&o?e.createElement("a",{href:o,target:"_blank"},i):i}},{key:"renderName",value:function(){var t=this.props,n=t.sender,a=(n=void 0===n?{}:n).name,r=n.publicProfileUrl,o=t.organizationName;return e.createElement("span",{className:w.a.Header__name},r?e.createElement("a",{href:r,target:"_blank"},a):a||o)}},{key:"renderHeader",value:function(){var t=this.props.sender,n=(t=void 0===t?{}:t).title;return e.createElement("div",null,e.createElement("div",{className:w.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),n&&e.createElement("span",{className:w.a.Header__title},n))))}},{key:"render",value:function(){var t=this,n=this.props,a=n.message,o=n.showBranding,s=n.organizationName,i=n.connectionStatus,c=n.onChange,l=n.hasConsolidatedWelcomeMsg;return e.createElement("div",{className:w.a.Container},this.renderHeader(),e.createElement("div",{className:b()(w.a.Body,r()({},w.a.ConsolidatedWelcomeMsgBody,l))},e.createElement(P.a,{ref:function(e){t._bodyNode=e},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},a)),e.createElement(E.a,{size:"medium",variant:"minimal",showBranding:o,minRows:1,maxRows:5,organizationName:s,autoFocus:!0,connectionStatus:i,onChange:c,onSubmit:this.handleSubmit,utmContent:C.j.NEW_CONVERSATION_COMPOSER}))}}]),n}(g.Component);t.a=Object(y.b)(function(e){return{hasConsolidatedWelcomeMsg:Object(I.w)(e)}})(M)}).call(this,n(15))},1806:function(e,t,n){e.exports={SyncMessage:"_2ypiAK4FPsbkjz6t21g2BV"}},1807:function(e,t,n){"use strict";(function(e){var a=n(331),r=n.n(a),o=n(11),s=n.n(o),i=n(4),c=n.n(i),l=n(156),u=n.n(l),d=n(144),p=n.n(d),m=n(199),h=n.n(m),g=n(198),f=n.n(g),v=n(197),b=n.n(v),y=n(15),C=n(1806),E=n.n(C),T=n(249),P=n(1615),k=n(57),w=n(1522),I=n(69),M=n(61),O=n(5),S=n(147),N=n(45),_=n(1804),A=n(27),j=function(t){function n(){var e,t,a,r;p()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=f()(this,(e=n.__proto__||u()(n)).call.apply(e,[this].concat(i))),a.onSubmit=function(e){var t=e.body,n=e.attributes,r=void 0===n?{}:n;a.props.actions.createConversation({body:t,attributes:c()({},r,s()({},A.i,!0))})},r=t,f()(a,r)}return b()(n,t),h()(n,[{key:"render",value:function(){return e.createElement("div",{className:E.a.SyncMessage},e.createElement(_.a,c()({},this.props,{onSubmit:this.onSubmit})))}}]),n}(y.Component);j.propTypes={senderName:y.PropTypes.string,senderTitle:y.PropTypes.string,senderAvatarUrl:y.PropTypes.string,showBranding:y.PropTypes.bool,connectionStatus:y.PropTypes.string,overrideAvatarUrl:y.PropTypes.string,orgId:y.PropTypes.number,triggeredFromWidgetApi:y.PropTypes.bool,endUser:y.PropTypes.shape({type:y.PropTypes.oneOf(r()(I.a))}),anonymousId:y.PropTypes.string,actions:y.PropTypes.shape({createConversation:y.PropTypes.func.isRequired})};t.a=Object(P.compose)(Object(w.a)(["activeColor","textColor","backgroundColor"]),Object(T.b)(function(e){return{message:Object(S.j)(e),sender:Object(S.g)(e),showBranding:!!e.Bootstrap.embedConfiguration.showBranding,connectionStatus:Object(O.h)(e),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,organizationName:e.Bootstrap.embedConfiguration.organizationName,sentWelcomeMessage:e.UI.sentWelcomeMessage,overrideAvatarUrl:Object(N.b)(e),hasOverrideSender:Object(S.l)(e),triggeredFromWidgetApi:Object(N.s)(e)}},function(e){return{actions:Object(k.b)({createConversation:M.a},e)}}))(j)}).call(this,n(15))},1809:function(e,t,n){e.exports={TimestampHeader:"_8snJWqrr4MdPqCYvbjnmw"}},1810:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=function(e){return e.VideoGreeting},r=function(e){return a(e).startedConversationFromGreeting}},1811:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(6),r=n(50),o=n(7),s=n(5),i=n(127);function c(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getFirstEndUserMessage,t=void 0===e?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getMessages,t=void 0===e?Object(r.v)():e;return Object(a.createSelector)([t,s.i],function(e,t){if(e)return e.find(function(e){return e.get("authorType")===t.type&&e.get("authorId")===t.id})})}():e;return Object(a.createSelector)(t,function(e){return e&&e.get("local",!1)})}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getShouldShowEmailCaptureCard,n=void 0===t?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getMessages,t=void 0===e?Object(r.v)():e;return Object(a.createSelector)([t],function(e){return e.some(function(e){return e.getIn(["attributes","show_email_capture_card"],!1)})})}():t,l=e.getIsLocalConversation,u=void 0===l?c():l,d=e.getConversation,p=void 0===d?Object(r.m)():d;return Object(a.createSelector)([s.i,s.F,p,s.p,n,u,o.h],function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(!(arguments.length>6&&void 0!==arguments[6])||arguments[6])&&r&&!o&&e&&e.type===i.b&&!e.email&&!t&&(!a||n&&n.get("id")===a)})}},1813:function(e,t,n){e.exports={ConversationRatingEmoji:"_3zx95hQySX0uWGDIsZuuIL",ConversationRatingEmojiSelected:"_1Th7k6JIx11c35ikunLFxM"}},1815:function(e,t,n){e.exports={ConversationRatingContainerInitialCLP:"uZr5iQMGglI4IS8NlUM3F",ConversationRatingEmojiContainerCLP:"_33LTofXvfAX5FoCWrUH13x",ConversationRatingHeaderCLP:"_2iFITtXnHLr991gyQ8XE97",ConversationRatingCloseCLP:"_3358IHiaFTf3ynivbzcQtk",ConversationRatingEmojisCLP:"_1h-Qd4eaixZxJNGk-GbQBL",ConversationRatingEmojiCLP:"_32_9pFC_Y0Tc_asv65zf8p",ConversationRatingEmojiSelectedCLP:"zH9PfZIAGDEfcJYgjk5qJ",ConversationRatingFeedbackContainerHiddenCLP:"_1Tmvzc9YdoMlcVCmdP1zfE",mobile:"_1sKqSUyTXhwWdUobxWOWUF",lightMode:"_3uN7Zq4n5kj4uVifZesNbs"}},1816:function(e,t){e.exports='<svg width="25px" height="25px" viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Widget" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-15"><circle id="Oval-2-Copy-3" fill="#0A5BFF" cx="12.5" cy="12.5" r="12.5"></circle><g id="Group-2-Copy-5" transform="translate(6.000000, 7.000000)" fill="#FFFFFF"><path d="M11.9771213,0.351102019 C11.9896838,0.390771945 11.9967188,0.430944022 11.9987288,0.472622552 C11.9997338,0.491704288 12.0007388,0.509279572 11.9992313,0.528361309 C11.9967188,0.572550593 11.9866688,0.615735576 11.9715938,0.658418407 C11.9670714,0.672478634 11.9655639,0.686538861 11.9595339,0.700096937 C11.9575239,0.703611994 6.69385044,11.7157826 6.69385044,11.7157826 C6.61093816,11.8900289 6.43506363,12 6.24260665,12 C6.04261218,11.9979914 5.86673765,11.8829988 5.78633787,11.7057395 L4.00045764,7.73874695 L0.25784764,5.66888069 C0.0910180859,5.57648491 -0.00847664823,5.39721702 0.000568327598,5.20639966 C0.0106183007,5.01558229 0.127197989,4.84736172 0.302570021,4.77203908 L11.3067881,0.0367555182 C11.3294006,0.0292232538 11.341963,0.0282189519 11.354023,0.0242017442 C11.3992479,0.0101415173 11.4444727,0.00110280005 11.4907026,9.84981275e-05 C11.5087926,-0.000403652833 11.5258775,0.00110280005 11.5439675,0.00260925293 C11.5861774,0.00612430965 11.6263773,0.014660876 11.6660747,0.0287211029 C11.6831596,0.0342447634 11.6997421,0.039266273 11.7163245,0.0467985374 C11.7680819,0.0714039345 11.8168243,0.102537294 11.8585316,0.144717975 C11.9077765,0.193928769 11.9374239,0.245650318 11.9610414,0.299882622 C11.9680763,0.316955754 11.9720963,0.333526736 11.9771213,0.351102019 Z" id="Shape"></path></g></g></g></svg>'},1818:function(e,t,n){e.exports={ConversationRatingVeil:"_3lrKs-637i8LUcBnYt0sGW",ConversationRatingContainer:"gKNKFTjolbLl9cTT8n9_n",ConversationRatingContainerInitial:"gVuPKtrqZQ1_xuu3KmLbf",ConversationRatingHeader:"_2B_bEdyK-Dyn66G59VuKgD",ConversationRatingEmojis:"_2rW1Ktb-aHZ0NwEWWkvDEo",ConversationRatingClose:"_7lnqg_wDhWAoIw_-z1RlG",ConversationRatingFeedback:"_19m9eG1l0ktaAwRZoYRzXQ",ConversationRatingFeedbackContainer:"_2kMS_eMq8ywtturPMjTII",ConversationRatingSubmitIcon:"_2jmqQbfokNmdxuUUjMaGKT"}},1820:function(e,t,n){e.exports={OfflineHeading:"_14ASLnf5BPTWEGU9IgsrFJ",DottedLine:"cPx7fV6w1fhdiwZNS3D4o",Prompt:"_1N1-IXr_IIS_x7j0xl4qsU"}},1821:function(e,t,n){"use strict";var a=n(15),r=n.n(a),o=n(423),s=n.n(o),i=n(249),c=n(5),l=n(45),u=n(1820),d=n.n(u),p=function(){return r.a.createElement("svg",{className:d.a.DottedLine,x:"0px",y:"0px",width:"400px",height:"10",viewBox:"0 0 400 1"},r.a.createElement("line",{x1:"0",y1:"0.5",x2:"400",y2:"0.5"}))},m=function(e){var t=e.endUserEmail,n=e.isEmbeddedMessenger;return r.a.createElement("div",{className:s()(d.a.OfflineHeading,{floating:n})},r.a.createElement(p,null),r.a.createElement("div",{className:d.a.Prompt},"The team is out right now, but they’ll get back to you ",r.a.createElement("span",null,t?r.a.createElement("span",null,"at ",r.a.createElement("span",{className:"dsg-medium-weight"},t)):"soon")))};m.propTypes={endUserEmail:a.PropTypes.string},t.a=Object(i.b)(function(e){return{endUserEmail:Object(c.k)(e),isEmbeddedMessenger:Object(l.h)(e)}})(m)},1823:function(e,t,n){e.exports={TimestampHeader:"_1trdmLCx1n1kWgTx0skYlm"}},1824:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(4),h=n.n(m),g=n(15),f=n(33),v=n(201),b=n.n(v),y=n(423),C=n.n(y),E=n(1823),T=n.n(E),P=f.e,k=function(t){return e.createElement(f.a,h()({},t,{weekday:"short",hour:"numeric",minute:"numeric"}))},w=function(t){return e.createElement(f.a,h()({},t,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))},I=function(t){return e.createElement(f.a,h()({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}))};function M(e,t){if(e===t)return!0;var n=new Date(e).getTime(),a=new Date(t).getTime();return isFinite(n)&&isFinite(a)&&n===a}var O=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.state={now:Date.now()},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"componentWillReceiveProps",value:function(e){M(this.props.value,e.value)||this.setState({now:Date.now()})}},{key:"shouldComponentUpdate",value:function(e,t){return!M(e.value,this.props.value)||!M(t.now,this.state.now)}},{key:"render",value:function(){var t=b()(this.props.value),n=b()(this.state.now),a=t.format("llll"),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b()(),n=e.clone().startOf("day"),a=t.clone().startOf("day");return n.isSame(a)?P:a.diff(n,"weeks")<1?k:a.diff(n,"years")<1?w:I}(t,n);return e.createElement("time",{className:C()(T.a.TimestampHeader,{floating:this.props.isEmbeddedMessenger,videoMode:"VIDEO"===this.props.colorMode}),dateTime:a,title:a},e.createElement(r,{value:t}))}}]),n}(g.Component);O.propTypes={value:g.PropTypes.number.isRequired},t.a=O}).call(this,n(15))},1825:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(7);function r(e,t){return Object(a.z)(t.userId)(e)}},1826:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(249),g=n(1656),f=n(1679),v=function(t){function n(){return s()(this,n),u()(this,(n.__proto__||r()(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"componentDidUpdate",value:function(){this.props.onChange&&this.props.onChange()}},{key:"render",value:function(){var t=this.props.users;return e.createElement("div",{className:"flex-column"},t.map(function(t){return t&&e.createElement(f.a,{key:"ti:"+t,userId:t})}))}}]),n}(m.Component);v.propTypes={conversationId:m.PropTypes.any,users:m.PropTypes.array.isRequired,onChange:m.PropTypes.func},t.a=Object(h.b)(function(){var e=Object(g.b)();return function(t,n){return{users:e(t,n)}}})(v)}).call(this,n(15))},1827:function(e,t){e.exports='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><path d="M18.972 3.296c-.004.035-.023.064-.032.096-.012.044-.024.086-.043.127-.028.057-.064.106-.103.153-.018.023-.026.05-.046.07l-7.93 7.908c-.014.013-.032.018-.046.03-.04.035-.084.06-.13.087-.048.026-.094.052-.146.07-.016.004-.03.017-.047.02l-3.174.793c-.063.016-.128.024-.192.024-.208 0-.41-.082-.56-.23-.197-.2-.277-.484-.21-.753l.794-3.163c.004-.018.017-.03.024-.05.016-.05.04-.094.068-.142.026-.046.052-.09.086-.13.012-.013.017-.032.03-.045l7.93-7.91c.025-.022.055-.03.08-.05.042-.033.083-.064.13-.087.05-.025.102-.04.155-.055.03-.008.055-.025.085-.03.17-.023 1.665-.205 2.578.77.893.95.722 2.342.7 2.498zM17.114 1.88c-.224-.24-.66-.297-.958-.298l-7.562 7.54-.42 1.673 1.677-.418 7.564-7.54c-.004-.285-.06-.704-.3-.958zm-7.51 1.225H1.6v14.372h14.404V9.492c0-.436.16-.772.597-.772.44 0 .794.353.794.79v8.7c0 .436-.355.79-.793.79H.74C.3 19 0 18.712 0 18.275V2.307c0-.437.302-.705.74-.705h8.723c.438 0 .793.354.793.792 0 .436-.216.71-.653.71z" fill-rule="evenodd"></path></svg>'},1829:function(e,t,n){e.exports={FloatingHeader:"_3SdzxAaRTCwRnMo58oPoYx",MessengerHeader:"_2JQ3OA7w-khuFjAIA3iC1o",HeaderTitle:"_1ANbkBTeyyXX8EdJEZ6i8M",HeaderActionButton:"_3B7vwmXduhrNI-jNCliy_m",MessengerHeaderHalfHeight:"_1AO8lsPBPnej5q26v9SG__"}},1830:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(15),r=n.n(a),o=n(33),s=function(){return r.a.createElement(o.b,{id:"app.header.title.conversations",description:"Navbar title for the Conversations view",defaultMessage:"Conversations"})}},1832:function(e,t,n){e.exports={ConversationTitle:"_13D55mV8-UrIeHe3542c5Z",ConversationInfo:"_36EUaubw4WKVxQr4salQz3",AgentName:"_2RxlcvvR2zUm0P9hrXSFPF",AvatarWrapper:"_9D5PYE6WJfFRk1rYpfV42"}},1833:function(e,t,n){"use strict";(function(e){var a=n(15),r=n(1536),o=n(1555),s=n(1832),i=n.n(s);var c=function(t){var n=t.driftUser,a=t.orgName,s=t.backgroundColor,c=t.shouldRenderAgentStatus,l=n&&(n.avatarUrl||n.bot)&&e.createElement("div",{className:i.a.AvatarWrapper},e.createElement(r.a,{shape:"circle",user:n,color:s,showPresence:!0}));return e.createElement("div",{className:i.a.ConversationTitle},l&&(n.publicProfileUrl?e.createElement("a",{href:n.publicProfileUrl,className:"DriftUserAvatar",target:"_blank"},l):l),e.createElement("div",{className:i.a.ConversationInfo},e.createElement("div",{className:i.a.AgentName},function(e,t){if(e){if(e.name)return e.name;if(t)return t+" Team Member"}return t}(n,a)),c&&n&&!n.bot&&e.createElement(o.a,{agentId:n.id})))};c.propTypes={driftUser:a.PropTypes.object,orgName:a.PropTypes.string.isRequired,backgroundColor:a.PropTypes.string,isOnline:a.PropTypes.bool,shouldRenderAgentStatus:a.PropTypes.bool},c.defaultProps={shouldRenderAgentStatus:!1},t.a=c}).call(this,n(15))},1834:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(1519),g=n.n(h),f=function(t){function n(e){s()(this,n);var t=u()(this,(n.__proto__||r()(n)).call(this,e));return t.handleMouseEnter=function(){return t.setState({isHover:!0})},t.handleMouseLeave=function(){return t.setState({isHover:!1})},t.state={isHover:!1},t}return p()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.className,a=t.onClick,r=t.id,o=t.label,s=t.svgString;return e.createElement("button",{className:n,"aria-label":this.props["aria-label"],onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:a,id:r},e.createElement(g.a,{className:"flex",src:s}),o)}}]),n}(m.Component);f.PropTypes={svgString:m.PropTypes.string.isRequired,onClick:m.PropTypes.func,className:m.PropTypes.string,label:m.PropTypes.node,id:m.PropTypes.string},t.a=f}).call(this,n(15))},1835:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24"><path d="M22 24H2a2 2 0 0 1-2-2v-6a1 1 0 0 1 2 0v6h20v-6a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2zm-9.29-6.3a1 1 0 0 1-1.41 0l-5-5a1 1 0 1 1 1.41-1.4L11 14.58V1a1 1 0 0 1 2 0v13.58l3.29-3.29a1 1 0 1 1 1.41 1.41l-5 5z"></path></svg>'},1837:function(e,t,n){e.exports={Attachment:"_1s5skBjrux5CEa1Bch52vc",ImageAttachment:"_1_s1xRh1jwvKAveVfdw6CO",DownloadIcon:"_1h38PnGZh_GWLg08O1q0oG"}},1838:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return[["amp","&"],["apos","'"],["lt","<"],["gt",">"],["quot",'"']].forEach(function(t){e=e.replace(new RegExp(t[1],"g"),"&"+t[0]+";")}),e}},1840:function(e,t,n){e.exports={Button:"_2A4qgMu28j4D9meg_bI3j8",ButtonGroup:"JrHI08VEuJ93Fe9SHf1EV",ButtonGroupButtons:"WHPsCOigZpsybSK2TV9Fk"}},1841:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(1522),g=n(145),f=n(423),v=n.n(f),b=n(1840),y=n.n(b),C=n(1838),E=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.state={hovered:!1},a.handleClick=function(){var e=a.props,t=e.value,n=e.label,r=e.onClick;r&&r({value:t,label:Object(C.a)(n)})},a.handleMouseEnter=function(){a.setState({hovered:!0})},a.handleMouseLeave=function(){a.setState({hovered:!1})},a.handleKeyDown=function(e){9!=e.which&&9!=e.keyCode||!a.state.hovered||a.setState({hovered:!1})},a.handleKeyUp=function(e){9!=e.which&&9!=e.keyCode||a.state.hovered||a.setState({hovered:!0})},a.defaultStyles=function(){var e=a.props,t=e.backgroundColor,n=e.foregroundColor,r=a.state.hovered;return{color:r?n:t,border:"1px solid "+t,backgroundColor:r?t:n}},a.defaultEmbeddedStyles=function(){var e=a.state.hovered;return{color:e?"#FFFFFF":"#222222",backgroundColor:e?"rgba(34,34,34,0.80)":"#E5E5E5"}},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.label,a=t.isEmbeddedMessenger;return e.createElement("button",{className:v()(y.a.Button,{floating:a}),style:a?this.defaultEmbeddedStyles():this.defaultStyles(),onClick:this.handleClick,role:"button","aria-label":n+" - Button",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown},n)}}]),n}(m.Component);t.a=Object(h.a)(["backgroundColor","foregroundColor"])(function(t){var n=t.buttons,a=t.onClick,r=t.backgroundColor,o=t.foregroundColor,s=t.isEmbeddedMessenger;return e.createElement("div",{className:v()(y.a.ButtonGroup,{floating:s,mobile:Object(g.d)()})},e.createElement("div",{className:y.a.ButtonGroupButtons},n.map(function(t){return e.createElement(E,{key:t.get("value"),value:t.get("value"),label:t.get("label"),backgroundColor:r,foregroundColor:o,onClick:a,isEmbeddedMessenger:s})})))})}).call(this,n(15))},1843:function(e,t,n){e.exports={fullWidth:"_260JxFRVlO8nvMgwlq0zEL",lightMode:"_12I3ijepFqYacWlRBlyrGm",videoMode:"_2R86eaFzAVYD7sW-z_2Lgr",MessageBody:"XnctIpXq756HWNS1GLwPT"}},1844:function(e,t,n){"use strict";function a(e){if(!e)return!0;var t=(new DOMParser).parseFromString(e,"text/html"),n=!(t&&t.body&&t.body.innerText&&t.body.innerText.trim()),a=function(e){return/<img.*?src=['"](.*?)['"]/.test(e)}(e);return(!n||!a)&&n}n.d(t,"a",function(){return a})},1845:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(11),s=n.n(o),i=n(156),c=n.n(i),l=n(144),u=n.n(l),d=n(199),p=n.n(d),m=n(198),h=n.n(m),g=n(197),f=n.n(g),v=n(15),b=n(249),y=n(423),C=n.n(y),E=n(294),T=n.n(E),P=n(1531),k=n.n(P),w=n(1636),I=n.n(w),M=n(57),O=n(3),S=n(514),N=n(20),_=n(1844),A=n(1522),j=n(1637),B=n(5),x=n(23),R=n(236),F=n(271),D=n(45),L=n(1615),H=n(34),U=n(1665),z=n(1843),V=n.n(z),q=n(1690),W=n.n(q),Z=function(t){function n(e){u()(this,n);var t=h()(this,(n.__proto__||c()(n)).call(this,e));return t.markAsRead=function(){var e=t.props.message;!e.get("local")&&e.get("id")&&t.props.actions.markAsRead({messageId:e.get("id")})},t.resendMessage=function(){var e=t.props,n=e.message;e.actions.resendLocalMessage(n.toJS()),t.handleResendMessage()},t.handleResendMessage=function(){t.setState({resendMessagePending:!0}),setTimeout(function(){return t.setState({resendMessagePending:!1})},750)},t.state={resendMessagePending:!1},t}return f()(n,t),p()(n,[{key:"componentDidMount",value:function(){this.markAsRead(),this.props.hrefs.isEmpty()||this.props.actions.fetchLinksForMessage(this.props.message.get("id"))}},{key:"componentDidUpdate",value:function(e){e.message.get("local")&&!this.props.message.get("local")&&this.markAsRead(),Object(O.is)(e.hrefs,this.props.hrefs)||this.props.actions.fetchLinksForMessage(this.props.message.get("id"))}},{key:"render",value:function(){var t,n=this.props,a=n.message,r=n.color,o=n.position,i=n.backgroundColor,c=n.isEmbeddedMessenger,l=n.renderButtons,u=n.cards,d=n.colorMode,p=n.hasContent,m=n.showCards,h=this.state.resendMessagePending,g=a.get("body");if(Object(S.a)(g)&&Object(_.a)(g))return null;var f=c&&l&&l(a),v="LIGHT"===d&&!p,b="VIDEO"===d&&!p;return e.createElement("div",{className:C()("MessageBodyWrapper",{"MessageBodyWrapper--left":"left"===o,"MessageBodyWrapper--right":"right"===o})},e.createElement(j.a,{backgroundColor:i,color:r,position:o,isStartConversationPrompt:this.props.isStartConversationPrompt,createdAt:a.get("createdAt"),isEmbeddedMessenger:c,className:C()((t={},s()(t,V.a.fullWidth,!!f),s()(t,V.a.lightMode,!!v),s()(t,V.a.videoMode,!!b),t))},Object(S.a)(g)?e.createElement("div",{dangerouslySetInnerHTML:{__html:g}}):g,c&&m&&Object(N.a)(u)&&u.length>0&&e.createElement("div",{className:"inline-cards-section"},u.map(function(t){return e.createElement("div",{className:"inline-card-container"},t)})),f&&e.createElement("div",{className:"inline-response-buttons-section"},f)),a.get("failedToSend")&&!h&&e.createElement("div",{className:C()(["info-line flex",W.a["failed-send"]]),onClick:this.resendMessage},e.createElement(U.b,null)),h&&e.createElement("div",{className:C()(["info-line flex",{"message-light-mode":"LIGHT"===d}])},e.createElement(U.d,null)))}}]),n}(v.Component);Z.propTypes=r()({},j.a.propTypes,{message:v.PropTypes.instanceOf(O.Map).isRequired,actions:v.PropTypes.shape({markAsRead:v.PropTypes.func.isRequired}).isRequired});var G=T()(Object(A.a)(["backgroundColor","textColor"]),I()("textColor","color"));t.a=T()(Object(b.b)(function(){return function(e,t){var n=t.message,a=Object(B.i)(e),r=n.get("authorId")===a.id&&n.get("authorType")===a.type;return{message:n,hrefs:Object(R.getHrefsByMessageId)(e).get(n.get("id"),Object(O.List)()),isFromViewer:r,position:r?"right":"left",isEmbeddedMessenger:Object(D.h)(e),isHeldForDelay:Object(H.k)(e,n.get("id")),colorMode:Object(D.c)(e),hasContent:Object(D.j)(e)}}},function(e){return{actions:Object(M.b)({markAsRead:x.x,resendLocalMessage:x.K,fetchLinksForMessage:F.fetchLinksForMessage},e)}}),k()(function(e){return e.isHeldForDelay},L.renderNothing),k()(function(e){return e.isFromViewer},G))(Z)}).call(this,n(15))},1847:function(e,t,n){e.exports={SchedulingFlowHeading:"_1Nm69fofuV94SKypLglmKa",DottedLine:"_1ioBcx2Rpr_Fk-CwuMCGL2",SchedulingFlowHeadingCopy:"_2DZu_2bnwzBWOx7yP_P17o"}},1848:function(e,t,n){"use strict";var a=n(15),r=n.n(a),o=n(33),s=n(294),i=n.n(s),c=n(1616),l=n.n(c),u=n(1556),d=n.n(u),p=n(249),m=n(423),h=n.n(m),g=n(57),f=n(23),v=n(178),b=n(1847),y=n.n(b),C=function(){return r.a.createElement("svg",{className:y.a.DottedLine,x:"0px",y:"0px",width:"400px",height:"10",viewBox:"0 0 400 1"},r.a.createElement("line",{x1:"0",y1:"0.5",x2:"400",y2:"0.5"}))};t.a=i()(d()(function(e){var t=e.messages,n=e.isEmbeddedMessenger;return{message:t.first(),isEmbeddedMessenger:n}}),Object(p.b)(null,function(e){return Object(g.b)({markAsRead:f.x},e)}),l()({componentDidMount:function(){var e=this.props.message;!e.get("local")&&e.get("id")&&this.props.markAsRead({messageId:e.get("id")})}}))(function(e){var t=e.isEmbeddedMessenger,n=e.continuousBackgroundGradient;return r.a.createElement("div",{className:h()(y.a.SchedulingFlowHeading,{floating:t})},r.a.createElement(C,null),r.a.createElement("p",{className:y.a.SchedulingFlowHeadingCopy,style:t?n:null},r.a.createElement(o.b,v.a.scheduleAMeeting)))})},1850:function(e,t,n){e.exports={ConversationRatingCard:"UU51zpqDdJnxspoHqCgQr",ConversationRatingCardHeader:"b9EbJJlWdDanwbCwy29ea",ConversationRatingCardContent:"_37cOo7TC4b7L75kMUoro0P",ConversationRatingCardEmoji:"ofouADkc5GPjkNIZD3ayE",ConversationRatingCardText:"_3kYIQY2UjnM3jEm9LBTETI",ConversationRatingCardFooter:"eKbmoBVXiFdD7hVYoHuu-"}},1851:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(423),f=n.n(g),v=n(1850),b=n.n(v),y={1:"😠",2:"🙁",3:"😐",4:"😊",5:"😍"},C=function(e){function t(e){return s()(this,t),u()(this,(t.__proto__||r()(t)).call(this,e))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.theme,a=e.isEmbeddedMessenger,r=t.getIn(["attributes","conversationRating"]).toJS(),o=r.ratingValue,s=r.ratingText,i=t.getIn(["attributes","conversationRating","ratingPrompt"]).toJS(),c=i.ratingPromptMessage,l=i.ratingAcknowledgement;return h.a.createElement("div",{className:f()({ConversationRatingCardCLP:a})},h.a.createElement("div",{className:b.a.ConversationRatingCard},h.a.createElement("div",{className:b.a.ConversationRatingCardHeader,style:a?{}:{backgroundColor:"#"+n.backgroundColor,color:"#"+n.textColor}},c),h.a.createElement("div",{className:b.a.ConversationRatingCardContent},h.a.createElement("div",{className:b.a.ConversationRatingCardEmoji},y[o]),s&&h.a.createElement("div",{className:b.a.ConversationRatingCardText},s)),!a&&h.a.createElement("div",{className:b.a.ConversationRatingCardFooter},l)),a&&h.a.createElement("div",{className:b.a.ConversationRatingCardFooter},l))}}]),t}(m.Component);t.a=C},1852:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(249),g=n(294),f=n.n(g),v=n(1615),b=n(1681),y=n(1851),C=n(17),E=function(t){function n(e){return s()(this,n),u()(this,(n.__proto__||r()(n)).call(this,e))}return p()(n,t),c()(n,[{key:"render",value:function(){return e.createElement(y.a,this.props)}}]),n}(m.Component),T=f()(Object(h.b)(function(e,t){return{shouldRenderConversationRatingCard:Object(b.b)(e,t),theme:Object(C.t)(e)}},null),Object(v.branch)(function(e){return!e.shouldRenderConversationRatingCard},v.renderNothing));t.a=T(E)}).call(this,n(15))},1856:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});var a=n(24),r=n.n(a),o=n(42),s=n.n(o),i=n(47),c=n.n(i),l=n(1855),u=n.n(l),d=[{code:"AED",name:"United Arab Emirates dirham",places:2},{code:"AFN",name:"Afghanistan afghani",places:2},{code:"AMD",name:"Armenian dram",places:2},{code:"ANG",name:"Netherlands Antillean guilder",places:2},{code:"AOA",name:"Angola kwanza",places:2},{code:"ARS",name:"Argentine peso",places:2},{code:"AUD",name:"Australian dollar",places:2},{code:"AWG",name:"Aruban guilder",places:2},{code:"AZN",name:"Azerbaijanian manat",places:2},{code:"BAM",name:"Bosnia and Herzegovina convertible mark",places:2},{code:"BBD",name:"Barbados dollar",places:2},{code:"BDT",name:"Bangladeshi taka",places:2},{code:"BGN",name:"Bulgarian lev",places:2},{code:"BHD",name:"Bahraini dinar",places:3},{code:"BIF",name:"Burundian franc",places:0},{code:"BMD",name:"Bermuda dollar",places:2},{code:"BND",name:"Brunei dollar",places:2},{code:"BOB",name:"Bolivian boliviano",places:2},{code:"BRL",name:"Brazilian real",places:2},{code:"BSD",name:"Bahamian dollar",places:2},{code:"BWP",name:"Botswana pula",places:2},{code:"BYR",name:"Belarussian ruble",places:2},{code:"BYN",name:"Belarussian ruble",places:2},{code:"BZD",name:"Belize dollar",places:2},{code:"CAD",name:"Canadian dollar",places:2},{code:"CDF",name:"Congolese franc",places:2},{code:"CHF",name:"Swiss franc",places:2},{code:"CLP",name:"Chilean peso",places:0},{code:"CNY",name:"Chinese yuan renminbi",places:2},{code:"COP",name:"Columbian peso",places:2},{code:"CRC",name:"Costa Rican colon",places:2},{code:"CSK",name:"Czech koruna",places:2},{code:"CVE",name:"Cape Verde escudo",places:2},{code:"CZK",name:"Czech koruna",places:2},{code:"DJF",name:"Djiboutian franc",places:0},{code:"DKK",name:"Danish krone",places:2},{code:"DOP",name:"Dominican peso",places:2},{code:"DZD",name:"Algerian dinar",places:2},{code:"EGP",name:"Egyptian pound",places:2},{code:"ERN",name:"Eritrean nakfa",places:2},{code:"ETB",name:"Ethiopian birr",places:2},{code:"EUR",name:"Euro",places:2},{code:"FJD",name:"Fiji dollar",places:2},{code:"FKP",name:"Falkland Islands pound",places:2},{code:"GBP",name:"British pound sterling",places:2},{code:"GEL",name:"Georgian lari",places:2},{code:"GHS",name:"Ghana cedi",places:2},{code:"GIP",name:"Gibraltar pound",places:2},{code:"GMD",name:"Gambian dalasi",places:2},{code:"GNF",name:"Guinean franc",places:0},{code:"GTQ",name:"Guatemalan quetzal",places:2},{code:"GWP",name:"Guinea-Bissau peso",places:0},{code:"GYD",name:"Guyanese dollar",places:2},{code:"HKD",name:"Hong Kong dollar",places:2},{code:"HNL",name:"Hunduran Lempira",places:2},{code:"HRK",name:"Croatian kuna",places:2},{code:"HTG",name:"Haitian gourde",places:2},{code:"HUF",name:"Hungarian forint",places:2},{code:"IDR",name:"Indonesian rupiah",places:2},{code:"ILS",name:"Israeli sheqel",places:2},{code:"INR",name:"Indian rupee",places:2},{code:"IQD",name:"Iraqi dinar",places:3},{code:"ISK",name:"Icelandic krona",places:2},{code:"JMD",name:"Jamaican dollar",places:2},{code:"JOD",name:"Jordanian dinar",places:3},{code:"JPY",name:"Japanese yen",places:0},{code:"KES",name:"Kenyan shilling",places:2},{code:"KGS",name:"Kyrgyzstani som",places:2},{code:"KHR",name:"Cambodian riel",places:2},{code:"KMF",name:"Comoro franc",places:0},{code:"KRW",name:"South Korean won",places:0},{code:"KWD",name:"Kuwaiti dinar",places:3},{code:"KYD",name:"Cayman Islands dollar",places:2},{code:"KZT",name:"Kazakhstani tenge",places:2},{code:"LAK",name:"Lao kip",places:2},{code:"LBP",name:"Lebanese pound",places:2},{code:"LKR",name:"Sri Lanka rupee",places:2},{code:"LRD",name:"Liberian dollar",places:2},{code:"LSL",name:"Lesotho loti",places:2},{code:"LTL",name:"Lithuanian litas",places:2},{code:"LVL",name:"Latvian lats",places:2},{code:"MAD",name:"Moroccan dirham",places:2},{code:"MDL",name:"Moldovan leu",places:2},{code:"MGA",name:"Malagasy ariary",places:0},{code:"MKD",name:"Macedonian denar",places:2},{code:"MMK",name:"Myanmar kyat",places:2},{code:"MNT",name:"Mongolian tugrik",places:2},{code:"MOP",name:"Macanese pataca",places:2},{code:"MRO",name:"Mauritanian ouguiya",places:2},{code:"MUR",name:"Mauritius rupee",places:2},{code:"MVR",name:"Maldivian rufiyaa",places:2},{code:"MWK",name:"Malawian kwacha",places:2},{code:"MXN",name:"Mexican peso",places:2},{code:"MYR",name:"Malaysian ringgit",places:2},{code:"MZN",name:"Mozambican metical",places:2},{code:"NAD",name:"Namibian dollar",places:2},{code:"NGN",name:"Nigerian naira",places:2},{code:"NIO",name:"Cordoba oro",places:2},{code:"NOK",name:"Norwegian krone",places:2},{code:"NPR",name:"Nepalese rupee",places:2},{code:"NZD",name:"New Zealand dollar",places:2},{code:"OMR",name:"Omani rial",places:3},{code:"PAB",name:"Panamanian balboa",places:2},{code:"PEN",name:"Peruvian nuevo sol",places:2},{code:"PGK",name:"Papua New Guinean kina",places:2},{code:"PHP",name:"Philippine peso",places:2},{code:"PKR",name:"Pakistan rupee",places:2},{code:"PLN",name:"Polish zloty",places:2},{code:"PYG",name:"Paraguayan guarani",places:0},{code:"QAR",name:"Qatari rial",places:2},{code:"RON",name:"Romanian leu",places:2},{code:"RSD",name:"Serbian dinar",places:2},{code:"RUB",name:"Russian ruble",places:2},{code:"RWF",name:"Rwanda franc",places:0},{code:"SAR",name:"Saudi Arabian riyal",places:2},{code:"SBD",name:"Solomon Islands dollar",places:2},{code:"SCR",name:"Seychelles rupee",places:2},{code:"SEK",name:"Swedish krona",places:2},{code:"SGD",name:"Singapore dollar",places:2},{code:"SHP",name:"Saint Helena pound",places:2},{code:"SLL",name:"Sierra Leonean leone",places:2},{code:"SOS",name:"Somali shilling",places:2},{code:"SRD",name:"Surinamese dollar",places:2},{code:"SSP",name:"South Sudanese pound",places:2},{code:"STD",name:"Sao Tome and Principe dobra",places:2},{code:"SYP",name:"Syrian pound",places:2},{code:"SZL",name:"Swaziland lilangeni",places:2},{code:"THB",name:"Thai baht",places:2},{code:"TJS",name:"Tajikistani somoni",places:2},{code:"TND",name:"Tunisian dinar",places:3},{code:"TOP",name:"Tongan pa’anga",places:2},{code:"TRY",name:"Turkish lira",places:2},{code:"TTD",name:"Trinidad and Tobago dollar",places:2},{code:"TWD",name:"Taiwan dollar",places:2},{code:"TZS",name:"Tanzanian shilling",places:2},{code:"UAH",name:"Ukrainian hryvnia",places:2},{code:"UGX",name:"Ugandan shilling",places:2},{code:"USD",name:"United States dollar",places:2},{code:"UYU",name:"Uruguayan peso",places:2},{code:"UZS",name:"Uzbekistan som",places:2},{code:"VEF",name:"Venezuelan bolivar fuerte",places:2},{code:"VND",name:"Vietnamese dong",places:0},{code:"VUV",name:"Vanuatu vatu",places:0},{code:"WST",name:"Samoan tala",places:2},{code:"XAF",name:"CFA franc BEAC",places:0},{code:"XCD",name:"East Caribbean dollar",places:2},{code:"XOF",name:"CFA Franc BCEAO",places:0},{code:"XPF",name:"CFP franc",places:0},{code:"YER",name:"Yemeni rial",places:2},{code:"ZAR",name:"South African rand",places:2},{code:"ZMK",name:"Zambian kwacha",places:2},{code:"ZMW",name:"Zambian kwacha",places:2},{code:"ZWD",name:"Zimbabwean dollar",places:2}],p=function(e,t){var n=d.find(function(e){return e.code===t}).places,a="string"==typeof e?Number(e):e;return u()(a)?(console.warn("Could not transform "+e+" to a number"),e):window.Intl&&window.Intl.NumberFormat?new window.Intl.NumberFormat(window.Intl&&window.Intl.NumberFormat?window.Intl.NumberFormat().resolvedOptions().locale:window.navigator&&window.navigator.language?window.navigator.language:"",{style:"currency",currency:t}).format(a/Math.pow(10,n)):e/Math.pow(10,n)+" "+t},m=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new s.a(function(e,t){if(document.getElementById("DFTT_STRIPE_EMBED"))e();else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.id="DFTT_STRIPE_EMBED",n.src="https://js.stripe.com/v3/",document.body.appendChild(n),n.addEventListener("load",e),n.addEventListener("error",function(){return t(new Error("Stripe failed to load"))})}}));case 1:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},1857:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var a=n(112),r=function(e,t){return function(e){return function(e){return e.Transaction}(e).get("requestingCreateChargeStatus")}(e).get(t)},o=function(e,t){return r(e,t)===a.a},s=function(e,t){return r(e,t)===a.d},i=function(e,t){return r(e,t)===a.e},c=function(e,t){return r(e,t)===a.c},l=function(e,t){return r(e,t)===a.b}},1879:function(e,t,n){"use strict";(function(e){var a=n(24),r=n.n(a),o=n(47),s=n.n(o),i=n(156),c=n.n(i),l=n(144),u=n.n(l),d=n(199),p=n.n(d),m=n(198),h=n.n(m),g=n(197),f=n.n(g),v=n(15),b=n(249),y=n(57),C=n(3),E=n(294),T=n.n(E),P=n(1615),k=n(1659),w=n(23),I=n(61),M=n(328),O=n(142),S=n(1704),N=n(147),_=n(167),A=n(1857),j=n(50),B=n(1856),x=n(7),R=function(t){function n(e){var t=this;u()(this,n);var a=h()(this,(n.__proto__||c()(n)).call(this,e));return a.loadStripe=s()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.b)();case 2:n=!!window.Stripe,a.setState({stripeLoaded:n}),n||a.intermittentCheckStripe();case 5:case"end":return e.stop()}},e,t)})),a.intermittentCheckStripe=function(){a.stripeCheckInterval=setInterval(function(){window.Stripe&&(a.setState({stripeLoaded:!0}),clearInterval(a.stripeCheckInterval))},200)},a.handlePay=function(e){var t=e.token,n=a.props,r=n.messageId,o=n.transactionAmount,s=n.transactionCurrency;a.props.actions.createStripeCharge({stripeChargeToken:t,amount:o,currency:s,requestingMessageId:r})},a.handleStripePayFailure=function(e){console.log("TODO: handle stripe error",e)},a.handleBackButtonClick=function(){a.setState({currentStep:_.c.TRANSACTION_REVIEW_STEP})},a.handleClickPayStepButton=function(){a.setState({currentStep:_.c.TRANSACTION_PAY_STEP})},a.handleErrorRetryRequest=function(){console.log("TODO: handle error retry")},a.handleCancelButtonClick=function(e){e.preventDefault(),a.setState({currentStep:_.c.TRANSACTION_CANCELLED_STEP}),a.props.actions.createMessage({conversationId:a.props.conversationId,body:"",attributes:{requestPaymentResponse:"CANCELLED",requestPaymentOriginalMessageId:a.props.messageId}})},a.loadStripe(),a.state={currentStep:e.initialStep,history:Object(C.Stack)(),stripeLoaded:!1},a}return f()(n,t),p()(n,[{key:"componentDidUpdate",value:function(e){this.props.chargeConfirmed&&!e.chargeConfirmed&&this.setState({currentStep:_.c.TRANSACTION_CONFIRMED_STEP})}},{key:"componentDidMount",value:function(){this.props.actions.markAsRead({messageId:this.props.messageId}),this.props.stripePublicKeyNeverFetched&&this.props.actions.fetchStripePublicKey()}},{key:"render",value:function(){var t=this.props,n=t.itemImageUrl,a=t.itemTitle,r=t.itemDescription,o=t.formattedTransactionAmount,s=t.chargeSending,i=t.chargePending,c=t.chargeProcessing,l=t.chargeFailed,u=t.author,d=t.stripePublicKey,p=this.state,m=p.currentStep;return p.stripeLoaded&&window.Stripe&&d?e.createElement(k.StripeProvider,{apiKey:d},e.createElement(k.Elements,null,e.createElement(S.a,{step:m,handleBackButtonClick:this.handleBackButtonClick,handleErrorRetryRequest:this.handleErrorRetryRequest,handleCancelClick:this.handleCancelButtonClick,handleSubmit:this.handlePay,handleClickContinueButton:this.handleClickPayStepButton,handleStripePayFailure:this.handleStripePayFailure,formattedTransactionAmount:o,itemImageUrl:n,itemTitle:a,itemDescription:r,chargeSending:s,chargePending:i,chargeProcessing:c,chargeFailed:l,author:u}))):null}}]),n}(v.Component);R.propTypes={formattedTransactionAmount:v.PropTypes.string.isRequired,itemDescription:v.PropTypes.string,itemImageUrl:v.PropTypes.string,itemTitle:v.PropTypes.string,chargeConfirmed:v.PropTypes.bool,actions:v.PropTypes.shape({markAsRead:v.PropTypes.func})};var F=T()(Object(b.b)(function(e,t){var n=Object(N.n)(),a=Object(j.u)(),r=Object(N.m)(),o=a(e,t);if(!o)return{shouldRenderTransactionCard:!1};var s=o.getIn(["attributes","requestPayment"],"0"),i=o.getIn(["attributes","requestCurrency"],"USD"),c=o.getIn(["attributes","itemTitle"]),l=o.getIn(["attributes","itemDescription"]),u=o.getIn(["attributes","itemImageUrl"]),d=Object(B.a)(s,i),p=Object(x.z)(o.get("authorId"))(e)||{},m=e.Integration.stripe.publicKey,h=null===e.Integration.stripe.status;return{shouldRenderTransactionCard:n(e,t),message:o,formattedTransactionAmount:d,itemTitle:c,itemImageUrl:u,itemDescription:l,initialStep:r(e,t),transactionAmount:s,transactionCurrency:i,chargeSending:Object(A.e)(e,o.get("id")),chargePending:Object(A.c)(e,o.get("id")),chargeProcessing:Object(A.d)(e,o.get("id")),chargeFailed:Object(A.b)(e,o.get("id")),chargeConfirmed:Object(A.a)(e,o.get("id")),author:p,stripePublicKeyNeverFetched:h,stripePublicKey:m}},function(e){return{actions:Object(y.b)({markAsRead:w.x,createMessage:I.d,createStripeCharge:M.a,fetchStripePublicKey:O.a},e)}}),Object(P.branch)(function(e){return!e.shouldRenderTransactionCard},P.renderNothing));t.a=F(R)}).call(this,n(15))},1881:function(e,t,n){e.exports={"button-reset":"_2FYNTm1he93yxXavAmGSuD",BaseButton:"_3wbrM6B-FEHqjoJgQ3sZ2M _2FYNTm1he93yxXavAmGSuD",BaseButtonLabel:"_1BJ1zCiuMmvEBx24-GjHo7",Container:"KNiqR1D4pHbWvb1gcOaxw",SchedulingFlowCard:"_3CuSuV0l0jA1xjAwUL65A8",CardHeader:"eTx_QRq78PccaIR9Cf-CH",CardHeaderTitle:"_1hJ46q0Bxqjirp1JeKAEZH",CalendarCheckIcon:"pclK60G2ZEULbZxLJj9P-",CardContent:"Z3Cm-ndvHJf4tJS8hNN5f",SectionHeader:"wFa8vHxi8N8VcoWv4y6gB",SectionHeaderMenu:"_3DvtU_sonkCxCrqGWxhxsC",BackButton:"_1R5tjbilpsecEwNiBB_gNO _2FYNTm1he93yxXavAmGSuD",BackButtonIcon:"_26xa8GPdZLVhbAwpNi6Ciy",SectionHeading:"_3AleUkoeabC9s-0qvJN1c6",AgentInfo:"_388HevgIVi69q-9pJ6XPIp",AgentName:"_2fbBVSwfOn2UQExPYIvdfy",MultiAgentInfo:"_2tOOplhHKPClUEqz3I9pfV",MultiAgentAvatars:"X1oVWMmNRvy64GXV0jvkd",OptionLabel:"_2HLst1pamWQ_9Iaa-Ve1Vl",DateOption:"_3KlCUOWsR464QIwle5RsUB",DateOptionWeekday:"_1mWK2j4t7h7u5ikG6bPSbE",DateOptionDate:"_24PWN1UsHY7MBI3hbyQPGl",DateOptionRadio:"_3kRO6QbyyeB3YspHif6Fty",DateOptionsList:"EY32GEl3vcoJNsyyguYfR",TimeOption:"_2MjbhMh2ot65gxFxE1FgE8",TimeOptionLabel:"_1EwXaNT1EKVEQ0i_CiAToO",TimeOptionsList:"_2gHjjqQFSEIfXRaZSpirI-",FilterableTZList:"_2B1rSiN-dw6hMJCsIWOwhA",TZSearch:"_3VGuxLe8fZyUe5l4LIIUGG",TZOption:"_17PQ9PktK7AqkFknSkS_By",TZRegion:"_1zjuNo7eyVUlVweKqMvnbX",TZSearchInput:"_116jV85r_49oOQ_qKQogUx",TZRadio:"_2x4Ooy3t2zkV0yOA28Uiqm",AppointmentInfo:"_1GfHwsqwsANjckn37HXiVM",ConfirmButton:"_3JnI9mq0rR9B2qf-gTdsIk _2FYNTm1he93yxXavAmGSuD",ConfirmButtonLabel:"_2KPlMhPrZXytUF9ebHZ8m9",LinkButton:"_1fTRNlhVdsIjJmcNEUJcGZ _2FYNTm1he93yxXavAmGSuD",BaseOption:"_3CIlGanzxWLpVgvoyKWocv",BaseOptionLabel:"_2V6pNWZzvW4whjwx38l_8R",BaseOptionRadioInput:"_2ekK1dav7U2y3JZHx85nca",ThemedBaseOption:"g1OWcwCWtPoJAUrQq49bP",LoadingMessage:"_1lL-WeQqg3DcdWo5Pgomdv",ErrorMessage:"_1F_PE7aNWV7PvOwulDcCLK",ErrorMessageCopy:"-W7I80NIsu3pEzupF1don",ErrorRetryButton:"_16ZNqjZpsJQj1UoWw2Gnss",PaginationControls:"_1JVVGfXZfGQWjvCoYloTV9"}},1882:function(e,t){e.exports='<svg width="54" height="50" xmlns="http://www.w3.org/2000/svg"><defs><filter x="-38.7%" y="-38.2%" width="177.4%" height="176.4%" filterUnits="objectBoundingBox" id="a"><feGaussianBlur stdDeviation="3.984" in="SourceGraphic"></feGaussianBlur></filter></defs><g fill="none" fill-rule="evenodd"><path d="M26.154 3.991h2.36c1.312 0 2.374 1.085 2.374 2.425v5.091H0V6.417C0 5.076 1.067 3.99 2.38 3.99h2.356V1.683c0-.68.543-1.236 1.209-1.236.665 0 1.21.556 1.21 1.236v2.308h16.581V1.683c0-.68.544-1.236 1.21-1.236.664 0 1.209.556 1.209 1.236v2.308zm4.734 11.368v13.938c0 1.34-1.061 2.424-2.373 2.424H2.38C1.067 31.721 0 30.637 0 29.297V11.508h30.865l.023 3.851z" fill="#B4C3D8" filter="url(#a)" transform="translate(11 9)"></path><path d="M41.888 23.59v13.938c0 1.34-1.061 2.424-2.373 2.424H13.38c-1.312 0-2.379-1.084-2.379-2.424V19.74h30.865l.023 3.851z" fill="#FFF"></path><path d="M28.325 31.66l.013-7.318a1 1 0 0 0-1.002-1.001l-1.08.001a1 1 0 0 0-.999.999l-.013 7.317a1 1 0 0 0 1.002 1.002l1.081-.002a1 1 0 0 0 .998-.998zM28.331 35.664l.001-.66a1 1 0 0 0-1.002-1.002l-1.08.002a1 1 0 0 0-.999.998v.66a1 1 0 0 0 1 1.003l1.082-.002a1 1 0 0 0 .998-.999z" fill="#394F5A"></path><path d="M41.888 17.806v2.29H11v-5.092c0-1.34 1.067-2.424 2.379-2.424H39.514c1.312 0 2.374 1.084 2.374 2.424v2.802z" fill="#B5D2E1"></path><path d="M17.042 16.326c-.665 0-1.209-.557-1.209-1.237v-4.853c0-.68.544-1.236 1.21-1.236.664 0 1.209.556 1.209 1.236v4.853c0 .68-.545 1.237-1.21 1.237M35.935 16.326c-.665 0-1.21-.557-1.21-1.237v-4.853c0-.68.545-1.236 1.21-1.236.665 0 1.21.556 1.21 1.236v4.853c0 .68-.545 1.237-1.21 1.237" fill="#FFF"></path><path d="M27 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM3 24a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM53 18a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" stroke="#B5D2E1" stroke-width="1.68" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 8.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M43 3.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M49 31.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0" fill="#B5D2E1"></path></g></svg>'},1883:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 24 24"><path d="M22 24H2c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4V1c0-.55.45-1 1-1s1 .45 1 1v1h8V1c0-.55.45-1 1-1s1 .45 1 1v1h4c1.1 0 2 .9 2 2v18c0 1.1-.9 2-2 2zM18 4v1c0 .55-.45 1-1 1s-1-.45-1-1V4H8v1c0 .55-.45 1-1 1s-1-.45-1-1V4H2v18h20V4h-4zm-6.4 13.65c-.18.22-.45.34-.73.35h-.02c-.28 0-.54-.1-.73-.3l-2.85-3.03c-.38-.4-.36-1.03.04-1.4.43-.4 1.06-.37 1.44.03l2.08 2.2 4.44-5.15c.36-.42 1-.47 1.4-.1.43.35.48.98.12 1.4l-5.16 6z" class="icon-calendar-check"></path></svg>'},1884:function(e,t){e.exports='<svg width="16" height="26" viewBox="0 0 16 26" xmlns="http://www.w3.org/2000/svg"><path d="M1.575 11.4c-.874.872-.88 2.286-.015 3.168l9.67 9.844c.87.886 2.295.9 3.182.028.886-.87.9-2.295.028-3.182l-8.1-8.286 8.085-8.045c.88-.878.88-2.302.002-3.182-.878-.88-2.302-.88-3.182-.002L1.575 11.4z" fill-rule="evenodd"></path></svg>'},1885:function(e,t,n){"use strict";(function(e){var a=n(18),r=n.n(a),o=n(11),s=n.n(o),i=n(4),c=n.n(i),l=n(200),u=n.n(l),d=n(156),p=n.n(d),m=n(144),h=n.n(m),g=n(199),f=n.n(g),v=n(198),b=n.n(v),y=n(197),C=n.n(y),E=n(15),T=n(249),P=n(33),k=n(423),w=n.n(k),I=n(1519),M=n.n(I),O=n(3),S=n(238),N=n.n(S),_=n(1531),A=n.n(_),j=n(294),B=n.n(j),x=n(1688),R=n.n(x),F=n(1534),D=n.n(F),L=n(1636),H=n.n(L),U=n(1556),z=n.n(U),V=n(1687),q=n.n(V),W=n(1634),Z=n.n(W),G=n(1662),K=n.n(G),Y=n(1616),J=n.n(Y),Q=n(1533),X=n(45),$=n(68),ee=n(1522),te=n(1523),ne=n(178),ae=n(326),re=n(1536),oe=n(520),se=n(1884),ie=n.n(se),ce=n(1883),le=n.n(ce),ue=n(1882),de=n.n(ue),pe=n(1881),me=n.n(pe),he=function(t){var n=t.timeZone;return oe.a[n]?e.createElement("span",null,oe.a[n].label):e.createElement("span",null,n)},ge=B()(q.a,K()(function(e){var t=e.value;return{value:N()(t)}}),A()(function(e){return e.timeZone},K()(function(e){var t=e.value,n=e.timeZone;return{value:t.tz(n)}})),A()(function(e){return e.format},K()(function(e){var t=e.value,n=e.format;return{value:t.format(n)}})))(function(t){var n=t.value;return e.createElement("span",null,n)}),fe=function(t){var n=t.className,a=t.children;return e.createElement("div",{className:w()(me.a.Container,n)},a)},ve=function(t){function n(){return h()(this,n),b()(this,(n.__proto__||p()(n)).apply(this,arguments))}return C()(n,t),f()(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.buttonElement.focus()}},{key:"render",value:function(){var t=this,n=this.props,a=n.children,r=u()(n,["children"]);return e.createElement("button",c()({},r,{ref:function(e){t.buttonElement=e}}),a)}}]),n}(E.Component),be=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return e.isEmbeddedMessenger},K()(function(){return{activeColor:"rgba(34,34,34,0.80)"}}),Object(ee.a)(["activeColor"])),z()(function(e){var t=e.activeColor,n=e.style,a=void 0===n?{}:n,r=u()(e,["activeColor","style"]);return c()({},r,{style:c()({},a,{color:t,backgroundColor:t})})}))(function(t){var n=t.className,a=t.children,r=u()(t,["className","children"]);return e.createElement("button",c()({},r,{className:w()(me.a.BaseButton,n),type:"button"}),e.createElement("span",{className:me.a.BaseButtonLabel},a))}),ye=function(t){var n=t.children,a=u()(t,["children"]);return e.createElement(be,c()({},a,{className:me.a.ErrorRetryButton}),n)},Ce=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return!e.isEmbeddedMessenger},B()(Object(ee.a)(["backgroundColor"]),H()("backgroundColor","color"))))(Q.a),Ee=function(){return e.createElement("div",{className:me.a.LoadingMessage},e.createElement(Ce,{size:"large",color:"rgba(34,34,34,0.80)"}))},Te=function(t){var n=t.onRetry,a=t.errorMessage,r=t.agent;return e.createElement("div",{className:me.a.ErrorMessage},e.createElement(M.a,{src:de.a}),e.createElement("div",{className:me.a.ErrorMessageCopy},a?e.createElement(P.b,c()({},Object(ae.d)(a),{values:{name:r.name}})):e.createElement(P.b,ne.a.scheduleAMeetingError)),e.createElement(ye,{onClick:n},e.createElement(P.b,ne.a.chooseNewTime)))},Pe=function(t){var n=t.children;return e.createElement(fe,{className:me.a.OptionLabel},n)},ke=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return e.isEmbeddedMessenger},K()(function(){return{activeColor:"#0176FF"}}),Object(ee.a)(["activeColor"])),z()(function(e){var t=e.activeColor,n=e.style,a=u()(e,["activeColor","style"]);return c()({},a,{style:c()({},n,{color:t})})}))(function(t){var n=t.children,a=t.className,r=u()(t,["children","className"]);return e.createElement(ve,c()({},r,{type:"button",className:w()(me.a.LinkButton,a)}),n)}),we=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return e.isEmbeddedMessenger},K()(function(){return{color:"#0176FF"}}),B()(Object(ee.a)(["activeColor"]),H()("activeColor","color"))),z()(function(e){var t=e.color,n=e.style,a=void 0===n?{}:n,r=u()(e,["color","style"]);return c()({},r,{style:c()({},a,{color:t})})}))(function(t){return e.createElement(ve,c()({},t,{className:me.a.BackButton,type:"button",title:"Back"}),e.createElement("div",null,e.createElement(M.a,{raw:!0,className:me.a.BackButtonIcon,src:ie.a})))}),Ie=function(t){var n=t.children;return e.createElement(fe,null,e.createElement("div",{className:me.a.SectionHeader},n))},Me=function(t){var n=t.children;return e.createElement("div",{className:me.a.SectionHeading},n)},Oe=function(t){var n=t.date,a=t.timeZone;return e.createElement(Me,null,e.createElement(ge,{value:n,timeZone:a,format:"dddd LL"}))},Se=function(t){var n=t.value,a=void 0===n?new Date:n,r=t.checked,o=void 0!==r&&r,s=t.onChange,i=t.timeZone,l=u()(t,["value","checked","onChange","timeZone"]);return e.createElement(_e,c()({},l,{className:me.a.TimeOption,value:a,onChange:s,checked:o}),e.createElement("div",{className:me.a.TimeOptionLabel},e.createElement(ge,{value:a,timeZone:i,format:"LT"})))},Ne=function(t){var n=t.className,a=t.value,r=t.onChange,o=t.children,s=u()(t,["className","value","onChange","children"]);return e.createElement(ve,c()({},s,{className:w()(me.a.BaseOption,n),onClick:function(){return r(a)}}),e.createElement("div",{className:me.a.BaseOptionLabel},o))},_e=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return e.isEmbeddedMessenger},z()(function(e){var t=e.className,n=u()(e,["className"]);return c()({},n,{className:w()(me.a.ThemedBaseOption,t,"floating")})}),B()(Object(ee.a)(["activeColor"]),z()(function(e){var t=e.activeColor,n=e.style,a=void 0===n?{}:n,r=u()(e,["activeColor","style"]);return c()({},r,{style:c()({},a,{color:t})})}),z()(function(e){var t=e.className,n=u()(e,["className"]);return c()({},n,{className:w()(me.a.ThemedBaseOption,t)})}))))(Ne),Ae=function(t){var n=t.value,a=t.onChange,r=t.selected,o=void 0!==r&&r,s=t.timeZone,i=u()(t,["value","onChange","selected","timeZone"]);return e.createElement(_e,c()({},i,{className:me.a.DateOption,value:n,onChange:a,checked:o}),e.createElement("span",{className:me.a.DateOptionWeekday},e.createElement(ge,{value:n,timeZone:s,format:"dddd"})),e.createElement("span",{className:me.a.DateOptionDate},e.createElement(ge,{value:n,timeZone:s,format:"LL"})))},je=B()(Z()({step:3,data:Object(O.OrderedSet)()}),R()("state","setState",{value:0,navigated:!1}),D()({onChange:function(e){return function(t){return function(){e.setState({value:e.state.value+t,navigated:!0})}}}}),K()(function(e){var t=e.step,n=e.data,a=e.state,r=a.value;return{focusFirstItem:a.navigated,slice:n.slice(r*t,(r+1)*t),showPrev:0!==r,showNext:r+1<Math.ceil(n.size/t)}}),J()({componentWillUpdate:function(e){e.onRequestMoreData&&this.props.value<e.value&&!e.data.isEmpty()&&!e.showNext&&e.onRequestMoreData()}}))(function(t){var n=t.slice,a=t.showNext,r=t.showPrev,o=t.onChange,s=t.Builder,i=t.focusFirstItem;return e.createElement("div",null,e.createElement("div",null,e.createElement(s,{data:n,focusFirstItem:i})),e.createElement("div",{className:me.a.PaginationControls},r&&e.createElement(ke,{"aria-label":"previous",onClick:o(-1)},e.createElement(P.b,ne.a.prev)),e.createElement("div",null),a&&e.createElement(ke,{value:1,onClick:o(1)},e.createElement(P.b,ne.a.next))))}),Be=function(t){var n=t.value,a=t.onChange,r=t.placeholder;return e.createElement("label",{className:me.a.TZSearch},e.createElement("input",{className:me.a.TZSearchInput,type:"text",value:n,onChange:a,placeholder:r,autoComplete:"off"}))},xe=function(t){function n(){var e,t,a,r;h()(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=a=b()(this,(e=n.__proto__||p()(n)).call.apply(e,[this].concat(s))),a.state={searchValue:""},a.handleSearchValueChange=function(e){a.setState({searchValue:e.target.value})},r=t,b()(a,r)}return C()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.onChange,a=t.value,r=t.intl,o=this.state.searchValue,s=o.toLowerCase();return e.createElement("div",{className:me.a.FilterableTZList},e.createElement(Be,{value:o,onChange:this.handleSearchValueChange,placeholder:r.formatMessage(ne.a.searchTimeZones)}),oe.c.map(function(t){var r=t.zones.filter(function(e){return-1!==e.label.toLowerCase().indexOf(s)});if(r.length>0)return e.createElement("div",{key:t.name+"-container"},e.createElement("div",{className:me.a.TZRegion,key:t.name},t.name),r.map(function(t){return e.createElement(Le,{key:t.value,value:t.value,label:t.label,checked:t.value===a,onChange:n})}))}))}}]),n}(E.Component);xe.propTypes={value:E.PropTypes.string,onChange:E.PropTypes.func,intl:P.j.isRequired};var Re=Object(P.i)(xe),Fe=function(t){var n=t.focusOnMount,a=t.onClick,r=t.timeZone;return e.createElement(ke,{focusOnMount:n,onClick:a,style:{textAlign:"right"}},e.createElement(he,{timeZone:r}))},De=function(t){var n=t.start,a=void 0===n?new Date:n,r=t.end,o=void 0===r?new Date:r,s=t.timeZone,i=void 0===s?Object(oe.b)():s;return e.createElement("div",{className:me.a.AppointmentInfo},e.createElement("div",null,e.createElement(ge,{value:a,timeZone:i,format:"LT"}),"—",e.createElement(ge,{value:o,timeZone:i,format:"LT"})),e.createElement("div",null,e.createElement(ge,{value:a,timeZone:i,format:"dddd, LL"})),e.createElement("div",null,e.createElement(he,{timeZone:i})))},Le=function(t){var n,a=t.value,r=t.label,o=t.checked,i=t.onChange;return e.createElement(Ne,{className:w()((n={},s()(n,me.a.TZOption,!0),s()(n,me.a.TZOption__Checked,!!o),n)),value:a,checked:o,onChange:i},r)},He=function(t){var n=t.agents;return e.createElement("div",{className:me.a.MultiAgentInfo},e.createElement("div",{className:me.a.MultiAgentAvatars},n.map(function(t){return e.createElement(re.a,{user:t,showInitials:!0,key:t.id})})),e.createElement("span",{className:me.a.AgentName},n?n[0].name+" and "+(n.length-1)+" "+function(e,t){return e>=2?t+"s":t}(n.length-1,"other"):null))},Ue=function(t){var n=t.agents;if(n.length>1)return e.createElement(He,{agents:n});var a=n[0];return e.createElement("div",{className:me.a.AgentInfo},e.createElement("div",null,e.createElement(re.a,{showInitials:!0,user:a})),e.createElement("span",{className:me.a.AgentName},a?a.name:null))},ze=Object(P.i)(function(t){var n=t.value,a=t.intl;return e.createElement("span",null,n&&Object(ae.b)(n,a))}),Ve=function(t){return e.createElement(M.a,c()({},t,{raw:!0,className:me.a.CalendarCheckIcon,src:le.a}))},qe=B()(Object(T.b)(function(e){return{isEmbeddedMessenger:Object(X.h)(e)}}),A()(function(e){return!!e.isEmbeddedMessenger},K()(function(){return{backgroundColor:"#FAFAFA",color:"#000000",borderBottom:"1px solid #EEEEEE"}}),B()(Object(ee.a)(["backgroundColor","textColor"]),H()("textColor","color"))))(function(t){var n=t.slotDuration,a=t.color,r=t.backgroundColor,o=t.borderBottom;return e.createElement("div",{className:me.a.CardHeader,style:{backgroundColor:r,color:a,borderBottom:o}},e.createElement("div",{className:me.a.CardHeaderTitle},e.createElement(Ve,null),e.createElement(P.b,ne.a.scheduleAMeeting)),e.createElement(ze,{value:n}))}),We=function(t){function n(){var e,t,a,r;h()(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=a=b()(this,(e=n.__proto__||p()(n)).call.apply(e,[this].concat(s))),a.scrollToTop=function(){a._nodeRef&&(a._nodeRef.scrollTop=0)},a.handleWheel=function(e){e.stopPropagation()},r=t,b()(a,r)}return C()(n,t),f()(n,[{key:"render",value:function(){var t=this,n=this.props.children;return e.createElement("div",{ref:function(e){t._nodeRef=e},className:me.a.CardContent,onWheel:this.handleWheel},n)}}]),n}(E.Component);We.propTypes={children:E.PropTypes.node};var Ze=function(t){var n=t.children;return e.createElement("div",{className:me.a.SchedulingFlowCard},n)},Ge=function(t){var n=t.children,a=t.onClick;return e.createElement(be,{className:me.a.ConfirmButton,onClick:a},n)},Ke=function(t){var n=t.agents,a=t.onChange,r=t.dates,o=void 0===r?Object(O.Set)():r,s=t.timeZone,i=t.onTimeZoneButtonClick,c=t.onRequestMoreAvailability,l=t.shouldFocusContent;return e.createElement("div",null,e.createElement(Ie,null,e.createElement(Ue,{agents:n})),e.createElement(Pe,null,e.createElement("span",null,e.createElement(P.b,ne.a.selectADay)),e.createElement("span",null,e.createElement(Fe,{focusOnMount:l,timeZone:s,onClick:i}))),e.createElement(je,{data:o,step:3,onRequestMoreData:c,Builder:function(t){var n=t.timeZone,a=t.onChange;return function(t){var r=t.data,o=t.focusFirstItem;return e.createElement("div",{className:me.a.DateOptionsList},r.map(function(t,r){return e.createElement(Ae,{focusOnMount:0===r&&o,key:r+"-"+t,value:t,timeZone:n,onChange:a})}))}}({timeZone:s,onChange:a})}))},Ye=function(t){var n=t.date,a=void 0===n?new Date:n,r=t.times,o=void 0===r?Object(O.Set)():r,s=t.timeZone,i=void 0===s?Object(oe.b)():s,c=t.onBackButtonClick,l=t.onTimeZoneButtonClick,u=t.onChange,d=t.value;return e.createElement("div",null,e.createElement(Ie,null,e.createElement("div",{className:me.a.SectionHeaderMenu},e.createElement(we,{focusOnMount:!0,onClick:c})),e.createElement(Oe,{date:a,timeZone:i})),e.createElement(Pe,null,e.createElement("span",null,e.createElement(P.b,ne.a.selectATime)),e.createElement("span",null,e.createElement(Fe,{timeZone:i,onClick:l}))),e.createElement(je,{data:o.toList(),step:6,Builder:function(t){var n=t.timeZone,a=t.value,r=t.onChange;return function(t){var o=t.data,s=t.focusFirstItem;return e.createElement("div",{className:me.a.TimeOptionsList},o.map(function(t,o){return e.createElement(Se,{focusOnMount:0===o&&s,key:o+"-"+t,value:t,timeZone:n,checked:a===t,onChange:r})}))}}({value:d,timeZone:i,onChange:u})}))},Je=function(t){function n(){return h()(this,n),b()(this,(n.__proto__||p()(n)).apply(this,arguments))}return C()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.value,a=void 0===n?Object(oe.b)():n,r=t.onBackButtonClick,o=t.onChange;return e.createElement("div",null,e.createElement(Ie,null,e.createElement("div",{className:me.a.SectionHeaderMenu},e.createElement(we,{focusOnMount:!0,onClick:r})),e.createElement(Me,null,e.createElement(P.b,ne.a.timeZone))),e.createElement(Re,{value:a,onChange:o}))}}]),n}(E.Component),Qe=function(t){function n(){return h()(this,n),b()(this,(n.__proto__||p()(n)).apply(this,arguments))}return C()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.agents,a=t.start,r=t.end,o=t.timeZone,s=t.onBackButtonClick,i=t.onSubmit,c=t.isPending,l=void 0!==c&&c,u=t.isSuccess,d=void 0!==u&&u,p=t.showBranding;return e.createElement("div",null,e.createElement(Ie,null,e.createElement("div",{className:me.a.SectionHeaderMenu},!d&&e.createElement(we,{focusOnMount:!0,onClick:s,disabled:l})),e.createElement(Ue,{agents:n})),e.createElement(fe,null,e.createElement(De,{start:a,end:r,timeZone:o})),!d&&e.createElement(fe,null,e.createElement(Ge,{disabled:l,onClick:i},e.createElement(P.b,ne.a.schedule))),d&&p&&e.createElement(fe,null,e.createElement(te.a,{className:"flex-center scheduling-card-context",message:ne.a.meetingPoweredBy,utmContent:$.j.SCHEDULING_CARD})))}}]),n}(E.Component),Xe=function(t){function n(){var e,t,a,r;h()(this,n);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=a=b()(this,(e=n.__proto__||p()(n)).call.apply(e,[this].concat(s))),a.state={hasNavigated:!1},r=t,b()(a,r)}return C()(n,t),f()(n,[{key:"componentDidUpdate",value:function(e){e.step!==this.props.step&&this._contentRef.scrollToTop()}},{key:"componentWillReceiveProps",value:function(e){e.step===this.props.step||this.state.hasNavigated||this.setState({hasNavigated:!0})}},{key:"render",value:function(){var t=this,n=this.props,a=n.agent,o=n.step,s=n.availableDates,i=n.availabilitySlots,c=n.slotDuration,l=n.selectedDate,u=n.selectedSlot,d=n.selectedTimeZoneName,p=n.showBranding,m=n.onDateChange,h=n.onTimeChange,g=n.onTimeZoneChange,f=n.onBackButtonClick,v=n.onTimeZoneButtonClick,b=n.onSubmit,y=n.onRequestMoreAvailability,C=n.submitSuccess,E=n.isPending,T=n.error,P=n.errorMessage,k=n.onErrorRetryRequest,w=n.enrichedAdditionalAgents,I=void 0;if(E)I=e.createElement(Ee,null);else if(T)I=e.createElement(Te,{agent:a,onRetry:k,errorMessage:P});else switch(o){case"DATE_STEP":I=e.createElement(Ke,{shouldFocusContent:this.state.hasNavigated,agents:[a].concat(r()(w)),onChange:m,dates:s,timeZone:d,onTimeZoneButtonClick:v,onRequestMoreAvailability:y});break;case"TIME_STEP":I=e.createElement(Ye,{date:l,times:i,timeZone:d,onChange:h,onTimeZoneButtonClick:v,onBackButtonClick:f});break;case"TZ_STEP":I=e.createElement(Je,{value:d,onChange:g,onBackButtonClick:f});break;case"SUBMIT_STEP":I=e.createElement(Qe,{agents:[a].concat(r()(w)),start:u,end:u+Object(ae.f)(c),timeZone:d,onBackButtonClick:f,onSubmit:b,submitPending:E,isSuccess:C,showBranding:p});break;default:throw new Error('Unrecognized step "'+o+'"')}return e.createElement(Ze,null,e.createElement(qe,{slotDuration:c}),e.createElement(We,{ref:function(e){t._contentRef=e}},I))}}]),n}(E.Component);Xe.propTypes={agent:E.PropTypes.object,step:E.PropTypes.oneOf(["DATE_STEP","TIME_STEP","TZ_STEP","SUBMIT_STEP"]),shouldFocusContent:E.PropTypes.bool,availableDates:E.PropTypes.object,availabilitySlots:E.PropTypes.object,additionalAgents:E.PropTypes.object,submitPending:E.PropTypes.bool,hasSubmitted:E.PropTypes.bool,onStepChange:E.PropTypes.func,onBackButtonClick:E.PropTypes.func,onErrorRetryRequest:E.PropTypes.func,onRequestMoreAvailability:E.PropTypes.func,onDateChange:E.PropTypes.func,onTimeChange:E.PropTypes.func,onTimeZoneChange:E.PropTypes.func,onSubmit:E.PropTypes.func},Xe.defaultProps={agent:null,availableDates:Object(O.Set)(),appointmentSlots:Object(O.Set)(),step:"DATE_STEP",submitPending:!1,hasSubmitted:!1},t.a=Xe}).call(this,n(15))},1886:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(249),g=n(57),f=n(3),v=n(294),b=n.n(v),y=n(1535),C=n.n(y),E=n(1531),T=n.n(E),P=n(1556),k=n.n(P),w=n(238),I=n.n(w),M=n(23),O=n(1885),S=n(186),N=n(166),_=n(1699),A=n(520),j=function(e){return e.appointment&&e.appointment.availabilitySlot?"SUBMIT_STEP":"DATE_STEP"},B=function(t){function n(e){s()(this,n);var t=u()(this,(n.__proto__||r()(n)).call(this,e));x.call(t);var a=e.appointment&&e.appointment.endUserTimeZone||e.defaultTimeZoneName;return t.state={currentStep:j(e),history:Object(f.Stack)(),selectedTimeZoneName:a,selectedDate:null,selectedSlot:e.appointment&&e.appointment.availabilitySlot||null,availabilitySlotsByDate:t.computeAvailabilitySlotsByDate(e.availabilityInfo.slots,a)},t}return p()(n,t),c()(n,[{key:"computeAvailabilitySlotsByDate",value:function(e,t){return e.groupBy(function(e){return I.a.tz(e,t).startOf("day").valueOf()})}},{key:"computeAvailability",value:function(e){var t=this;this.setState(function(n){return{availabilitySlotsByDate:t.computeAvailabilitySlotsByDate(e,n.selectedTimeZoneName)}})}},{key:"computeSelectedDate",value:function(e,t,n){var a=I.a.tz.zone(t).utcOffset(e),r=I.a.tz.zone(n).utcOffset(e);return I()(e).add(r-a,"minutes")}},{key:"componentDidMount",value:function(){this.props.appointment||this.props.actions.fetchAgentAvailability(this.props.agentId,{meetingType:this.props.meetingType,additionalAgents:this.props.additionalAgents,conversationId:this.props.conversationId,meetingSource:this.props.meetingSource}),this.props.actions.markAsRead({messageId:this.props.messageId})}},{key:"componentWillReceiveProps",value:function(e){e.availabilityInfo.slots.equals(this.props.availabilityInfo.slots)||this.computeAvailability(e.availabilityInfo.slots)}},{key:"render",value:function(){var t=this.props,n=t.agent,a=t.availabilityInfo,r=t.availabilityFetchStatus,o=t.scheduleAppointmentFetchStatus,s=t.appointment,i=t.showBranding,c=t.shouldFocusContent,l=t.additionalAgents,u=t.enrichedAdditionalAgents,d=this.state,p=d.currentStep,m=d.selectedDate,h=d.selectedSlot,g=d.selectedTimeZoneName,v=d.availabilitySlotsByDate,b=s&&s.availabilitySlot,y=s&&s.slotDuration||a.slotDuration,C=v.keySeq().toList(),E=v.get(m,Object(f.Set)()),T=!b&&(v.isEmpty()&&r.pending||o.pending),P=!b&&(r.error||o.error),k=P&&o.message;return e.createElement(O.a,{agent:n,additionalAgents:l,enrichedAdditionalAgents:u,step:p,shouldFocusContent:c,selectedDate:m,selectedSlot:h,selectedTimeZoneName:g,slotDuration:y,availableDates:C,availabilitySlots:E,onDateChange:this.handleDateChange,onTimeChange:this.handleTimeChange,onTimeZoneChange:this.handleTimeZoneChange,onTimeZoneButtonClick:this.handleTimeZoneButtonClick,onBackButtonClick:this.handleBackButtonClick,onErrorRetryRequest:this.handleErrorRetryRequest,onSubmit:this.handleSubmit,onRequestMoreAvailability:this.handleRequestMoreAvailability,isPending:T,submitSuccess:b,error:P,errorMessage:k,showBranding:i})}}]),n}(m.Component);B.propTypes={agentId:m.PropTypes.number,bookingAgentId:m.PropTypes.number,meetingType:m.PropTypes.string,meetingSource:m.PropTypes.string,messageId:m.PropTypes.number,conversationId:m.PropTypes.number,showBranding:m.PropTypes.bool,bookedByUserId:m.PropTypes.number,actions:m.PropTypes.object,agent:m.PropTypes.object,appointment:m.PropTypes.object,availabilityInfo:m.PropTypes.object,defaultTimeZoneName:m.PropTypes.string,availabilityFetchStatus:m.PropTypes.object,scheduleAppointmentFetchStatus:m.PropTypes.object},B.defaultProps={availabilityInfo:new N.a,defaultTimeZoneName:Object(A.b)()};var x=function(){var e=this;this.handleTimeZoneChange=function(t){var n=e.computeAvailabilitySlotsByDate(e.props.availabilityInfo.slots,t);e.setState(function(a){var r=e.computeSelectedDate(a.selectedDate,a.selectedTimeZoneName,t),o=n.get(r,Object(f.Set)());return{selectedTimeZoneName:t,availabilitySlotsByDate:n,selectedDate:o.isEmpty()?null:r,currentStep:o.isEmpty()?"DATE_STEP":a.history.peek(),history:a.history.pop()}})},this.handleTimeChange=function(t){var n=parseInt(t,10);e.setState(function(e){return{selectedSlot:n,currentStep:"SUBMIT_STEP",history:e.history.push(e.currentStep)}})},this.handleDateChange=function(t){var n=parseInt(t,10);e.setState(function(e){return{selectedDate:n,currentStep:"TIME_STEP",history:e.history.push(e.currentStep)}})},this.handleSubmit=function(){e.props.actions.scheduleAppointment({additionalAgents:e.props.additionalAgents,conversationId:e.props.conversationId,agentId:e.props.agentId,bookingAgentId:e.props.bookingAgentId,availabilitySlot:e.state.selectedSlot,slotDuration:e.props.availabilityInfo.slotDuration,agentTimeZone:e.props.availabilityInfo.agentTimeZone,endUserTimeZone:e.state.selectedTimeZoneName,meetingType:e.props.meetingType,meetingSource:e.props.meetingSource,bookedByUserId:e.props.bookedByUserId})},this.handleTimeZoneButtonClick=function(){e.setState(function(e){return{currentStep:"TZ_STEP",history:e.history.push(e.currentStep)}})},this.handleBackButtonClick=function(){e.setState(function(e){return{currentStep:e.history.peek(),history:e.history.pop()}})},this.handleErrorRetryRequest=function(){e.props.availabilityFetchStatus.error?e.props.actions.fetchAgentAvailability(e.props.agentId,{meetingType:e.props.meetingType,additionalAgents:e.props.additionalAgents,conversationId:e.props.conversationId,meetingSource:e.props.meetingSource}):e.props.scheduleAppointmentFetchStatus.error&&(e.props.actions.scheduleAppointmentReset({agentId:e.props.agentId}),e.setState(function(e){return{currentStep:"DATE_STEP",history:e.history.push(e.currentStep)}}))},this.handleRequestMoreAvailability=function(){var t=e.props,n=t.availabilityFetchStatus,a=t.meetingType,r=t.agentId,o=t.availabilityInfo,s=t.additionalAgents;n.pending||e.props.actions.fetchAgentAvailability(r,{meetingType:a,start:o.nextRequestStartFrom,additionalAgents:s,conversationId:e.props.conversationId,meetingSource:e.props.meetingSource})}},R=b()(Object(h.b)(function(){var e=Object(_.g)(),t=Object(_.i)(),n=Object(_.a)(),a=Object(_.c)(),r=Object(_.f)(),o=Object(_.e)(),s=Object(_.b)(),i=Object(_.h)();return function(c,l){return{shouldRenderSchedulingCard:t(c,l),agentId:n(c,l),bookingAgentId:a(c,l),meetingType:r(c,l),meetingSource:o(c,l),additionalAgents:e(c,l),enrichedAdditionalAgents:i(c,l),bookedByUserId:s(c,l)}}}),T()(function(e){return!e.shouldRenderSchedulingCard},C.a,Object(h.b)(_.d,function(e){return{actions:Object(g.b)({markAsRead:M.x,fetchAgentAvailability:S.a,scheduleAppointment:S.d,scheduleAppointmentReset:S.f},e)}})),k()(function(e){return e}));t.a=R(B)}).call(this,n(15))},1888:function(e,t,n){e.exports={LinkCard:"BZrglS3c9vP7JRKEo7Cpe"}},1889:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(3),g=n(423),f=n.n(g),v=n(294),b=n.n(v),y=n(1522),C=n(1547),E=n.n(C),T=n(1888),P=n.n(T),k=["GIPHY"],w=function(t){function n(){var e,t,a,o;s()(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=a=u()(this,(e=n.__proto__||r()(n)).call.apply(e,[this].concat(c))),a.state={expanded:!1,hideThumbnail:!1},a.handleExpandClick=function(e){e.preventDefault(),a.setState({expanded:!0}),a.titleElement.focus()},a.handleImageError=function(){a.setState({hideThumbnail:!0})},o=t,u()(a,o)}return p()(n,t),c()(n,[{key:"renderBody",value:function(){var t=this.props.card,n=this.state.hideThumbnail,a=t.data.getPrimaryRel();if("player"===a)return e.createElement("div",{style:{overflow:"hidden"},dangerouslySetInnerHTML:{__html:t.data.html}});if("summary"===a){var r=t.data.links.get("thumbnail",Object(h.List)()).first();if(r&&!n){var o=r.getIn(["media","width"])/r.getIn(["media","height"])>1.05?"thumbnail-landscape":"thumbnail-square";return e.createElement("div",{className:"flex-center "+o,"aria-hidden":"true"},e.createElement("a",{href:t.data.url,target:"_blank"},e.createElement("img",{src:r.get("href"),onError:this.handleImageError})))}}}},{key:"renderDescription",value:function(){var t=this.props.card.data.meta.description,n=t.length>200;return this.state.expanded||!n?e.createElement(E.a,{properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},t):e.createElement("span",null,t.substring(0,200),"... ",e.createElement("button",{onClick:this.handleExpandClick},"read more"))}},{key:"render",value:function(){var t=this,n=this.props,a=n.card,r=n.activeColor,o=a.data.getPrimaryRel(),s=a.data.links.get("icon",Object(h.List)()).filter(function(e){return e.getIn(["media","width"],0)>=16}).sortBy(function(e){return e.getIn(["media","width"],0)}).first();return e.createElement("div",{className:f()(P.a.LinkCard,o)},this.renderBody(),!k.includes(a.data.meta.site)&&e.createElement("div",{className:"info"},e.createElement("div",{className:"title",style:{color:r}},e.createElement("a",{ref:function(e){t.titleElement=e},href:a.data.url,target:"_blank","aria-label":a.data.meta.title},a.data.meta.title)),a.data.meta.description&&e.createElement("div",{className:"description"},this.renderDescription()),a.data.meta.site&&e.createElement("div",{className:"site"},s&&e.createElement("div",{style:{backgroundImage:"url("+s.get("href")+")",backgroundSize:"contain",backgroundRepeat:"none",width:"16px",height:"16px",marginRight:"5px"}}),a.data.meta.site)))}}]),n}(m.Component);w.propTypes={card:m.PropTypes.object.isRequired,activeColor:m.PropTypes.string},t.a=b()(Object(y.a)(["activeColor"]))(w)}).call(this,n(15))},1892:function(e,t,n){e.exports={RotatingAvatar:"_2Vlp7p2d9AyXpeqr17k0LG"}},1893:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(3),f=n(1536),v=n(1892),b=n.n(v),y=function(e){function t(){var e,n,a,o;s()(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=a=u()(this,(e=t.__proto__||r()(t)).call.apply(e,[this].concat(c))),a.state={tick:0},a.handleTick=function(){a.setState(function(e){return{tick:e.tick+1}})},o=n,u()(a,o)}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){window&&(this.intervalId=window.setInterval(this.handleTick,this.props.delay))}},{key:"componentWillUnmount",value:function(){window&&window.clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props.users,t=e.get(this.state.tick%e.size);return h.a.createElement("div",{className:b.a.RotatingAvatar},h.a.createElement(f.a,{user:g.Map.isMap(t)?t.toObject():t}))}}]),t}(m.Component);y.propTypes={users:m.PropTypes.object,delay:m.PropTypes.number},y.defaultProps={users:Object(g.List)(),delay:2e3},t.a=y},1894:function(e,t){e.exports='<svg viewBox="0 0 82 60" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 9.35C0 4.2 4.14 0 9.26 0H72.5c5.12 0 9.27 4.2 9.27 9.35v40.53c0 5.17-4.14 9.36-9.26 9.36H9.28c-5.1 0-9.26-4.2-9.26-9.36V9.35zm9.25-4.67h63.27c2.55 0 4.62 2.08 4.62 4.67V49.9c0 2.57-2.07 4.66-4.62 4.66H9.25c-2.55 0-4.62-2.08-4.62-4.67V9.33c0-2.58 2.07-4.67 4.62-4.67z"></path><path d="M34.67 32.86L2.4 10.56c-.9-.62-1.13-1.86-.52-2.76.6-.9 1.98-2 2.88-1.37l32.27 22.3c2.43 1.68 5.57 1.68 8 0L77.3 6.43c.9-.62 1.97.46 2.58 1.37.62.9.4 2.14-.5 2.76L47.1 32.86c-1.88 1.3-4.05 1.96-6.2 1.96-2.18 0-4.35-.65-6.23-1.96z"></path></g></svg>'},1896:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(200),s=n.n(o),i=n(57),c=n(33),l=n(249),u=n(294),d=n.n(u),p=n(1556),m=n.n(p),h=n(1672),g=n.n(h),f=n(178),v=n(1522),b=n(1669),y=n(165),C=n(23),E=n(5),T=d()(c.i,m()(function(e){var t=e.intl,n=s()(e,["intl"]);return r()({},n,{requiredFieldErrorCopy:t.formatMessage(f.a.requiredField),invalidEmailErrorCopy:t.formatMessage(f.a.invalidEmail)})}));t.a=d()(Object(v.a)(["activeColor","backgroundColor","foregroundColor"]),g()({foregroundColor:"color"}),Object(l.b)(function(e){return{anonymousId:e.Bootstrap.anonymousId,orgId:e.Bootstrap.orgId,integrations:e.Integration,messageContext:Object(E.s)(e)}},function(e){return Object(i.b)({identifyLead:y.e,requestCreateConversationEvent:C.I},e)}),T)(b.a)},1897:function(e,t,n){"use strict";var a=n(1693);n.d(t,"b",function(){return a.a});var r=n(1691);n.d(t,"a",function(){return r.a});n(1669)},1898:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(200),s=n.n(o),i=n(15),c=n(249),l=n(294),u=n.n(l),d=n(1672),p=n.n(d),m=n(1897),h=n(147),g=n(1522),f=function(e){return{name:e,type:"LEAD",socialProfile:{}}},v=function(t){var n=t.backgroundColor,a=t.color,r=t.emailCaptureMessage,o=t.hasIdentified,i=t.sender,c=t.defaultSender,l=t.createdAt,u=t.conversationId,d=s()(t,["backgroundColor","color","emailCaptureMessage","hasIdentified","sender","defaultSender","createdAt","conversationId"]);return e.createElement("div",d,e.createElement(m.a,{sender:i||c,emailCaptureMessage:r,createdAt:l}),e.createElement(m.b,{backgroundColor:n,color:a,hasIdentified:o,conversationId:u}))};v.propTypes=r()({backgroundColor:i.PropTypes.string.isRequired,color:i.PropTypes.string.isRequired,emailCaptureMessage:i.PropTypes.string,hasIdentified:i.PropTypes.bool.isRequired,sender:i.PropTypes.object.isRequired,createdAt:i.PropTypes.number.isRequired,conversationId:i.PropTypes.any.isRequired},"sender",i.PropTypes.object),t.a=u()(Object(g.a)(["activeColor","textColor"]),p()({activeColor:"backgroundColor",textColor:"color"}),Object(c.b)(function(e){var t=e.Bootstrap.embedConfiguration,n=t.theme,a=t.organizationName;return{emailCaptureMessage:n.emailCaptureMessage||void 0,hasIdentified:e.Event.hasIdentified,defaultSender:Object(h.g)(e)||f(a)}},function(){return{}}))(v)}).call(this,n(15))},1906:function(e,t){e.exports='<svg class="spinner" viewBox="0 0 50 50"><circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle></svg>'},1908:function(e,t,n){},1913:function(e,t,n){"use strict";(function(e){var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n(512),g=n(249),f=n(57),v=n(3),b=n(423),y=n.n(b),C=n(1539),E=n.n(C),T=n(145),P=n(1694),k=n(504),w=n(9),I=n(1537),M=n(1898),O=n(1689),S=n(1680),N=n(61),_=n(69),A=n(1826),j=n(1824),B=n(1700),x=n(1821),R=n(1701),F=n(7),D=n(5),L=n(50),H=n(34),U=n(23),z=n(1811),V=n(519),q=n(395),W=n(25),Z=n(524),G=n(68),K=n(45),Y=n(1681),J=n(27),Q=n(1810),X=n(187),$=n(202),ee=n(126),te=n(270),ne=n(1809),ae=n.n(ne),re=26214400,oe=5e3,se=54e5,ie=function(t){function n(t){s()(this,n);var a=u()(this,(n.__proto__||r()(n)).call(this,t));return a.trackActivePlaybookImpression=function(){var e=a.props,t=e.actions,n=e.firstMessageIdInConversation,r=e.campaignId;t.trackImpression({source:$.b.ACTIVE_PLAYBOOK,campaignId:r}),t.removeTriggerablePlaybookImpression({source:$.a.ACTIVE,messageId:n})},a.trackPassivePlaybookImpression=function(){var e=a.props,t=e.actions,n=e.firstMessageIdInConversation,r=e.campaignId;t.trackImpression({source:$.b.PASSIVE_PLAYBOOK,campaignId:r}),t.removeTriggerablePlaybookImpression({source:$.a.PASSIVE,messageId:n})},a.scrollToBottom=function(){var e=Object(h.findDOMNode)(a.messagesNode);e&&(e.scrollTop=e.scrollHeight)},a.shouldLoadAdditionalMessages=function(e){var t=e.clientHeight,n=e.scrollTop,r=e.scrollHeight;return!(!a.props.hasAdditionalMessagesToLoad||!a.props.conversationId||a.props.isMessageFetchPending)&&(t>0&&n/r<.1)},a.handleWheel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(h.findDOMNode)(a.messagesNode);t&&(e.deltaY<0&&a.shouldLoadAdditionalMessages(t)&&(a.setState({lastScrollHeight:t.scrollHeight}),a.props.actions.fetchMessages(a.props.conversationId)))},a.handleScrollForAdditionalMessages=function(){var e=Object(h.findDOMNode)(a.messagesNode);e&&(e.scrollTop+=e.scrollHeight-a.state.lastScrollHeight)},a.handleComposerChange=Object(k.a)(function(e){e?a.props.actions.endUserTyping({conversationId:a.props.conversationId}):a.props.actions.endUserTypingFinished({conversationId:a.props.conversationId})},oe),a.sendMessage=function(e,t){return a.props.actions.createMessage({conversationId:a.props.conversationId,body:e,attachments:t})},a.onComposerSubmit=function(e){a.sendMessage(e),a.handleComposerChange.cancel(),a.props.actions.endUserTypingFinished({conversationId:a.props.conversationId})},a.onUploadAttachment=function(e){var t=a.props.conversationId;if(e&&!(e.length<1)){var n=function(e){e&&e.payload&&e.payload.id&&a.sendMessage("",[e.payload.id])};e.map(function(e){return e.size>re?a.props.actions.attachmentTooLarge():function(e){return a.props.actions.uploadAttachment(t,e)}(e).then(n)})}},a.getEmailCaptureSender=function(e){var t=e.findIndex(function(e){return e.get("messages").first().get("authorType")===_.a.USER});if(-1===t)return null;var n=e.get(t).get("messages");return n&&n.count()&&n.first().get("sender")?n.first().get("sender").toObject():null},a.shouldHideMessageGroup=function(e){return e.get&&e.get("messages").find(function(e){return e.getIn&&(e.getIn(["attributes","show_email_capture_card"],!1)||e.getIn(["attributes","ratingPrompt"],!1)||e.getIn(["attributes","goalReached"],!1)&&""===e.get("body")||e.getIn(["attributes","requestPaymentOriginalMessageId"],!1)||e.getIn(["attributes",J.f],!1)||e.getIn(["attributes",J.g],!1))})},a.renderMessages=function(){var t=a.props.groupedMessages.map(function(e){return Object(v.Map)({key:"mg:"+(e.first().getIn(["attributes","widgetGuid"])||e.first().get("id")),firstCreatedAt:e.first().get("createdAt"),lastCreatedAt:e.last().get("createdAt"),messages:e})});if(a.shouldRenderIdentifyCard()){var n=t.findIndex(function(e){var t=e.get("messages").first().get("authorType");return t===_.a.END_USER||t===_.a.LEAD});if(-1!==n){var r=a.getEmailCaptureSender(t),o=t.get(n);if(o.get("messages").count()>1){var s=o.get("messages").first(),i=o.get("messages").rest();t=t.splice(n,1,Object(v.Map)({key:"mg:"+(s.getIn(["attributes","widgetGuid"])||s.get("id")),firstCreatedAt:s.get("createdAt"),lastCreatedAt:s.get("createdAt"),messages:v.List.of(s)}),Object(v.Map)({key:"mg:"+(s.getIn(["attributes","widgetGuid"])||s.get("id"))+"-emailcapture",firstCreatedAt:s.get("createdAt"),lastCreatedAt:s.get("createdAt"),messages:v.List.of(a.renderIdentifyCard(r)),raw:!0}),Object(v.Map)({key:"mg:"+(i.first().getIn(["attributes","widgetGuid"])||i.first().get("id")),firstCreatedAt:i.first().get("createdAt"),lastCreatedAt:i.last().get("createdAt"),messages:i}))}else{var c=o.get("messages").first();t=t.insert(n+1,Object(v.Map)({key:"mg:"+(c.getIn(["attributes","widgetGuid"])||c.get("id"))+"-emailcapture",firstCreatedAt:c.get("createdAt"),lastCreatedAt:c.get("createdAt"),messages:v.List.of(a.renderIdentifyCard(r)),raw:!0}))}}}var l=a.props.messages.some(function(e){return e.getIn(["attributes","conversationStartedByEndUser"])});return t.reduce(function(n,r,o,s){if(a.shouldHideMessageGroup(r))return n;if(r.get("raw"))return n.concat(r.get("messages"));var i=void 0,c=o>0&&s.getIn([o-1,"lastCreatedAt"])||Date.now(),u=r.get("firstCreatedAt");Math.abs(c-u)>se&&(i=e.createElement("div",{className:ae.a.TimestampHeader,key:"db:"+r.get("key",u)},e.createElement(j.a,{colorMode:a.props.colorMode,value:u,isEmbeddedMessenger:a.props.isEmbeddedMessenger})));var d=l&&0===o,p=e.createElement(O.a,{key:r.get("key"),conversationId:a.props.conversationId,messages:r.get("messages"),isStartConversationPrompt:d,isLastMessageGroup:o===t.size-1,lastAgentResponseAt:a.props.lastAgentResponseAt,scrollTo:a.scrollToBottom});return i?n.push(v.List.of(i,p)):n.push(v.List.of(p))},Object(v.List)())},a.submitConversationRating=function(e){var t=e.ratingValue,n=e.ratingText,r=a.props.messages,o=r.last().get("conversationId"),s=r.last().getIn(["attributes","ratingPrompt"],null);a.props.actions.submitRating({conversationId:o,ratingText:n,ratingValue:t,ratingPrompt:s})},a.dismissConversationRating=function(){a.setState({dismissedConversationRating:!0})},a.handleComposerMeasured=function(e){var t=e.height;a.setState({composerHeight:t})},a.state={composerHeight:null,lastScrollHeight:0},a}return p()(n,t),c()(n,[{key:"componentDidMount",value:function(){Object(h.findDOMNode)(this.messagesNode)&&Object(T.b)()&&window.addEventListener("resize",this.scrollToBottom),this.props.isPassivePlaybookImpression&&this.trackPassivePlaybookImpression(),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActivePlaybookImpression,a=t.firstMessageIdInConversation;e.isMessageFetchPending&&!this.props.isMessageFetchPending?this.handleScrollForAdditionalMessages():e.isMessageFetchPending||this.props.isMessageFetchPending||this.scrollToBottom(),e.firstMessageIdInConversation!==a&&n&&this.trackActivePlaybookImpression()}},{key:"shouldRenderIdentifyCard",value:function(){return this.props.shouldShowIdentifyCard&&!this.getConversationFetchIsPending()&&this.props.messages.size>0&&!this.props.messages.first().get("local",!1)}},{key:"shouldRenderConversationRating",value:function(){var e=this.state.dismissedConversationRating,t=this.props,n=t.messages,a=t.hasConversationRatingGate,r=t.isAnyHeldForDelay;return a&&!e&&this.props.messages.size>0&&n.last().getIn(["attributes","ratingPrompt"],!1)&&!r}},{key:"renderIdentifyCard",value:function(t){var n=this.props,a=n.conversationId,r=n.messages;return 0===r.size?null:e.createElement(M.a,{sender:t,key:"IdentifyCard-"+a,conversationId:a,createdAt:r.first().get("createdAt")})}},{key:"getConversationFetchIsPending",value:function(){var e=this.props,t=e.conversation,n=e.conversationIsFetched;return!(t.get("local",!1)||n)}},{key:"render",value:function(){var t=this,n=this.state.composerHeight,a=this.props,r=a.conversation,o=a.conversationId,s=a.showBranding,i=a.organizationName,c=a.isAway,l=a.offlineMessageCopy,u=a.conversationLastDriftUser,d=a.connectionStatus,p=a.hasHideOfflineHeaderGate,m=a.lastAgentResponseAt,h=a.isButtonOnlyQuestion,g=a.theme,f=a.isEmbeddedMessenger,v=a.continuousBackgroundGradient,b=a.isHypergrowthTheme,C=a.isConversationPermaclosed,k=a.messages,w=a.view,M=a.hasStartedVideoCampaign,O=a.isDriftVideoMode;if(!r)return null;var N=!M&&this.getConversationFetchIsPending(),_=!N&&c&&Date.now()-m>3e5;return e.createElement("div",{className:y()("Conversation",{floating:f,mobile:Object(T.d)()}),style:f?v:null},f&&!O&&e.createElement(S.a,{isEmbeddedMessenger:f,theme:g}),e.createElement("div",{className:"messages",style:{backgroundColor:f?"transparent":"#"+g.widgetBackgroundColor,maxHeight:f&&!Object(T.d)()&&n?"calc(100% - "+n+"px)":void 0},ref:function(e){t.messagesNode=e},onWheel:this.handleWheel,"aria-live":"polite","aria-relevant":"additions text",role:"log"},e.createElement("div",{className:"messages-content-wrapper",style:{marginTop:f&&b&&!Object(T.d)()?135:void 0}},N&&e.createElement("div",{className:"flex-center",style:{height:"100%"}},e.createElement(P.a,null)),!N&&e.createElement("div",null,this.renderMessages(),e.createElement(B.a,{scrollTo:this.scrollToBottom})),_&&!p&&e.createElement(x.a,null),e.createElement(A.a,{conversationId:o,onChange:this.scrollToBottom}))),this.shouldRenderConversationRating()&&e.createElement(E.a,{onMeasure:this.handleComposerMeasured,whitelist:["width","height"]},e.createElement(R.a,{onDismiss:this.dismissConversationRating,botName:u.name,message:k.last(),submitRating:this.submitConversationRating,theme:g,isEmbeddedMessenger:f})),(!this.shouldRenderConversationRating()&&f||!f)&&e.createElement(E.a,{onMeasure:this.handleComposerMeasured,whitelist:["width","height"]},e.createElement(I.a,{shouldRenderConversationRating:function(){return t.shouldRenderConversationRating()},onSubmit:this.onComposerSubmit,onChange:this.handleComposerChange,onUploadAttachment:this.onUploadAttachment,conversation:r,conversationLastDriftUser:u,showBranding:s,organizationName:i,isAway:c,offlineMessageCopy:l,connectionStatus:d,autoFocus:!Object(T.b)(),disabled:!!N||!!h||!!C,disabledPrompt:h||C,isConversationPermaclosed:C,utmContent:w})))}}]),n}(m.Component);ie.propTypes={conversationId:m.PropTypes.any,conversation:m.PropTypes.object,conversationLastDriftUser:m.PropTypes.object,showBranding:m.PropTypes.bool,organizationName:m.PropTypes.string.isRequired,isAway:m.PropTypes.bool,offlineMessageCopy:m.PropTypes.string,messages:m.PropTypes.instanceOf(v.OrderedSet),groupedMessages:m.PropTypes.instanceOf(v.List),driftUsersById:m.PropTypes.object,attachmentsById:m.PropTypes.object,shouldShowIdentifyCard:m.PropTypes.bool,connectionStatus:m.PropTypes.string,conversationIsFetched:m.PropTypes.bool,lastAgentResponseAt:m.PropTypes.number,isButtonOnlyQuestion:m.PropTypes.bool,actions:m.PropTypes.shape({uploadAttachment:m.PropTypes.func.isRequired,createMessage:m.PropTypes.func.isRequired,endUserTyping:m.PropTypes.func.isRequired,endUserTypingFinished:m.PropTypes.func.isRequired}),theme:m.PropTypes.shape({backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string,textColor:m.PropTypes.string,activeColor:m.PropTypes.string,widgetBackgroundColor:m.PropTypes.string,widgetHalfHeight:m.PropTypes.bool})},ie.defaultProps={groupedMessages:Object(v.List)()};t.a=Object(g.b)(function(){var e=Object(z.a)(),t=Object(L.v)(),n=Object(L.m)(),a=Object(L.o)(),r=Object(L.n)(),o=Object(L.p)(),s=Object(L.r)(),i=Object(H.x)(),c=Object(L.q)();return function(l,u){var d=n(l,u);if(!d)return{};var p=d.get("id",void 0),m=Object(L.e)(l,p),h=Object(X.f)(l,{messageId:m,source:$.a.ACTIVE}),g=Object(X.f)(l,{messageId:m,source:$.a.PASSIVE}),f=t(l,u),v=f.first().getIn(["attributes","startInteraction"],null),b=v?Object(te.a)(v)(l):null,y=Object(w.a)(b,"id",void 0),C=Object(F.A)(l),E=l.Attachment.attachmentsById,T=c(l),P=void 0;return P=Object(K.h)(l)?G.j.LANDING_PAGE:T?G.j.CONVERSATION_COMPOSER_BOT:G.j.CONVERSATION_COMPOSER_ORGANIC,{conversation:d,conversationId:p,conversationLastDriftUser:a(l,u),showBranding:l.Bootstrap.embedConfiguration.showBranding,organizationName:l.Bootstrap.embedConfiguration.organizationName,isAway:!Object(F.t)(l),view:P,messages:f,driftUsersById:C,attachmentsById:E,shouldShowIdentifyCard:e(l,u),connectionStatus:Object(D.h)(l),conversationIsFetched:r(l,u),groupedMessages:o(l,u),lastAgentResponseAt:s(l,u),isButtonOnlyQuestion:i(l,u),isEmbeddedMessenger:Object(K.h)(l,u),continuousBackgroundGradient:Object(K.d)(l),isHypergrowthTheme:Object(K.n)(l),locale:Object(D.r)(l),isConversationPermaclosed:Object(L.b)(l,d.get("id")),hasConversationRatingGate:Object(Y.a)(l),isAnyHeldForDelay:Object(H.i)(l),colorMode:Object(K.c)(l),hasStartedVideoCampaign:Object(Q.a)(l),isDriftVideoMode:Object(F.s)(l),hasAdditionalMessagesToLoad:Object(H.p)(l,p),isMessageFetchPending:Object(H.w)(l),hasHideOfflineHeaderGate:Object(D.n)("has_hide_offline_header")(l),isActivePlaybookImpression:h,isPassivePlaybookImpression:g,firstMessageIdInConversation:m,campaignId:y}}},function(e){return{actions:Object(f.b)({uploadAttachment:V.c,attachmentTooLarge:V.a,createMessage:N.d,endUserTyping:q.a,endUserTypingFinished:q.b,trackImpression:W.f,submitRating:Z.b,fetchMessages:U.q,removeTriggerablePlaybookImpression:ee.j},e)}})(ie)}).call(this,n(15))},1915:function(e,t,n){e.exports={ConversationListContainer:"_2rrEOGdBxK80K18DLhivYl",ConversationList:"_2I2_82eb2Vas3Wt04fA0rd",ConversationListHalfHeight:"bxc0p6AK7As0EQ1xfTHdf",ConversationListEmpty:"_2nH8B3mAPpT9TL3U_bs1Lr",ConversationListBranding:"_1itnVkACH8hJb2XKCA1Eqv"}},1916:function(e,t,n){e.exports=n.p+"static/images/951ec4ce2ced8824070a233e889fc95a.svg"},1918:function(e,t,n){e.exports={ConversationListItem:"_6xzcxI3eyfhrannXMgTze",ConversationListItem__media:"_1LeY9mVXL7JZlFfS47Lk_c",ConversationListItem__content:"_1n_-0oBCOx-U76ZiFaPpi1",ConversationListItem__metadata:"c-Rjowup4BDei1n_iiRrn",ConversationListItem__name:"_1S_4DRrCwt_9ALEPi_crj_",ConversationListItem__timestamp:"_3t2edw3XhIvYtZ3YLppLnP",ConversationListItem__preview:"_2L-sgKVa1443FiArEBNJWV",UnreadCountBadgeContainer:"_3VwiPmVztDDqnQRoP96kxj"}},1919:function(e,t,n){"use strict";var a=n(156),r=n.n(a),o=n(144),s=n.n(o),i=n(199),c=n.n(i),l=n(198),u=n.n(l),d=n(197),p=n.n(d),m=n(15),h=n.n(m),g=n(33),f=n(201),v=n.n(f),b=n(1536),y=n(1607),C=n(1918),E=Object(g.h)({personalPronoun:{id:"app.user.personalPronoun",description:"Second-person personal pronoun for the current user",defaultMessage:"You"}}),T=function(e){var t=e.sender,n=e.organizationName;if(!t)return h.a.createElement("div",{className:C.ConversationListItem__name},n);var a=t.name||t.email||h.a.createElement(g.b,E.personalPronoun);return h.a.createElement("div",{className:C.ConversationListItem__name},a)};T.propTypes={sender:m.PropTypes.shape({name:m.PropTypes.string,type:m.PropTypes.string,email:m.PropTypes.string}),organizationName:m.PropTypes.string};var P=function(e){var t=e.timestamp,n=void 0;if(t){var a=v()(t),r=v()(),o=v()().subtract(1,"day");n=a.isSame(r,"day")?h.a.createElement(g.e,{value:a}):a.isSame(o,"day")?h.a.createElement(g.d,{value:o,units:"day"}):h.a.createElement(g.a,{value:a})}return h.a.createElement("div",{className:C.ConversationListItem__timestamp,title:t},n)};P.propTypes={timestamp:m.PropTypes.number};var k=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.isFirstConversation&&this.listItem.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.lastMessage,a=t.lastMessageSender,r=t.unreadMessageCount,o=t.organizationName,s=t.backgroundColor,i=t.onClick;return n?h.a.createElement("button",{ref:function(t){e.listItem=t},className:C.ConversationListItem,onClick:i},h.a.createElement("div",{className:C.ConversationListItem__media},h.a.createElement(b.a,{user:a,color:s,size:"large",shape:"circle"}),h.a.createElement("div",{className:C.UnreadCountBadgeContainer},h.a.createElement(y.a,{count:r}))),h.a.createElement("div",{className:C.ConversationListItem__content},h.a.createElement("div",{className:C.ConversationListItem__metadata+" flex"},h.a.createElement(T,{sender:a,organizationName:o}),h.a.createElement(P,{timestamp:n.get("createdAt")})),h.a.createElement("div",{className:C.ConversationListItem__preview},n.getIn(["attributes","preview"])))):null}}]),t}(m.Component);k.propTypes={lastMessage:m.PropTypes.object,lastMessageSender:m.PropTypes.object,unreadMessageCount:m.PropTypes.number,organizationName:m.PropTypes.string,backgroundColor:m.PropTypes.string,isFirstConversation:m.PropTypes.bool,onClick:m.PropTypes.func},t.a=k},1920:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(249),v=n(294),b=n.n(v),y=n(1919),C=n(50),E=n(1522),T=function(t){function n(){var e,t,a,r;c()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(i))),a.onClick=function(){a.props.onClick&&a.props.onClick(a.props.conversationId)},r=t,p()(a,r)}return h()(n,t),u()(n,[{key:"render",value:function(){return e.createElement(y.a,r()({},this.props,{onClick:this.onClick}))}}]),n}(g.Component);T.propTypes={conversationId:g.PropTypes.node,lastMessage:g.PropTypes.object,lastMessageSender:g.PropTypes.object,unreadMessageCount:g.PropTypes.number,organizationName:g.PropTypes.string,onClick:g.PropTypes.func};t.a=b()(Object(E.a)(["backgroundColor"]),Object(f.b)(function(){var e=Object(C.s)(),t=Object(C.t)(e),n=Object(C.w)();return function(a,r){return{lastMessage:e(a,r),lastMessageSender:t(a,r),unreadMessageCount:n(a,r),organizationName:a.Bootstrap.embedConfiguration.organizationName}}}))(T)}).call(this,n(15))},1921:function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(423),v=n.n(f),b=n(1920),y=n(1523),C=n(1609),E=n(1916),T=n.n(E),P=n(1915),k=function(t){function n(){var e,t,a,r;c()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(i))),a.state={listOverflowing:!1},a.handleWheel=function(e){var t=a.elem;t&&(e.deltaY<0&&0===t.scrollTop&&e.preventDefault(),e.deltaY>0&&t.clientHeight+t.scrollTop+e.deltaY>=t.scrollHeight&&(t.scrollTop=t.scrollHeight,e.preventDefault()))},r=t,p()(a,r)}return h()(n,t),u()(n,[{key:"componentDidMount",value:function(){this.checkListOverflow()}},{key:"checkListOverflow",value:function(){var e=this.elem;e&&this.setState({listOverflowing:e.offsetHeight<e.scrollHeight})}},{key:"renderList",value:function(){var t=this,n=this.props,a=n.theme,o=n.conversations,s=n.onConversationClick;return e.createElement("div",{className:v()(P.ConversationList,r()({},P.ConversationListHalfHeight,a.widgetHalfHeight)),style:{backgroundColor:"#"+a.widgetBackgroundColor},ref:function(e){t.elem=e},onWheel:this.handleWheel},o.map(function(t,n){return e.createElement(b.a,{key:t.get("id"),conversationId:t.get("id"),onClick:s,isFirstConversation:0===n})}))}},{key:"renderEmpty",value:function(){var t=this.props,n=t.onNewConversationClick,a=t.theme,r=t.organizationName;return e.createElement("div",{className:P.ConversationListEmpty},e.createElement("img",{src:T.a}),e.createElement("p",null,"You don’t have any conversations with ",r," yet!"),e.createElement(C.a,{onClick:n,ariaLabel:"Click to start a new conversation",style:{backgroundColor:"#"+a.backgroundColor,color:"#"+a.textColor,borderColor:"#"+a.backgroundColor}},"Start a Conversation"))}},{key:"render",value:function(){var t=this.props,n=t.view,a=t.conversations,r=t.showBranding,o=this.state.listOverflowing;return e.createElement("div",{className:P.ConversationListContainer},a.isEmpty()?this.renderEmpty():this.renderList(),r&&e.createElement("div",{className:v()(P.ConversationListBranding,{"show-shadow":o})},e.createElement(y.a,{utmContent:n})))}}]),n}(g.Component);k.propTypes={conversations:g.PropTypes.object.isRequired,onConversationClick:g.PropTypes.func,showBranding:g.PropTypes.bool.isRequired,theme:g.PropTypes.shape({backgroundColor:g.PropTypes.string,foregroundColor:g.PropTypes.string,textColor:g.PropTypes.string,activeColor:g.PropTypes.string,widgetBackgroundColor:g.PropTypes.string,widgetHalfHeight:g.PropTypes.bool})},t.a=k}).call(this,n(15))},1922:function(e,t,n){"use strict";(function(e){var a=n(4),r=n.n(a),o=n(156),s=n.n(o),i=n(144),c=n.n(i),l=n(199),u=n.n(l),d=n(198),p=n.n(d),m=n(197),h=n.n(m),g=n(15),f=n(249),v=n(57),b=n(1921),y=n(61),C=n(78),E=n(50),T=n(17),P=n(68),k=function(t){function n(){var e,t,a,r;c()(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=p()(this,(e=n.__proto__||s()(n)).call.apply(e,[this].concat(i))),a.handleConversationClick=function(e){a.props.actions.goToConversation(e)},a.handleNewConversationClick=function(){a.props.actions.goToNewConversation({autoFocus:!0})},r=t,p()(a,r)}return h()(n,t),u()(n,[{key:"render",value:function(){return e.createElement(b.a,r()({onConversationClick:this.handleConversationClick,onNewConversationClick:this.handleNewConversationClick},this.props))}}]),n}(g.Component);k.propTypes={conversations:g.PropTypes.object,actions:g.PropTypes.shape({goToConversation:g.PropTypes.func.isRequired}).isRequired};t.a=Object(f.b)(function(e){var t=Object(E.c)(e);return{conversations:t,showBranding:Object(T.s)(e),view:t.isEmpty()?P.j.CONVERSATION_LIST_EMPTY:P.j.CONVERSATION_LIST}},function(e){return{actions:Object(v.b)({goToConversation:y.f,goToNewConversation:C.goToNewConversation},e)}})(k)}).call(this,n(15))}}]);